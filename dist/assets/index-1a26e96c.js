(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function iy(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const It={},pa=[],xr=()=>{},ND=()=>!1,CD=/^on[^a-z]/,Dh=e=>CD.test(e),oy=e=>e.startsWith("onUpdate:"),zt=Object.assign,sy=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},OD=Object.prototype.hasOwnProperty,Ze=(e,t)=>OD.call(e,t),Oe=Array.isArray,ma=e=>Bc(e)==="[object Map]",Lh=e=>Bc(e)==="[object Set]",HE=e=>Bc(e)==="[object Date]",qe=e=>typeof e=="function",Bt=e=>typeof e=="string",dc=e=>typeof e=="symbol",mt=e=>e!==null&&typeof e=="object",p1=e=>mt(e)&&qe(e.then)&&qe(e.catch),m1=Object.prototype.toString,Bc=e=>m1.call(e),RD=e=>Bc(e).slice(8,-1),g1=e=>Bc(e)==="[object Object]",ay=e=>Bt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Uf=iy(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Mh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},xD=/-(\w)/g,si=Mh(e=>e.replace(xD,(t,n)=>n?n.toUpperCase():"")),PD=/\B([A-Z])/g,Ka=Mh(e=>e.replace(PD,"-$1").toLowerCase()),Fh=Mh(e=>e.charAt(0).toUpperCase()+e.slice(1)),hg=Mh(e=>e?`on${Fh(e)}`:""),pc=(e,t)=>!Object.is(e,t),Vf=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Xf=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},v1=e=>{const t=parseFloat(e);return isNaN(t)?e:t},DD=e=>{const t=Bt(e)?Number(e):NaN;return isNaN(t)?e:t};let WE;const Hg=()=>WE||(WE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ba(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=Bt(r)?UD(r):ba(r);if(o)for(const s in o)t[s]=o[s]}return t}else{if(Bt(e))return e;if(mt(e))return e}}const LD=/;(?![^(]*\))/g,MD=/:([^]+)/,FD=/\/\*[^]*?\*\//g;function UD(e){const t={};return e.replace(FD,"").split(LD).forEach(n=>{if(n){const r=n.split(MD);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Dn(e){let t="";if(Bt(e))t=e;else if(Oe(e))for(let n=0;n<e.length;n++){const r=Dn(e[n]);r&&(t+=r+" ")}else if(mt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const VD="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jD=iy(VD);function y1(e){return!!e||e===""}function BD(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Uh(e[r],t[r]);return n}function Uh(e,t){if(e===t)return!0;let n=HE(e),r=HE(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=dc(e),r=dc(t),n||r)return e===t;if(n=Oe(e),r=Oe(t),n||r)return n&&r?BD(e,t):!1;if(n=mt(e),r=mt(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const u in e){const c=e.hasOwnProperty(u),f=t.hasOwnProperty(u);if(c&&!f||!c&&f||!Uh(e[u],t[u]))return!1}}return String(e)===String(t)}function qD(e,t){return e.findIndex(n=>Uh(n,t))}const Tt=e=>Bt(e)?e:e==null?"":Oe(e)||mt(e)&&(e.toString===m1||!qe(e.toString))?JSON.stringify(e,_1,2):String(e),_1=(e,t)=>t&&t.__v_isRef?_1(e,t.value):ma(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:Lh(t)?{[`Set(${t.size})`]:[...t.values()]}:mt(t)&&!Oe(t)&&!g1(t)?String(t):t;let rr;class b1{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=rr,!t&&rr&&(this.index=(rr.scopes||(rr.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=rr;try{return rr=this,t()}finally{rr=n}}}on(){rr=this}off(){rr=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function uy(e){return new b1(e)}function $D(e,t=rr){t&&t.active&&t.effects.push(e)}function w1(){return rr}function HD(e){rr&&rr.cleanups.push(e)}const cy=e=>{const t=new Set(e);return t.w=0,t.n=0,t},E1=e=>(e.w&fo)>0,I1=e=>(e.n&fo)>0,WD=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=fo},KD=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];E1(o)&&!I1(o)?o.delete(e):t[n++]=o,o.w&=~fo,o.n&=~fo}t.length=n}},Yf=new WeakMap;let Yu=0,fo=1;const Wg=30;let Or;const us=Symbol(""),Kg=Symbol("");class ly{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,$D(this,r)}run(){if(!this.active)return this.fn();let t=Or,n=oo;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Or,Or=this,oo=!0,fo=1<<++Yu,Yu<=Wg?WD(this):KE(this),this.fn()}finally{Yu<=Wg&&KD(this),fo=1<<--Yu,Or=this.parent,oo=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Or===this?this.deferStop=!0:this.active&&(KE(this),this.onStop&&this.onStop(),this.active=!1)}}function KE(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let oo=!0;const T1=[];function Ga(){T1.push(oo),oo=!1}function za(){const e=T1.pop();oo=e===void 0?!0:e}function Xn(e,t,n){if(oo&&Or){let r=Yf.get(e);r||Yf.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=cy()),S1(o)}}function S1(e,t){let n=!1;Yu<=Wg?I1(e)||(e.n|=fo,n=!E1(e)):n=!e.has(Or),n&&(e.add(Or),Or.deps.push(e))}function Si(e,t,n,r,o,s){const u=Yf.get(e);if(!u)return;let c=[];if(t==="clear")c=[...u.values()];else if(n==="length"&&Oe(e)){const f=Number(r);u.forEach((d,g)=>{(g==="length"||g>=f)&&c.push(d)})}else switch(n!==void 0&&c.push(u.get(n)),t){case"add":Oe(e)?ay(n)&&c.push(u.get("length")):(c.push(u.get(us)),ma(e)&&c.push(u.get(Kg)));break;case"delete":Oe(e)||(c.push(u.get(us)),ma(e)&&c.push(u.get(Kg)));break;case"set":ma(e)&&c.push(u.get(us));break}if(c.length===1)c[0]&&Gg(c[0]);else{const f=[];for(const d of c)d&&f.push(...d);Gg(cy(f))}}function Gg(e,t){const n=Oe(e)?e:[...e];for(const r of n)r.computed&&GE(r);for(const r of n)r.computed||GE(r)}function GE(e,t){(e!==Or||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function GD(e,t){var n;return(n=Yf.get(e))==null?void 0:n.get(t)}const zD=iy("__proto__,__v_isRef,__isVue"),A1=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(dc)),XD=fy(),YD=fy(!1,!0),QD=fy(!0),zE=JD();function JD(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Je(this);for(let s=0,u=this.length;s<u;s++)Xn(r,"get",s+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(Je)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Ga();const r=Je(this)[t].apply(this,n);return za(),r}}),e}function ZD(e){const t=Je(this);return Xn(t,"has",e),t.hasOwnProperty(e)}function fy(e=!1,t=!1){return function(r,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?mL:R1:t?O1:C1).get(r))return r;const u=Oe(r);if(!e){if(u&&Ze(zE,o))return Reflect.get(zE,o,s);if(o==="hasOwnProperty")return ZD}const c=Reflect.get(r,o,s);return(dc(o)?A1.has(o):zD(o))||(e||Xn(r,"get",o),t)?c:pt(c)?u&&ay(o)?c:c.value:mt(c)?e?x1(c):ai(c):c}}const eL=k1(),tL=k1(!0);function k1(e=!1){return function(n,r,o,s){let u=n[r];if(wa(u)&&pt(u)&&!pt(o))return!1;if(!e&&(!Qf(o)&&!wa(o)&&(u=Je(u),o=Je(o)),!Oe(n)&&pt(u)&&!pt(o)))return u.value=o,!0;const c=Oe(n)&&ay(r)?Number(r)<n.length:Ze(n,r),f=Reflect.set(n,r,o,s);return n===Je(s)&&(c?pc(o,u)&&Si(n,"set",r,o):Si(n,"add",r,o)),f}}function nL(e,t){const n=Ze(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Si(e,"delete",t,void 0),r}function rL(e,t){const n=Reflect.has(e,t);return(!dc(t)||!A1.has(t))&&Xn(e,"has",t),n}function iL(e){return Xn(e,"iterate",Oe(e)?"length":us),Reflect.ownKeys(e)}const N1={get:XD,set:eL,deleteProperty:nL,has:rL,ownKeys:iL},oL={get:QD,set(e,t){return!0},deleteProperty(e,t){return!0}},sL=zt({},N1,{get:YD,set:tL}),hy=e=>e,Vh=e=>Reflect.getPrototypeOf(e);function vf(e,t,n=!1,r=!1){e=e.__v_raw;const o=Je(e),s=Je(t);n||(t!==s&&Xn(o,"get",t),Xn(o,"get",s));const{has:u}=Vh(o),c=r?hy:n?my:mc;if(u.call(o,t))return c(e.get(t));if(u.call(o,s))return c(e.get(s));e!==o&&e.get(t)}function yf(e,t=!1){const n=this.__v_raw,r=Je(n),o=Je(e);return t||(e!==o&&Xn(r,"has",e),Xn(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function _f(e,t=!1){return e=e.__v_raw,!t&&Xn(Je(e),"iterate",us),Reflect.get(e,"size",e)}function XE(e){e=Je(e);const t=Je(this);return Vh(t).has.call(t,e)||(t.add(e),Si(t,"add",e,e)),this}function YE(e,t){t=Je(t);const n=Je(this),{has:r,get:o}=Vh(n);let s=r.call(n,e);s||(e=Je(e),s=r.call(n,e));const u=o.call(n,e);return n.set(e,t),s?pc(t,u)&&Si(n,"set",e,t):Si(n,"add",e,t),this}function QE(e){const t=Je(this),{has:n,get:r}=Vh(t);let o=n.call(t,e);o||(e=Je(e),o=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return o&&Si(t,"delete",e,void 0),s}function JE(){const e=Je(this),t=e.size!==0,n=e.clear();return t&&Si(e,"clear",void 0,void 0),n}function bf(e,t){return function(r,o){const s=this,u=s.__v_raw,c=Je(u),f=t?hy:e?my:mc;return!e&&Xn(c,"iterate",us),u.forEach((d,g)=>r.call(o,f(d),f(g),s))}}function wf(e,t,n){return function(...r){const o=this.__v_raw,s=Je(o),u=ma(s),c=e==="entries"||e===Symbol.iterator&&u,f=e==="keys"&&u,d=o[e](...r),g=n?hy:t?my:mc;return!t&&Xn(s,"iterate",f?Kg:us),{next(){const{value:h,done:p}=d.next();return p?{value:h,done:p}:{value:c?[g(h[0]),g(h[1])]:g(h),done:p}},[Symbol.iterator](){return this}}}}function ji(e){return function(...t){return e==="delete"?!1:this}}function aL(){const e={get(s){return vf(this,s)},get size(){return _f(this)},has:yf,add:XE,set:YE,delete:QE,clear:JE,forEach:bf(!1,!1)},t={get(s){return vf(this,s,!1,!0)},get size(){return _f(this)},has:yf,add:XE,set:YE,delete:QE,clear:JE,forEach:bf(!1,!0)},n={get(s){return vf(this,s,!0)},get size(){return _f(this,!0)},has(s){return yf.call(this,s,!0)},add:ji("add"),set:ji("set"),delete:ji("delete"),clear:ji("clear"),forEach:bf(!0,!1)},r={get(s){return vf(this,s,!0,!0)},get size(){return _f(this,!0)},has(s){return yf.call(this,s,!0)},add:ji("add"),set:ji("set"),delete:ji("delete"),clear:ji("clear"),forEach:bf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=wf(s,!1,!1),n[s]=wf(s,!0,!1),t[s]=wf(s,!1,!0),r[s]=wf(s,!0,!0)}),[e,n,t,r]}const[uL,cL,lL,fL]=aL();function dy(e,t){const n=t?e?fL:lL:e?cL:uL;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(Ze(n,o)&&o in r?n:r,o,s)}const hL={get:dy(!1,!1)},dL={get:dy(!1,!0)},pL={get:dy(!0,!1)},C1=new WeakMap,O1=new WeakMap,R1=new WeakMap,mL=new WeakMap;function gL(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function vL(e){return e.__v_skip||!Object.isExtensible(e)?0:gL(RD(e))}function ai(e){return wa(e)?e:py(e,!1,N1,hL,C1)}function yL(e){return py(e,!1,sL,dL,O1)}function x1(e){return py(e,!0,oL,pL,R1)}function py(e,t,n,r,o){if(!mt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const u=vL(e);if(u===0)return e;const c=new Proxy(e,u===2?r:n);return o.set(e,c),c}function so(e){return wa(e)?so(e.__v_raw):!!(e&&e.__v_isReactive)}function wa(e){return!!(e&&e.__v_isReadonly)}function Qf(e){return!!(e&&e.__v_isShallow)}function P1(e){return so(e)||wa(e)}function Je(e){const t=e&&e.__v_raw;return t?Je(t):e}function jh(e){return Xf(e,"__v_skip",!0),e}const mc=e=>mt(e)?ai(e):e,my=e=>mt(e)?x1(e):e;function D1(e){oo&&Or&&(e=Je(e),S1(e.dep||(e.dep=cy())))}function L1(e,t){e=Je(e);const n=e.dep;n&&Gg(n)}function pt(e){return!!(e&&e.__v_isRef===!0)}function Ct(e){return M1(e,!1)}function gy(e){return M1(e,!0)}function M1(e,t){return pt(e)?e:new _L(e,t)}class _L{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Je(t),this._value=n?t:mc(t)}get value(){return D1(this),this._value}set value(t){const n=this.__v_isShallow||Qf(t)||wa(t);t=n?t:Je(t),pc(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:mc(t),L1(this))}}function Le(e){return pt(e)?e.value:e}const bL={get:(e,t,n)=>Le(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return pt(o)&&!pt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function F1(e){return so(e)?e:new Proxy(e,bL)}function wL(e){const t=Oe(e)?new Array(e.length):{};for(const n in e)t[n]=U1(e,n);return t}class EL{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return GD(Je(this._object),this._key)}}class IL{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Zi(e,t,n){return pt(e)?e:qe(e)?new IL(e):mt(e)&&arguments.length>1?U1(e,t,n):Ct(e)}function U1(e,t,n){const r=e[t];return pt(r)?r:new EL(e,t,n)}class TL{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ly(t,()=>{this._dirty||(this._dirty=!0,L1(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=Je(this);return D1(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function SL(e,t,n=!1){let r,o;const s=qe(e);return s?(r=e,o=xr):(r=e.get,o=e.set),new TL(r,o,s||!o,n)}function ao(e,t,n,r){let o;try{o=r?e(...r):e()}catch(s){Bh(s,t,n)}return o}function wr(e,t,n,r){if(qe(e)){const s=ao(e,t,n,r);return s&&p1(s)&&s.catch(u=>{Bh(u,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(wr(e[s],t,n,r));return o}function Bh(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const u=t.proxy,c=n;for(;s;){const d=s.ec;if(d){for(let g=0;g<d.length;g++)if(d[g](e,u,c)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){ao(f,null,10,[e,u,c]);return}}AL(e,n,o,r)}function AL(e,t,n,r=!0){console.error(e)}let gc=!1,zg=!1;const _n=[];let ti=0;const ga=[];let vi=null,Jo=0;const V1=Promise.resolve();let vy=null;function ns(e){const t=vy||V1;return e?t.then(this?e.bind(this):e):t}function kL(e){let t=ti+1,n=_n.length;for(;t<n;){const r=t+n>>>1;vc(_n[r])<e?t=r+1:n=r}return t}function yy(e){(!_n.length||!_n.includes(e,gc&&e.allowRecurse?ti+1:ti))&&(e.id==null?_n.push(e):_n.splice(kL(e.id),0,e),j1())}function j1(){!gc&&!zg&&(zg=!0,vy=V1.then(q1))}function NL(e){const t=_n.indexOf(e);t>ti&&_n.splice(t,1)}function CL(e){Oe(e)?ga.push(...e):(!vi||!vi.includes(e,e.allowRecurse?Jo+1:Jo))&&ga.push(e),j1()}function ZE(e,t=gc?ti+1:0){for(;t<_n.length;t++){const n=_n[t];n&&n.pre&&(_n.splice(t,1),t--,n())}}function B1(e){if(ga.length){const t=[...new Set(ga)];if(ga.length=0,vi){vi.push(...t);return}for(vi=t,vi.sort((n,r)=>vc(n)-vc(r)),Jo=0;Jo<vi.length;Jo++)vi[Jo]();vi=null,Jo=0}}const vc=e=>e.id==null?1/0:e.id,OL=(e,t)=>{const n=vc(e)-vc(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function q1(e){zg=!1,gc=!0,_n.sort(OL);const t=xr;try{for(ti=0;ti<_n.length;ti++){const n=_n[ti];n&&n.active!==!1&&ao(n,null,14)}}finally{ti=0,_n.length=0,B1(),gc=!1,vy=null,(_n.length||ga.length)&&q1()}}function RL(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||It;let o=n;const s=t.startsWith("update:"),u=s&&t.slice(7);if(u&&u in r){const g=`${u==="modelValue"?"model":u}Modifiers`,{number:h,trim:p}=r[g]||It;p&&(o=n.map(v=>Bt(v)?v.trim():v)),h&&(o=n.map(v1))}let c,f=r[c=hg(t)]||r[c=hg(si(t))];!f&&s&&(f=r[c=hg(Ka(t))]),f&&wr(f,e,6,o);const d=r[c+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,wr(d,e,6,o)}}function $1(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let u={},c=!1;if(!qe(e)){const f=d=>{const g=$1(d,t,!0);g&&(c=!0,zt(u,g))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!c?(mt(e)&&r.set(e,null),null):(Oe(s)?s.forEach(f=>u[f]=null):zt(u,s),mt(e)&&r.set(e,u),u)}function qh(e,t){return!e||!Dh(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ze(e,t[0].toLowerCase()+t.slice(1))||Ze(e,Ka(t))||Ze(e,t))}let Kn=null,H1=null;function Jf(e){const t=Kn;return Kn=e,H1=e&&e.type.__scopeId||null,t}function Ln(e,t=Kn,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&fI(-1);const s=Jf(t);let u;try{u=e(...o)}finally{Jf(s),r._d&&fI(1)}return u};return r._n=!0,r._c=!0,r._d=!0,r}function dg(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[u],slots:c,attrs:f,emit:d,render:g,renderCache:h,data:p,setupState:v,ctx:_,inheritAttrs:E}=e;let A,b;const k=Jf(e);try{if(n.shapeFlag&4){const R=o||r;A=Jr(g.call(R,R,h,s,v,p,_)),b=f}else{const R=t;A=Jr(R.length>1?R(s,{attrs:f,slots:c,emit:d}):R(s,null)),b=t.props?f:xL(f)}}catch(R){tc.length=0,Bh(R,e,1),A=xe(Pr)}let D=A;if(b&&E!==!1){const R=Object.keys(b),{shapeFlag:M}=D;R.length&&M&7&&(u&&R.some(oy)&&(b=PL(b,u)),D=ho(D,b))}return n.dirs&&(D=ho(D),D.dirs=D.dirs?D.dirs.concat(n.dirs):n.dirs),n.transition&&(D.transition=n.transition),A=D,Jf(k),A}const xL=e=>{let t;for(const n in e)(n==="class"||n==="style"||Dh(n))&&((t||(t={}))[n]=e[n]);return t},PL=(e,t)=>{const n={};for(const r in e)(!oy(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function DL(e,t,n){const{props:r,children:o,component:s}=e,{props:u,children:c,patchFlag:f}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?eI(r,u,d):!!u;if(f&8){const g=t.dynamicProps;for(let h=0;h<g.length;h++){const p=g[h];if(u[p]!==r[p]&&!qh(d,p))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:r===u?!1:r?u?eI(r,u,d):!0:!!u;return!1}function eI(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s]&&!qh(n,s))return!0}return!1}function LL({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const ML=e=>e.__isSuspense;function FL(e,t){t&&t.pendingBranch?Oe(e)?t.effects.push(...e):t.effects.push(e):CL(e)}function UL(e,t){return _y(e,null,t)}const Ef={};function wn(e,t,n){return _y(e,t,n)}function _y(e,t,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:u}=It){var c;const f=w1()===((c=Jt)==null?void 0:c.scope)?Jt:null;let d,g=!1,h=!1;if(pt(e)?(d=()=>e.value,g=Qf(e)):so(e)?(d=()=>e,r=!0):Oe(e)?(h=!0,g=e.some(R=>so(R)||Qf(R)),d=()=>e.map(R=>{if(pt(R))return R.value;if(so(R))return rs(R);if(qe(R))return ao(R,f,2)})):qe(e)?t?d=()=>ao(e,f,2):d=()=>{if(!(f&&f.isUnmounted))return p&&p(),wr(e,f,3,[v])}:d=xr,t&&r){const R=d;d=()=>rs(R())}let p,v=R=>{p=k.onStop=()=>{ao(R,f,4)}},_;if(bc)if(v=xr,t?n&&wr(t,f,3,[d(),h?[]:void 0,v]):d(),o==="sync"){const R=RM();_=R.__watcherHandles||(R.__watcherHandles=[])}else return xr;let E=h?new Array(e.length).fill(Ef):Ef;const A=()=>{if(k.active)if(t){const R=k.run();(r||g||(h?R.some((M,F)=>pc(M,E[F])):pc(R,E)))&&(p&&p(),wr(t,f,3,[R,E===Ef?void 0:h&&E[0]===Ef?[]:E,v]),E=R)}else k.run()};A.allowRecurse=!!t;let b;o==="sync"?b=A:o==="post"?b=()=>Hn(A,f&&f.suspense):(A.pre=!0,f&&(A.id=f.uid),b=()=>yy(A));const k=new ly(d,b);t?n?A():E=k.run():o==="post"?Hn(k.run.bind(k),f&&f.suspense):k.run();const D=()=>{k.stop(),f&&f.scope&&sy(f.scope.effects,k)};return _&&_.push(D),D}function VL(e,t,n){const r=this.proxy,o=Bt(e)?e.includes(".")?W1(r,e):()=>r[e]:e.bind(r,r);let s;qe(t)?s=t:(s=t.handler,n=t);const u=Jt;Ia(this);const c=_y(o,s.bind(r),n);return u?Ia(u):cs(),c}function W1(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function rs(e,t){if(!mt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),pt(e))rs(e.value,t);else if(Oe(e))for(let n=0;n<e.length;n++)rs(e[n],t);else if(Lh(e)||ma(e))e.forEach(n=>{rs(n,t)});else if(g1(e))for(const n in e)rs(e[n],t);return e}function Zf(e,t){const n=Kn;if(n===null)return e;const r=Gh(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[u,c,f,d=It]=t[s];u&&(qe(u)&&(u={mounted:u,updated:u}),u.deep&&rs(c),o.push({dir:u,instance:r,value:c,oldValue:void 0,arg:f,modifiers:d}))}return e}function Wo(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let u=0;u<o.length;u++){const c=o[u];s&&(c.oldValue=s[u].value);let f=c.dir[r];f&&(Ga(),wr(f,n,8,[e.el,c,e,t]),za())}}function jL(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return $c(()=>{e.isMounted=!0}),by(()=>{e.isUnmounting=!0}),e}const yr=[Function,Array],K1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yr,onEnter:yr,onAfterEnter:yr,onEnterCancelled:yr,onBeforeLeave:yr,onLeave:yr,onAfterLeave:yr,onLeaveCancelled:yr,onBeforeAppear:yr,onAppear:yr,onAfterAppear:yr,onAppearCancelled:yr},BL={name:"BaseTransition",props:K1,setup(e,{slots:t}){const n=Ai(),r=jL();let o;return()=>{const s=t.default&&z1(t.default(),!0);if(!s||!s.length)return;let u=s[0];if(s.length>1){for(const E of s)if(E.type!==Pr){u=E;break}}const c=Je(e),{mode:f}=c;if(r.isLeaving)return pg(u);const d=tI(u);if(!d)return pg(u);const g=Xg(d,c,r,n);Yg(d,g);const h=n.subTree,p=h&&tI(h);let v=!1;const{getTransitionKey:_}=d.type;if(_){const E=_();o===void 0?o=E:E!==o&&(o=E,v=!0)}if(p&&p.type!==Pr&&(!Zo(d,p)||v)){const E=Xg(p,c,r,n);if(Yg(p,E),f==="out-in")return r.isLeaving=!0,E.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},pg(u);f==="in-out"&&d.type!==Pr&&(E.delayLeave=(A,b,k)=>{const D=G1(r,p);D[String(p.key)]=p,A._leaveCb=()=>{b(),A._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=k})}return u}}},qL=BL;function G1(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Xg(e,t,n,r){const{appear:o,mode:s,persisted:u=!1,onBeforeEnter:c,onEnter:f,onAfterEnter:d,onEnterCancelled:g,onBeforeLeave:h,onLeave:p,onAfterLeave:v,onLeaveCancelled:_,onBeforeAppear:E,onAppear:A,onAfterAppear:b,onAppearCancelled:k}=t,D=String(e.key),R=G1(n,e),M=(V,q)=>{V&&wr(V,r,9,q)},F=(V,q)=>{const L=q[1];M(V,q),Oe(V)?V.every(we=>we.length<=1)&&L():V.length<=1&&L()},K={mode:s,persisted:u,beforeEnter(V){let q=c;if(!n.isMounted)if(o)q=E||c;else return;V._leaveCb&&V._leaveCb(!0);const L=R[D];L&&Zo(e,L)&&L.el._leaveCb&&L.el._leaveCb(),M(q,[V])},enter(V){let q=f,L=d,we=g;if(!n.isMounted)if(o)q=A||f,L=b||d,we=k||g;else return;let se=!1;const be=V._enterCb=Se=>{se||(se=!0,Se?M(we,[V]):M(L,[V]),K.delayedLeave&&K.delayedLeave(),V._enterCb=void 0)};q?F(q,[V,be]):be()},leave(V,q){const L=String(e.key);if(V._enterCb&&V._enterCb(!0),n.isUnmounting)return q();M(h,[V]);let we=!1;const se=V._leaveCb=be=>{we||(we=!0,q(),be?M(_,[V]):M(v,[V]),V._leaveCb=void 0,R[L]===e&&delete R[L])};R[L]=e,p?F(p,[V,se]):se()},clone(V){return Xg(V,t,n,r)}};return K}function pg(e){if($h(e))return e=ho(e),e.children=null,e}function tI(e){return $h(e)?e.children?e.children[0]:void 0:e}function Yg(e,t){e.shapeFlag&6&&e.component?Yg(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function z1(e,t=!1,n){let r=[],o=0;for(let s=0;s<e.length;s++){let u=e[s];const c=n==null?u.key:String(n)+String(u.key!=null?u.key:s);u.type===Wt?(u.patchFlag&128&&o++,r=r.concat(z1(u.children,t,c))):(t||u.type!==Pr)&&r.push(c!=null?ho(u,{key:c}):u)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function qc(e,t){return qe(e)?(()=>zt({name:e.name},t,{setup:e}))():e}const jf=e=>!!e.type.__asyncLoader,$h=e=>e.type.__isKeepAlive;function $L(e,t){X1(e,"a",t)}function HL(e,t){X1(e,"da",t)}function X1(e,t,n=Jt){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Hh(t,r,n),n){let o=n.parent;for(;o&&o.parent;)$h(o.parent.vnode)&&WL(r,t,n,o),o=o.parent}}function WL(e,t,n,r){const o=Hh(t,e,r,!0);wy(()=>{sy(r[t],o)},n)}function Hh(e,t,n=Jt,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...u)=>{if(n.isUnmounted)return;Ga(),Ia(n);const c=wr(t,n,e,u);return cs(),za(),c});return r?o.unshift(s):o.push(s),s}}const Ci=e=>(t,n=Jt)=>(!bc||e==="sp")&&Hh(e,(...r)=>t(...r),n),Y1=Ci("bm"),$c=Ci("m"),KL=Ci("bu"),GL=Ci("u"),by=Ci("bum"),wy=Ci("um"),zL=Ci("sp"),XL=Ci("rtg"),YL=Ci("rtc");function QL(e,t=Jt){Hh("ec",e,t)}const Ey="components",JL="directives";function Ot(e,t){return Iy(Ey,e,!0,t)||e}const Q1=Symbol.for("v-ndc");function Wh(e){return Bt(e)?Iy(Ey,e,!1)||e:e||Q1}function ZL(e){return Iy(JL,e)}function Iy(e,t,n=!0,r=!1){const o=Kn||Jt;if(o){const s=o.type;if(e===Ey){const c=NM(s,!1);if(c&&(c===t||c===si(t)||c===Fh(si(t))))return s}const u=nI(o[e]||s[e],t)||nI(o.appContext[e],t);return!u&&r?s:u}}function nI(e,t){return e&&(e[t]||e[si(t)]||e[Fh(si(t))])}function Hc(e,t,n,r){let o;const s=n&&n[r];if(Oe(e)||Bt(e)){o=new Array(e.length);for(let u=0,c=e.length;u<c;u++)o[u]=t(e[u],u,void 0,s&&s[u])}else if(typeof e=="number"){o=new Array(e);for(let u=0;u<e;u++)o[u]=t(u+1,u,void 0,s&&s[u])}else if(mt(e))if(e[Symbol.iterator])o=Array.from(e,(u,c)=>t(u,c,void 0,s&&s[c]));else{const u=Object.keys(e);o=new Array(u.length);for(let c=0,f=u.length;c<f;c++){const d=u[c];o[c]=t(e[d],d,c,s&&s[c])}}else o=[];return n&&(n[r]=o),o}const Qg=e=>e?cA(e)?Gh(e)||e.proxy:Qg(e.parent):null,ec=zt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Qg(e.parent),$root:e=>Qg(e.root),$emit:e=>e.emit,$options:e=>Ty(e),$forceUpdate:e=>e.f||(e.f=()=>yy(e.update)),$nextTick:e=>e.n||(e.n=ns.bind(e.proxy)),$watch:e=>VL.bind(e)}),mg=(e,t)=>e!==It&&!e.__isScriptSetup&&Ze(e,t),eM={get({_:e},t){const{ctx:n,setupState:r,data:o,props:s,accessCache:u,type:c,appContext:f}=e;let d;if(t[0]!=="$"){const v=u[t];if(v!==void 0)switch(v){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(mg(r,t))return u[t]=1,r[t];if(o!==It&&Ze(o,t))return u[t]=2,o[t];if((d=e.propsOptions[0])&&Ze(d,t))return u[t]=3,s[t];if(n!==It&&Ze(n,t))return u[t]=4,n[t];Jg&&(u[t]=0)}}const g=ec[t];let h,p;if(g)return t==="$attrs"&&Xn(e,"get",t),g(e);if((h=c.__cssModules)&&(h=h[t]))return h;if(n!==It&&Ze(n,t))return u[t]=4,n[t];if(p=f.config.globalProperties,Ze(p,t))return p[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return mg(o,t)?(o[t]=n,!0):r!==It&&Ze(r,t)?(r[t]=n,!0):Ze(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},u){let c;return!!n[u]||e!==It&&Ze(e,u)||mg(t,u)||(c=s[0])&&Ze(c,u)||Ze(r,u)||Ze(ec,u)||Ze(o.config.globalProperties,u)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ze(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function rI(e){return Oe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Jg=!0;function tM(e){const t=Ty(e),n=e.proxy,r=e.ctx;Jg=!1,t.beforeCreate&&iI(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:u,watch:c,provide:f,inject:d,created:g,beforeMount:h,mounted:p,beforeUpdate:v,updated:_,activated:E,deactivated:A,beforeDestroy:b,beforeUnmount:k,destroyed:D,unmounted:R,render:M,renderTracked:F,renderTriggered:K,errorCaptured:V,serverPrefetch:q,expose:L,inheritAttrs:we,components:se,directives:be,filters:Se}=t;if(d&&nM(d,r,null),u)for(const Ee in u){const ve=u[Ee];qe(ve)&&(r[Ee]=ve.bind(n))}if(o){const Ee=o.call(n,n);mt(Ee)&&(e.data=ai(Ee))}if(Jg=!0,s)for(const Ee in s){const ve=s[Ee],ot=qe(ve)?ve.bind(n,n):qe(ve.get)?ve.get.bind(n,n):xr,lt=!qe(ve)&&qe(ve.set)?ve.set.bind(n):xr,yt=Pe({get:ot,set:lt});Object.defineProperty(r,Ee,{enumerable:!0,configurable:!0,get:()=>yt.value,set:vt=>yt.value=vt})}if(c)for(const Ee in c)J1(c[Ee],r,n,Ee);if(f){const Ee=qe(f)?f.call(n):f;Reflect.ownKeys(Ee).forEach(ve=>{va(ve,Ee[ve])})}g&&iI(g,e,"c");function he(Ee,ve){Oe(ve)?ve.forEach(ot=>Ee(ot.bind(n))):ve&&Ee(ve.bind(n))}if(he(Y1,h),he($c,p),he(KL,v),he(GL,_),he($L,E),he(HL,A),he(QL,V),he(YL,F),he(XL,K),he(by,k),he(wy,R),he(zL,q),Oe(L))if(L.length){const Ee=e.exposed||(e.exposed={});L.forEach(ve=>{Object.defineProperty(Ee,ve,{get:()=>n[ve],set:ot=>n[ve]=ot})})}else e.exposed||(e.exposed={});M&&e.render===xr&&(e.render=M),we!=null&&(e.inheritAttrs=we),se&&(e.components=se),be&&(e.directives=be)}function nM(e,t,n=xr){Oe(e)&&(e=Zg(e));for(const r in e){const o=e[r];let s;mt(o)?"default"in o?s=cr(o.from||r,o.default,!0):s=cr(o.from||r):s=cr(o),pt(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:u=>s.value=u}):t[r]=s}}function iI(e,t,n){wr(Oe(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function J1(e,t,n,r){const o=r.includes(".")?W1(n,r):()=>n[r];if(Bt(e)){const s=t[e];qe(s)&&wn(o,s)}else if(qe(e))wn(o,e.bind(n));else if(mt(e))if(Oe(e))e.forEach(s=>J1(s,t,n,r));else{const s=qe(e.handler)?e.handler.bind(n):t[e.handler];qe(s)&&wn(o,s,e)}}function Ty(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:u}}=e.appContext,c=s.get(t);let f;return c?f=c:!o.length&&!n&&!r?f=t:(f={},o.length&&o.forEach(d=>eh(f,d,u,!0)),eh(f,t,u)),mt(t)&&s.set(t,f),f}function eh(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&eh(e,s,n,!0),o&&o.forEach(u=>eh(e,u,n,!0));for(const u in t)if(!(r&&u==="expose")){const c=rM[u]||n&&n[u];e[u]=c?c(e[u],t[u]):t[u]}return e}const rM={data:oI,props:sI,emits:sI,methods:Qu,computed:Qu,beforeCreate:Nn,created:Nn,beforeMount:Nn,mounted:Nn,beforeUpdate:Nn,updated:Nn,beforeDestroy:Nn,beforeUnmount:Nn,destroyed:Nn,unmounted:Nn,activated:Nn,deactivated:Nn,errorCaptured:Nn,serverPrefetch:Nn,components:Qu,directives:Qu,watch:oM,provide:oI,inject:iM};function oI(e,t){return t?e?function(){return zt(qe(e)?e.call(this,this):e,qe(t)?t.call(this,this):t)}:t:e}function iM(e,t){return Qu(Zg(e),Zg(t))}function Zg(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Nn(e,t){return e?[...new Set([].concat(e,t))]:t}function Qu(e,t){return e?zt(Object.create(null),e,t):t}function sI(e,t){return e?Oe(e)&&Oe(t)?[...new Set([...e,...t])]:zt(Object.create(null),rI(e),rI(t??{})):t}function oM(e,t){if(!e)return t;if(!t)return e;const n=zt(Object.create(null),e);for(const r in t)n[r]=Nn(e[r],t[r]);return n}function Z1(){return{app:null,config:{isNativeTag:ND,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let sM=0;function aM(e,t){return function(r,o=null){qe(r)||(r=zt({},r)),o!=null&&!mt(o)&&(o=null);const s=Z1(),u=new Set;let c=!1;const f=s.app={_uid:sM++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:xM,get config(){return s.config},set config(d){},use(d,...g){return u.has(d)||(d&&qe(d.install)?(u.add(d),d.install(f,...g)):qe(d)&&(u.add(d),d(f,...g))),f},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),f},component(d,g){return g?(s.components[d]=g,f):s.components[d]},directive(d,g){return g?(s.directives[d]=g,f):s.directives[d]},mount(d,g,h){if(!c){const p=xe(r,o);return p.appContext=s,g&&t?t(p,d):e(p,d,h),c=!0,f._container=d,d.__vue_app__=f,Gh(p.component)||p.component.proxy}},unmount(){c&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,g){return s.provides[d]=g,f},runWithContext(d){yc=f;try{return d()}finally{yc=null}}};return f}}let yc=null;function va(e,t){if(Jt){let n=Jt.provides;const r=Jt.parent&&Jt.parent.provides;r===n&&(n=Jt.provides=Object.create(r)),n[e]=t}}function cr(e,t,n=!1){const r=Jt||Kn;if(r||yc){const o=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:yc._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&qe(t)?t.call(r&&r.proxy):t}}function uM(){return!!(Jt||Kn||yc)}function cM(e,t,n,r=!1){const o={},s={};Xf(s,Kh,1),e.propsDefaults=Object.create(null),eA(e,t,o,s);for(const u in e.propsOptions[0])u in o||(o[u]=void 0);n?e.props=r?o:yL(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function lM(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:u}}=e,c=Je(o),[f]=e.propsOptions;let d=!1;if((r||u>0)&&!(u&16)){if(u&8){const g=e.vnode.dynamicProps;for(let h=0;h<g.length;h++){let p=g[h];if(qh(e.emitsOptions,p))continue;const v=t[p];if(f)if(Ze(s,p))v!==s[p]&&(s[p]=v,d=!0);else{const _=si(p);o[_]=ev(f,c,_,v,e,!1)}else v!==s[p]&&(s[p]=v,d=!0)}}}else{eA(e,t,o,s)&&(d=!0);let g;for(const h in c)(!t||!Ze(t,h)&&((g=Ka(h))===h||!Ze(t,g)))&&(f?n&&(n[h]!==void 0||n[g]!==void 0)&&(o[h]=ev(f,c,h,void 0,e,!0)):delete o[h]);if(s!==c)for(const h in s)(!t||!Ze(t,h))&&(delete s[h],d=!0)}d&&Si(e,"set","$attrs")}function eA(e,t,n,r){const[o,s]=e.propsOptions;let u=!1,c;if(t)for(let f in t){if(Uf(f))continue;const d=t[f];let g;o&&Ze(o,g=si(f))?!s||!s.includes(g)?n[g]=d:(c||(c={}))[g]=d:qh(e.emitsOptions,f)||(!(f in r)||d!==r[f])&&(r[f]=d,u=!0)}if(s){const f=Je(n),d=c||It;for(let g=0;g<s.length;g++){const h=s[g];n[h]=ev(o,f,h,d[h],e,!Ze(d,h))}}return u}function ev(e,t,n,r,o,s){const u=e[n];if(u!=null){const c=Ze(u,"default");if(c&&r===void 0){const f=u.default;if(u.type!==Function&&!u.skipFactory&&qe(f)){const{propsDefaults:d}=o;n in d?r=d[n]:(Ia(o),r=d[n]=f.call(null,t),cs())}else r=f}u[0]&&(s&&!c?r=!1:u[1]&&(r===""||r===Ka(n))&&(r=!0))}return r}function tA(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,u={},c=[];let f=!1;if(!qe(e)){const g=h=>{f=!0;const[p,v]=tA(h,t,!0);zt(u,p),v&&c.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!s&&!f)return mt(e)&&r.set(e,pa),pa;if(Oe(s))for(let g=0;g<s.length;g++){const h=si(s[g]);aI(h)&&(u[h]=It)}else if(s)for(const g in s){const h=si(g);if(aI(h)){const p=s[g],v=u[h]=Oe(p)||qe(p)?{type:p}:zt({},p);if(v){const _=lI(Boolean,v.type),E=lI(String,v.type);v[0]=_>-1,v[1]=E<0||_<E,(_>-1||Ze(v,"default"))&&c.push(h)}}}const d=[u,c];return mt(e)&&r.set(e,d),d}function aI(e){return e[0]!=="$"}function uI(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function cI(e,t){return uI(e)===uI(t)}function lI(e,t){return Oe(t)?t.findIndex(n=>cI(n,e)):qe(t)&&cI(t,e)?0:-1}const nA=e=>e[0]==="_"||e==="$stable",Sy=e=>Oe(e)?e.map(Jr):[Jr(e)],fM=(e,t,n)=>{if(t._n)return t;const r=Ln((...o)=>Sy(t(...o)),n);return r._c=!1,r},rA=(e,t,n)=>{const r=e._ctx;for(const o in e){if(nA(o))continue;const s=e[o];if(qe(s))t[o]=fM(o,s,r);else if(s!=null){const u=Sy(s);t[o]=()=>u}}},iA=(e,t)=>{const n=Sy(t);e.slots.default=()=>n},hM=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Je(t),Xf(t,"_",n)):rA(t,e.slots={})}else e.slots={},t&&iA(e,t);Xf(e.slots,Kh,1)},dM=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,u=It;if(r.shapeFlag&32){const c=t._;c?n&&c===1?s=!1:(zt(o,t),!n&&c===1&&delete o._):(s=!t.$stable,rA(t,o)),u=t}else t&&(iA(e,t),u={default:1});if(s)for(const c in o)!nA(c)&&!(c in u)&&delete o[c]};function tv(e,t,n,r,o=!1){if(Oe(e)){e.forEach((p,v)=>tv(p,t&&(Oe(t)?t[v]:t),n,r,o));return}if(jf(r)&&!o)return;const s=r.shapeFlag&4?Gh(r.component)||r.component.proxy:r.el,u=o?null:s,{i:c,r:f}=e,d=t&&t.r,g=c.refs===It?c.refs={}:c.refs,h=c.setupState;if(d!=null&&d!==f&&(Bt(d)?(g[d]=null,Ze(h,d)&&(h[d]=null)):pt(d)&&(d.value=null)),qe(f))ao(f,c,12,[u,g]);else{const p=Bt(f),v=pt(f);if(p||v){const _=()=>{if(e.f){const E=p?Ze(h,f)?h[f]:g[f]:f.value;o?Oe(E)&&sy(E,s):Oe(E)?E.includes(s)||E.push(s):p?(g[f]=[s],Ze(h,f)&&(h[f]=g[f])):(f.value=[s],e.k&&(g[e.k]=f.value))}else p?(g[f]=u,Ze(h,f)&&(h[f]=u)):v&&(f.value=u,e.k&&(g[e.k]=u))};u?(_.id=-1,Hn(_,n)):_()}}}const Hn=FL;function pM(e){return mM(e)}function mM(e,t){const n=Hg();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:u,createText:c,createComment:f,setText:d,setElementText:g,parentNode:h,nextSibling:p,setScopeId:v=xr,insertStaticContent:_}=e,E=(P,T,I,O=null,U=null,B=null,J=!1,ne=null,ae=!!T.dynamicChildren)=>{if(P===T)return;P&&!Zo(P,T)&&(O=$(P),vt(P,U,B,!0),P=null),T.patchFlag===-2&&(ae=!1,T.dynamicChildren=null);const{type:X,ref:N,shapeFlag:C}=T;switch(X){case Wc:A(P,T,I,O);break;case Pr:b(P,T,I,O);break;case gg:P==null&&k(T,I,O,J);break;case Wt:se(P,T,I,O,U,B,J,ne,ae);break;default:C&1?M(P,T,I,O,U,B,J,ne,ae):C&6?be(P,T,I,O,U,B,J,ne,ae):(C&64||C&128)&&X.process(P,T,I,O,U,B,J,ne,ae,re)}N!=null&&U&&tv(N,P&&P.ref,B,T||P,!T)},A=(P,T,I,O)=>{if(P==null)r(T.el=c(T.children),I,O);else{const U=T.el=P.el;T.children!==P.children&&d(U,T.children)}},b=(P,T,I,O)=>{P==null?r(T.el=f(T.children||""),I,O):T.el=P.el},k=(P,T,I,O)=>{[P.el,P.anchor]=_(P.children,T,I,O,P.el,P.anchor)},D=({el:P,anchor:T},I,O)=>{let U;for(;P&&P!==T;)U=p(P),r(P,I,O),P=U;r(T,I,O)},R=({el:P,anchor:T})=>{let I;for(;P&&P!==T;)I=p(P),o(P),P=I;o(T)},M=(P,T,I,O,U,B,J,ne,ae)=>{J=J||T.type==="svg",P==null?F(T,I,O,U,B,J,ne,ae):q(P,T,U,B,J,ne,ae)},F=(P,T,I,O,U,B,J,ne)=>{let ae,X;const{type:N,props:C,shapeFlag:j,transition:Z,dirs:me}=P;if(ae=P.el=u(P.type,B,C&&C.is,C),j&8?g(ae,P.children):j&16&&V(P.children,ae,null,O,U,B&&N!=="foreignObject",J,ne),me&&Wo(P,null,O,"created"),K(ae,P,P.scopeId,J,O),C){for(const de in C)de!=="value"&&!Uf(de)&&s(ae,de,null,C[de],B,P.children,O,U,Ie);"value"in C&&s(ae,"value",null,C.value),(X=C.onVnodeBeforeMount)&&zr(X,O,P)}me&&Wo(P,null,O,"beforeMount");const ie=(!U||U&&!U.pendingBranch)&&Z&&!Z.persisted;ie&&Z.beforeEnter(ae),r(ae,T,I),((X=C&&C.onVnodeMounted)||ie||me)&&Hn(()=>{X&&zr(X,O,P),ie&&Z.enter(ae),me&&Wo(P,null,O,"mounted")},U)},K=(P,T,I,O,U)=>{if(I&&v(P,I),O)for(let B=0;B<O.length;B++)v(P,O[B]);if(U){let B=U.subTree;if(T===B){const J=U.vnode;K(P,J,J.scopeId,J.slotScopeIds,U.parent)}}},V=(P,T,I,O,U,B,J,ne,ae=0)=>{for(let X=ae;X<P.length;X++){const N=P[X]=ne?Yi(P[X]):Jr(P[X]);E(null,N,T,I,O,U,B,J,ne)}},q=(P,T,I,O,U,B,J)=>{const ne=T.el=P.el;let{patchFlag:ae,dynamicChildren:X,dirs:N}=T;ae|=P.patchFlag&16;const C=P.props||It,j=T.props||It;let Z;I&&Ko(I,!1),(Z=j.onVnodeBeforeUpdate)&&zr(Z,I,T,P),N&&Wo(T,P,I,"beforeUpdate"),I&&Ko(I,!0);const me=U&&T.type!=="foreignObject";if(X?L(P.dynamicChildren,X,ne,I,O,me,B):J||ve(P,T,ne,null,I,O,me,B,!1),ae>0){if(ae&16)we(ne,T,C,j,I,O,U);else if(ae&2&&C.class!==j.class&&s(ne,"class",null,j.class,U),ae&4&&s(ne,"style",C.style,j.style,U),ae&8){const ie=T.dynamicProps;for(let de=0;de<ie.length;de++){const Ne=ie[de],Be=C[Ne],rt=j[Ne];(rt!==Be||Ne==="value")&&s(ne,Ne,Be,rt,U,P.children,I,O,Ie)}}ae&1&&P.children!==T.children&&g(ne,T.children)}else!J&&X==null&&we(ne,T,C,j,I,O,U);((Z=j.onVnodeUpdated)||N)&&Hn(()=>{Z&&zr(Z,I,T,P),N&&Wo(T,P,I,"updated")},O)},L=(P,T,I,O,U,B,J)=>{for(let ne=0;ne<T.length;ne++){const ae=P[ne],X=T[ne],N=ae.el&&(ae.type===Wt||!Zo(ae,X)||ae.shapeFlag&70)?h(ae.el):I;E(ae,X,N,null,O,U,B,J,!0)}},we=(P,T,I,O,U,B,J)=>{if(I!==O){if(I!==It)for(const ne in I)!Uf(ne)&&!(ne in O)&&s(P,ne,I[ne],null,J,T.children,U,B,Ie);for(const ne in O){if(Uf(ne))continue;const ae=O[ne],X=I[ne];ae!==X&&ne!=="value"&&s(P,ne,X,ae,J,T.children,U,B,Ie)}"value"in O&&s(P,"value",I.value,O.value)}},se=(P,T,I,O,U,B,J,ne,ae)=>{const X=T.el=P?P.el:c(""),N=T.anchor=P?P.anchor:c("");let{patchFlag:C,dynamicChildren:j,slotScopeIds:Z}=T;Z&&(ne=ne?ne.concat(Z):Z),P==null?(r(X,I,O),r(N,I,O),V(T.children,I,N,U,B,J,ne,ae)):C>0&&C&64&&j&&P.dynamicChildren?(L(P.dynamicChildren,j,I,U,B,J,ne),(T.key!=null||U&&T===U.subTree)&&oA(P,T,!0)):ve(P,T,I,N,U,B,J,ne,ae)},be=(P,T,I,O,U,B,J,ne,ae)=>{T.slotScopeIds=ne,P==null?T.shapeFlag&512?U.ctx.activate(T,I,O,J,ae):Se(T,I,O,U,B,J,ae):Ue(P,T,ae)},Se=(P,T,I,O,U,B,J)=>{const ne=P.component=IM(P,O,U);if($h(P)&&(ne.ctx.renderer=re),TM(ne),ne.asyncDep){if(U&&U.registerDep(ne,he),!P.el){const ae=ne.subTree=xe(Pr);b(null,ae,T,I)}return}he(ne,P,T,I,U,B,J)},Ue=(P,T,I)=>{const O=T.component=P.component;if(DL(P,T,I))if(O.asyncDep&&!O.asyncResolved){Ee(O,T,I);return}else O.next=T,NL(O.update),O.update();else T.el=P.el,O.vnode=T},he=(P,T,I,O,U,B,J)=>{const ne=()=>{if(P.isMounted){let{next:N,bu:C,u:j,parent:Z,vnode:me}=P,ie=N,de;Ko(P,!1),N?(N.el=me.el,Ee(P,N,J)):N=me,C&&Vf(C),(de=N.props&&N.props.onVnodeBeforeUpdate)&&zr(de,Z,N,me),Ko(P,!0);const Ne=dg(P),Be=P.subTree;P.subTree=Ne,E(Be,Ne,h(Be.el),$(Be),P,U,B),N.el=Ne.el,ie===null&&LL(P,Ne.el),j&&Hn(j,U),(de=N.props&&N.props.onVnodeUpdated)&&Hn(()=>zr(de,Z,N,me),U)}else{let N;const{el:C,props:j}=T,{bm:Z,m:me,parent:ie}=P,de=jf(T);if(Ko(P,!1),Z&&Vf(Z),!de&&(N=j&&j.onVnodeBeforeMount)&&zr(N,ie,T),Ko(P,!0),C&&ke){const Ne=()=>{P.subTree=dg(P),ke(C,P.subTree,P,U,null)};de?T.type.__asyncLoader().then(()=>!P.isUnmounted&&Ne()):Ne()}else{const Ne=P.subTree=dg(P);E(null,Ne,I,O,P,U,B),T.el=Ne.el}if(me&&Hn(me,U),!de&&(N=j&&j.onVnodeMounted)){const Ne=T;Hn(()=>zr(N,ie,Ne),U)}(T.shapeFlag&256||ie&&jf(ie.vnode)&&ie.vnode.shapeFlag&256)&&P.a&&Hn(P.a,U),P.isMounted=!0,T=I=O=null}},ae=P.effect=new ly(ne,()=>yy(X),P.scope),X=P.update=()=>ae.run();X.id=P.uid,Ko(P,!0),X()},Ee=(P,T,I)=>{T.component=P;const O=P.vnode.props;P.vnode=T,P.next=null,lM(P,T.props,O,I),dM(P,T.children,I),Ga(),ZE(),za()},ve=(P,T,I,O,U,B,J,ne,ae=!1)=>{const X=P&&P.children,N=P?P.shapeFlag:0,C=T.children,{patchFlag:j,shapeFlag:Z}=T;if(j>0){if(j&128){lt(X,C,I,O,U,B,J,ne,ae);return}else if(j&256){ot(X,C,I,O,U,B,J,ne,ae);return}}Z&8?(N&16&&Ie(X,U,B),C!==X&&g(I,C)):N&16?Z&16?lt(X,C,I,O,U,B,J,ne,ae):Ie(X,U,B,!0):(N&8&&g(I,""),Z&16&&V(C,I,O,U,B,J,ne,ae))},ot=(P,T,I,O,U,B,J,ne,ae)=>{P=P||pa,T=T||pa;const X=P.length,N=T.length,C=Math.min(X,N);let j;for(j=0;j<C;j++){const Z=T[j]=ae?Yi(T[j]):Jr(T[j]);E(P[j],Z,I,null,U,B,J,ne,ae)}X>N?Ie(P,U,B,!0,!1,C):V(T,I,O,U,B,J,ne,ae,C)},lt=(P,T,I,O,U,B,J,ne,ae)=>{let X=0;const N=T.length;let C=P.length-1,j=N-1;for(;X<=C&&X<=j;){const Z=P[X],me=T[X]=ae?Yi(T[X]):Jr(T[X]);if(Zo(Z,me))E(Z,me,I,null,U,B,J,ne,ae);else break;X++}for(;X<=C&&X<=j;){const Z=P[C],me=T[j]=ae?Yi(T[j]):Jr(T[j]);if(Zo(Z,me))E(Z,me,I,null,U,B,J,ne,ae);else break;C--,j--}if(X>C){if(X<=j){const Z=j+1,me=Z<N?T[Z].el:O;for(;X<=j;)E(null,T[X]=ae?Yi(T[X]):Jr(T[X]),I,me,U,B,J,ne,ae),X++}}else if(X>j)for(;X<=C;)vt(P[X],U,B,!0),X++;else{const Z=X,me=X,ie=new Map;for(X=me;X<=j;X++){const Dt=T[X]=ae?Yi(T[X]):Jr(T[X]);Dt.key!=null&&ie.set(Dt.key,X)}let de,Ne=0;const Be=j-me+1;let rt=!1,Ye=0;const dr=new Array(Be);for(X=0;X<Be;X++)dr[X]=0;for(X=Z;X<=C;X++){const Dt=P[X];if(Ne>=Be){vt(Dt,U,B,!0);continue}let Zn;if(Dt.key!=null)Zn=ie.get(Dt.key);else for(de=me;de<=j;de++)if(dr[de-me]===0&&Zo(Dt,T[de])){Zn=de;break}Zn===void 0?vt(Dt,U,B,!0):(dr[Zn-me]=X+1,Zn>=Ye?Ye=Zn:rt=!0,E(Dt,T[Zn],I,null,U,B,J,ne,ae),Ne++)}const Vr=rt?gM(dr):pa;for(de=Vr.length-1,X=Be-1;X>=0;X--){const Dt=me+X,Zn=T[Dt],un=Dt+1<N?T[Dt+1].el:O;dr[X]===0?E(null,Zn,I,un,U,B,J,ne,ae):rt&&(de<0||X!==Vr[de]?yt(Zn,I,un,2):de--)}}},yt=(P,T,I,O,U=null)=>{const{el:B,type:J,transition:ne,children:ae,shapeFlag:X}=P;if(X&6){yt(P.component.subTree,T,I,O);return}if(X&128){P.suspense.move(T,I,O);return}if(X&64){J.move(P,T,I,re);return}if(J===Wt){r(B,T,I);for(let C=0;C<ae.length;C++)yt(ae[C],T,I,O);r(P.anchor,T,I);return}if(J===gg){D(P,T,I);return}if(O!==2&&X&1&&ne)if(O===0)ne.beforeEnter(B),r(B,T,I),Hn(()=>ne.enter(B),U);else{const{leave:C,delayLeave:j,afterLeave:Z}=ne,me=()=>r(B,T,I),ie=()=>{C(B,()=>{me(),Z&&Z()})};j?j(B,me,ie):ie()}else r(B,T,I)},vt=(P,T,I,O=!1,U=!1)=>{const{type:B,props:J,ref:ne,children:ae,dynamicChildren:X,shapeFlag:N,patchFlag:C,dirs:j}=P;if(ne!=null&&tv(ne,null,I,P,!0),N&256){T.ctx.deactivate(P);return}const Z=N&1&&j,me=!jf(P);let ie;if(me&&(ie=J&&J.onVnodeBeforeUnmount)&&zr(ie,T,P),N&6)le(P.component,I,O);else{if(N&128){P.suspense.unmount(I,O);return}Z&&Wo(P,null,T,"beforeUnmount"),N&64?P.type.remove(P,T,I,U,re,O):X&&(B!==Wt||C>0&&C&64)?Ie(X,T,I,!1,!0):(B===Wt&&C&384||!U&&N&16)&&Ie(ae,T,I),O&&ft(P)}(me&&(ie=J&&J.onVnodeUnmounted)||Z)&&Hn(()=>{ie&&zr(ie,T,P),Z&&Wo(P,null,T,"unmounted")},I)},ft=P=>{const{type:T,el:I,anchor:O,transition:U}=P;if(T===Wt){ht(I,O);return}if(T===gg){R(P);return}const B=()=>{o(I),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(P.shapeFlag&1&&U&&!U.persisted){const{leave:J,delayLeave:ne}=U,ae=()=>J(I,B);ne?ne(P.el,B,ae):ae()}else B()},ht=(P,T)=>{let I;for(;P!==T;)I=p(P),o(P),P=I;o(T)},le=(P,T,I)=>{const{bum:O,scope:U,update:B,subTree:J,um:ne}=P;O&&Vf(O),U.stop(),B&&(B.active=!1,vt(J,P,T,I)),ne&&Hn(ne,T),Hn(()=>{P.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&P.asyncDep&&!P.asyncResolved&&P.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},Ie=(P,T,I,O=!1,U=!1,B=0)=>{for(let J=B;J<P.length;J++)vt(P[J],T,I,O,U)},$=P=>P.shapeFlag&6?$(P.component.subTree):P.shapeFlag&128?P.suspense.next():p(P.anchor||P.el),z=(P,T,I)=>{P==null?T._vnode&&vt(T._vnode,null,null,!0):E(T._vnode||null,P,T,null,null,null,I),ZE(),B1(),T._vnode=P},re={p:E,um:vt,m:yt,r:ft,mt:Se,mc:V,pc:ve,pbc:L,n:$,o:e};let ce,ke;return t&&([ce,ke]=t(re)),{render:z,hydrate:ce,createApp:aM(z,ce)}}function Ko({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function oA(e,t,n=!1){const r=e.children,o=t.children;if(Oe(r)&&Oe(o))for(let s=0;s<r.length;s++){const u=r[s];let c=o[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[s]=Yi(o[s]),c.el=u.el),n||oA(u,c)),c.type===Wc&&(c.el=u.el)}}function gM(e){const t=e.slice(),n=[0];let r,o,s,u,c;const f=e.length;for(r=0;r<f;r++){const d=e[r];if(d!==0){if(o=n[n.length-1],e[o]<d){t[r]=o,n.push(r);continue}for(s=0,u=n.length-1;s<u;)c=s+u>>1,e[n[c]]<d?s=c+1:u=c;d<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,u=n[s-1];s-- >0;)n[s]=u,u=t[u];return n}const vM=e=>e.__isTeleport,Wt=Symbol.for("v-fgt"),Wc=Symbol.for("v-txt"),Pr=Symbol.for("v-cmt"),gg=Symbol.for("v-stc"),tc=[];let Rr=null;function ze(e=!1){tc.push(Rr=e?null:[])}function yM(){tc.pop(),Rr=tc[tc.length-1]||null}let _c=1;function fI(e){_c+=e}function sA(e){return e.dynamicChildren=_c>0?Rr||pa:null,yM(),_c>0&&Rr&&Rr.push(e),e}function ct(e,t,n,r,o,s){return sA(W(e,t,n,r,o,s,!0))}function ps(e,t,n,r,o){return sA(xe(e,t,n,r,o,!0))}function nv(e){return e?e.__v_isVNode===!0:!1}function Zo(e,t){return e.type===t.type&&e.key===t.key}const Kh="__vInternal",aA=({key:e})=>e??null,Bf=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Bt(e)||pt(e)||qe(e)?{i:Kn,r:e,k:t,f:!!n}:e:null);function W(e,t=null,n=null,r=0,o=null,s=e===Wt?0:1,u=!1,c=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&aA(t),ref:t&&Bf(t),scopeId:H1,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Kn};return c?(Ay(f,n),s&128&&e.normalize(f)):n&&(f.shapeFlag|=Bt(n)?8:16),_c>0&&!u&&Rr&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&Rr.push(f),f}const xe=_M;function _M(e,t=null,n=null,r=0,o=null,s=!1){if((!e||e===Q1)&&(e=Pr),nv(e)){const c=ho(e,t,!0);return n&&Ay(c,n),_c>0&&!s&&Rr&&(c.shapeFlag&6?Rr[Rr.indexOf(e)]=c:Rr.push(c)),c.patchFlag|=-2,c}if(CM(e)&&(e=e.__vccOpts),t){t=bM(t);let{class:c,style:f}=t;c&&!Bt(c)&&(t.class=Dn(c)),mt(f)&&(P1(f)&&!Oe(f)&&(f=zt({},f)),t.style=ba(f))}const u=Bt(e)?1:ML(e)?128:vM(e)?64:mt(e)?4:qe(e)?2:0;return W(e,t,n,r,o,u,s,!0)}function bM(e){return e?P1(e)||Kh in e?zt({},e):e:null}function ho(e,t,n=!1){const{props:r,ref:o,patchFlag:s,children:u}=e,c=t?uA(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&aA(c),ref:t&&t.ref?n&&o?Oe(o)?o.concat(Bf(t)):[o,Bf(t)]:Bf(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Wt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ho(e.ssContent),ssFallback:e.ssFallback&&ho(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function uo(e=" ",t=0){return xe(Wc,null,e,t)}function Ea(e="",t=!1){return t?(ze(),ps(Pr,null,e)):xe(Pr,null,e)}function Jr(e){return e==null||typeof e=="boolean"?xe(Pr):Oe(e)?xe(Wt,null,e.slice()):typeof e=="object"?Yi(e):xe(Wc,null,String(e))}function Yi(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ho(e)}function Ay(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Oe(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),Ay(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(Kh in t)?t._ctx=Kn:o===3&&Kn&&(Kn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else qe(t)?(t={default:t,_ctx:Kn},n=32):(t=String(t),r&64?(n=16,t=[uo(t)]):n=8);e.children=t,e.shapeFlag|=n}function uA(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=Dn([t.class,r.class]));else if(o==="style")t.style=ba([t.style,r.style]);else if(Dh(o)){const s=t[o],u=r[o];u&&s!==u&&!(Oe(s)&&s.includes(u))&&(t[o]=s?[].concat(s,u):u)}else o!==""&&(t[o]=r[o])}return t}function zr(e,t,n,r=null){wr(e,t,7,[n,r])}const wM=Z1();let EM=0;function IM(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||wM,s={uid:EM++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new b1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tA(r,o),emitsOptions:$1(r,o),emit:null,emitted:null,propsDefaults:It,inheritAttrs:r.inheritAttrs,ctx:It,data:It,props:It,attrs:It,slots:It,refs:It,setupState:It,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=RL.bind(null,s),e.ce&&e.ce(s),s}let Jt=null;const Ai=()=>Jt||Kn;let ky,ta,hI="__VUE_INSTANCE_SETTERS__";(ta=Hg()[hI])||(ta=Hg()[hI]=[]),ta.push(e=>Jt=e),ky=e=>{ta.length>1?ta.forEach(t=>t(e)):ta[0](e)};const Ia=e=>{ky(e),e.scope.on()},cs=()=>{Jt&&Jt.scope.off(),ky(null)};function cA(e){return e.vnode.shapeFlag&4}let bc=!1;function TM(e,t=!1){bc=t;const{props:n,children:r}=e.vnode,o=cA(e);cM(e,n,o,t),hM(e,r);const s=o?SM(e,t):void 0;return bc=!1,s}function SM(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=jh(new Proxy(e.ctx,eM));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?kM(e):null;Ia(e),Ga();const s=ao(r,e,0,[e.props,o]);if(za(),cs(),p1(s)){if(s.then(cs,cs),t)return s.then(u=>{dI(e,u,t)}).catch(u=>{Bh(u,e,0)});e.asyncDep=s}else dI(e,s,t)}else lA(e,t)}function dI(e,t,n){qe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:mt(t)&&(e.setupState=F1(t)),lA(e,n)}let pI;function lA(e,t,n){const r=e.type;if(!e.render){if(!t&&pI&&!r.render){const o=r.template||Ty(e).template;if(o){const{isCustomElement:s,compilerOptions:u}=e.appContext.config,{delimiters:c,compilerOptions:f}=r,d=zt(zt({isCustomElement:s,delimiters:c},u),f);r.render=pI(o,d)}}e.render=r.render||xr}Ia(e),Ga(),tM(e),za(),cs()}function AM(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Xn(e,"get","$attrs"),t[n]}}))}function kM(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return AM(e)},slots:e.slots,emit:e.emit,expose:t}}function Gh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(F1(jh(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ec)return ec[n](e)},has(t,n){return n in t||n in ec}}))}function NM(e,t=!0){return qe(e)?e.displayName||e.name:e.name||t&&e.__name}function CM(e){return qe(e)&&"__vccOpts"in e}const Pe=(e,t)=>SL(e,t,bc);function ki(e,t,n){const r=arguments.length;return r===2?mt(t)&&!Oe(t)?nv(t)?xe(e,null,[t]):xe(e,t):xe(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&nv(n)&&(n=[n]),xe(e,t,n))}const OM=Symbol.for("v-scx"),RM=()=>cr(OM),xM="3.3.4",PM="http://www.w3.org/2000/svg",es=typeof document<"u"?document:null,mI=es&&es.createElement("template"),DM={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?es.createElementNS(PM,e):es.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>es.createTextNode(e),createComment:e=>es.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>es.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,s){const u=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{mI.innerHTML=r?`<svg>${e}</svg>`:e;const c=mI.content;if(r){const f=c.firstChild;for(;f.firstChild;)c.appendChild(f.firstChild);c.removeChild(f)}t.insertBefore(c,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function LM(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function MM(e,t,n){const r=e.style,o=Bt(n);if(n&&!o){if(t&&!Bt(t))for(const s in t)n[s]==null&&rv(r,s,"");for(const s in n)rv(r,s,n[s])}else{const s=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const gI=/\s*!important$/;function rv(e,t,n){if(Oe(n))n.forEach(r=>rv(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=FM(e,t);gI.test(n)?e.setProperty(Ka(r),n.replace(gI,""),"important"):e[r]=n}}const vI=["Webkit","Moz","ms"],vg={};function FM(e,t){const n=vg[t];if(n)return n;let r=si(t);if(r!=="filter"&&r in e)return vg[t]=r;r=Fh(r);for(let o=0;o<vI.length;o++){const s=vI[o]+r;if(s in e)return vg[t]=s}return t}const yI="http://www.w3.org/1999/xlink";function UM(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(yI,t.slice(6,t.length)):e.setAttributeNS(yI,t,n);else{const s=jD(t);n==null||s&&!y1(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function VM(e,t,n,r,o,s,u){if(t==="innerHTML"||t==="textContent"){r&&u(r,o,s),e[t]=n??"";return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){e._value=n;const d=c==="OPTION"?e.getAttribute("value"):e.value,g=n??"";d!==g&&(e.value=g),n==null&&e.removeAttribute(t);return}let f=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=y1(n):n==null&&d==="string"?(n="",f=!0):d==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}function fA(e,t,n,r){e.addEventListener(t,n,r)}function jM(e,t,n,r){e.removeEventListener(t,n,r)}function BM(e,t,n,r,o=null){const s=e._vei||(e._vei={}),u=s[t];if(r&&u)u.value=r;else{const[c,f]=qM(t);if(r){const d=s[t]=WM(r,o);fA(e,c,d,f)}else u&&(jM(e,c,u,f),s[t]=void 0)}}const _I=/(?:Once|Passive|Capture)$/;function qM(e){let t;if(_I.test(e)){t={};let r;for(;r=e.match(_I);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ka(e.slice(2)),t]}let yg=0;const $M=Promise.resolve(),HM=()=>yg||($M.then(()=>yg=0),yg=Date.now());function WM(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;wr(KM(r,n.value),t,5,[r])};return n.value=e,n.attached=HM(),n}function KM(e,t){if(Oe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const bI=/^on[a-z]/,GM=(e,t,n,r,o=!1,s,u,c,f)=>{t==="class"?LM(e,r,o):t==="style"?MM(e,n,r):Dh(t)?oy(t)||BM(e,t,n,r,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):zM(e,t,r,o))?VM(e,t,r,s,u,c,f):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),UM(e,t,r,o))};function zM(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&bI.test(t)&&qe(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||bI.test(t)&&Bt(n)?!1:t in e}const Bi="transition",Bu="animation",Ny=(e,{slots:t})=>ki(qL,XM(e),t);Ny.displayName="Transition";const hA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ny.props=zt({},K1,hA);const Go=(e,t=[])=>{Oe(e)?e.forEach(n=>n(...t)):e&&e(...t)},wI=e=>e?Oe(e)?e.some(t=>t.length>1):e.length>1:!1;function XM(e){const t={};for(const se in e)se in hA||(t[se]=e[se]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:u=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:f=s,appearActiveClass:d=u,appearToClass:g=c,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=e,_=YM(o),E=_&&_[0],A=_&&_[1],{onBeforeEnter:b,onEnter:k,onEnterCancelled:D,onLeave:R,onLeaveCancelled:M,onBeforeAppear:F=b,onAppear:K=k,onAppearCancelled:V=D}=t,q=(se,be,Se)=>{zo(se,be?g:c),zo(se,be?d:u),Se&&Se()},L=(se,be)=>{se._isLeaving=!1,zo(se,h),zo(se,v),zo(se,p),be&&be()},we=se=>(be,Se)=>{const Ue=se?K:k,he=()=>q(be,se,Se);Go(Ue,[be,he]),EI(()=>{zo(be,se?f:s),qi(be,se?g:c),wI(Ue)||II(be,r,E,he)})};return zt(t,{onBeforeEnter(se){Go(b,[se]),qi(se,s),qi(se,u)},onBeforeAppear(se){Go(F,[se]),qi(se,f),qi(se,d)},onEnter:we(!1),onAppear:we(!0),onLeave(se,be){se._isLeaving=!0;const Se=()=>L(se,be);qi(se,h),ZM(),qi(se,p),EI(()=>{se._isLeaving&&(zo(se,h),qi(se,v),wI(R)||II(se,r,A,Se))}),Go(R,[se,Se])},onEnterCancelled(se){q(se,!1),Go(D,[se])},onAppearCancelled(se){q(se,!0),Go(V,[se])},onLeaveCancelled(se){L(se),Go(M,[se])}})}function YM(e){if(e==null)return null;if(mt(e))return[_g(e.enter),_g(e.leave)];{const t=_g(e);return[t,t]}}function _g(e){return DD(e)}function qi(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function zo(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function EI(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let QM=0;function II(e,t,n,r){const o=e._endId=++QM,s=()=>{o===e._endId&&r()};if(n)return setTimeout(s,n);const{type:u,timeout:c,propCount:f}=JM(e,t);if(!u)return r();const d=u+"end";let g=0;const h=()=>{e.removeEventListener(d,p),s()},p=v=>{v.target===e&&++g>=f&&h()};setTimeout(()=>{g<f&&h()},c+1),e.addEventListener(d,p)}function JM(e,t){const n=window.getComputedStyle(e),r=_=>(n[_]||"").split(", "),o=r(`${Bi}Delay`),s=r(`${Bi}Duration`),u=TI(o,s),c=r(`${Bu}Delay`),f=r(`${Bu}Duration`),d=TI(c,f);let g=null,h=0,p=0;t===Bi?u>0&&(g=Bi,h=u,p=s.length):t===Bu?d>0&&(g=Bu,h=d,p=f.length):(h=Math.max(u,d),g=h>0?u>d?Bi:Bu:null,p=g?g===Bi?s.length:f.length:0);const v=g===Bi&&/\b(transform|all)(,|$)/.test(r(`${Bi}Property`).toString());return{type:g,timeout:h,propCount:p,hasTransform:v}}function TI(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>SI(n)+SI(e[r])))}function SI(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function ZM(){return document.body.offsetHeight}const AI=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Oe(t)?n=>Vf(t,n):t},eF={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=Lh(t);fA(e,"change",()=>{const s=Array.prototype.filter.call(e.options,u=>u.selected).map(u=>n?v1(th(u)):th(u));e._assign(e.multiple?o?new Set(s):s:s[0])}),e._assign=AI(r)},mounted(e,{value:t}){kI(e,t)},beforeUpdate(e,t,n){e._assign=AI(n)},updated(e,{value:t}){kI(e,t)}};function kI(e,t){const n=e.multiple;if(!(n&&!Oe(t)&&!Lh(t))){for(let r=0,o=e.options.length;r<o;r++){const s=e.options[r],u=th(s);if(n)Oe(t)?s.selected=qD(t,u)>-1:s.selected=t.has(u);else if(Uh(th(s),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function th(e){return"_value"in e?e._value:e.value}const tF=["ctrl","shift","alt","meta"],nF={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>tF.some(n=>e[`${n}Key`]&&!t.includes(n))},Qr=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const s=nF[t[o]];if(s&&s(n,t))return}return e(n,...r)},NI={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):qu(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),qu(e,!0),r.enter(e)):r.leave(e,()=>{qu(e,!1)}):qu(e,t))},beforeUnmount(e,{value:t}){qu(e,t)}};function qu(e,t){e.style.display=t?e._vod:"none"}const rF=zt({patchProp:GM},DM);let CI;function iF(){return CI||(CI=pM(rF))}const oF=(...e)=>{const t=iF().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=sF(r);if(!o)return;const s=t._component;!qe(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const u=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),u},t};function sF(e){return Bt(e)?document.querySelector(e):e}var aF=!1;/*!
  * pinia v2.1.3
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let dA;const zh=e=>dA=e,pA=Symbol();function iv(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var nc;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(nc||(nc={}));function uF(){const e=uy(!0),t=e.run(()=>Ct({}));let n=[],r=[];const o=jh({install(s){zh(o),o._a=s,s.provide(pA,o),s.config.globalProperties.$pinia=o,r.forEach(u=>n.push(u)),r=[]},use(s){return!this._a&&!aF?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const mA=()=>{};function OI(e,t,n,r=mA){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&w1()&&HD(o),o}function na(e,...t){e.slice().forEach(n=>{n(...t)})}const cF=e=>e();function ov(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];iv(o)&&iv(r)&&e.hasOwnProperty(n)&&!pt(r)&&!so(r)?e[n]=ov(o,r):e[n]=r}return e}const lF=Symbol();function fF(e){return!iv(e)||!e.hasOwnProperty(lF)}const{assign:Xi}=Object;function hF(e){return!!(pt(e)&&e.effect)}function dF(e,t,n,r){const{state:o,actions:s,getters:u}=t,c=n.state.value[e];let f;function d(){c||(n.state.value[e]=o?o():{});const g=wL(n.state.value[e]);return Xi(g,s,Object.keys(u||{}).reduce((h,p)=>(h[p]=jh(Pe(()=>{zh(n);const v=n._s.get(e);return u[p].call(v,v)})),h),{}))}return f=gA(e,d,t,n,r,!0),f}function gA(e,t,n={},r,o,s){let u;const c=Xi({actions:{}},n),f={deep:!0};let d,g,h=[],p=[],v;const _=r.state.value[e];!s&&!_&&(r.state.value[e]={}),Ct({});let E;function A(V){let q;d=g=!1,typeof V=="function"?(V(r.state.value[e]),q={type:nc.patchFunction,storeId:e,events:v}):(ov(r.state.value[e],V),q={type:nc.patchObject,payload:V,storeId:e,events:v});const L=E=Symbol();ns().then(()=>{E===L&&(d=!0)}),g=!0,na(h,q,r.state.value[e])}const b=s?function(){const{state:q}=n,L=q?q():{};this.$patch(we=>{Xi(we,L)})}:mA;function k(){u.stop(),h=[],p=[],r._s.delete(e)}function D(V,q){return function(){zh(r);const L=Array.from(arguments),we=[],se=[];function be(he){we.push(he)}function Se(he){se.push(he)}na(p,{args:L,name:V,store:M,after:be,onError:Se});let Ue;try{Ue=q.apply(this&&this.$id===e?this:M,L)}catch(he){throw na(se,he),he}return Ue instanceof Promise?Ue.then(he=>(na(we,he),he)).catch(he=>(na(se,he),Promise.reject(he))):(na(we,Ue),Ue)}}const R={_p:r,$id:e,$onAction:OI.bind(null,p),$patch:A,$reset:b,$subscribe(V,q={}){const L=OI(h,V,q.detached,()=>we()),we=u.run(()=>wn(()=>r.state.value[e],se=>{(q.flush==="sync"?g:d)&&V({storeId:e,type:nc.direct,events:v},se)},Xi({},f,q)));return L},$dispose:k},M=ai(R);r._s.set(e,M);const F=r._a&&r._a.runWithContext||cF,K=r._e.run(()=>(u=uy(),F(()=>u.run(t))));for(const V in K){const q=K[V];if(pt(q)&&!hF(q)||so(q))s||(_&&fF(q)&&(pt(q)?q.value=_[V]:ov(q,_[V])),r.state.value[e][V]=q);else if(typeof q=="function"){const L=D(V,q);K[V]=L,c.actions[V]=q}}return Xi(M,K),Xi(Je(M),K),Object.defineProperty(M,"$state",{get:()=>r.state.value[e],set:V=>{A(q=>{Xi(q,V)})}}),r._p.forEach(V=>{Xi(M,u.run(()=>V({store:M,app:r._a,pinia:r,options:c})))}),_&&s&&n.hydrate&&n.hydrate(M.$state,_),d=!0,g=!0,M}function Cy(e,t,n){let r,o;const s=typeof t=="function";typeof e=="string"?(r=e,o=s?n:t):(o=e,r=e.id);function u(c,f){const d=uM();return c=c||(d?cr(pA,null):null),c&&zh(c),c=dA,c._s.has(r)||(s?gA(r,t,o,c):dF(r,o,c)),c._s.get(r)}return u.$id=r,u}let pF="Store";function mF(...e){return e.reduce((t,n)=>(t[n.$id+pF]=function(){return n(this.$pinia)},t),{})}function Oy(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(){return e(this.$pinia)[r]},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(){const o=e(this.$pinia),s=t[r];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function Xh(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[r](...o)},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[t[r]](...o)},n),{})}function vA(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[r]},set(o){return e(this.$pinia)[r]=o}},n),{}):Object.keys(t).reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[t[r]]},set(o){return e(this.$pinia)[t[r]]=o}},n),{})}const sv=Cy("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var av=function(e,t){return av=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},av(e,t)};function Re(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");av(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ta=function(){return Ta=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ta.apply(this,arguments)};function Q(e,t,n,r){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function c(g){try{d(r.next(g))}catch(h){u(h)}}function f(g){try{d(r.throw(g))}catch(h){u(h)}}function d(g){g.done?s(g.value):o(g.value).then(c,f)}d((r=r.apply(e,t||[])).next())})}function Y(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(d){return function(g){return f([d,g])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,d[0]&&(n=0)),n;)try{if(r=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(g){d=[6,g],o=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function bg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function If(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],u;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(c){u={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return s}function kt(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yA=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},gF=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],u=e[n++],c=e[n++],f=((o&7)<<18|(s&63)<<12|(u&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|u&63)}}return t.join("")},vF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var s=e[o],u=o+1<e.length,c=u?e[o+1]:0,f=o+2<e.length,d=f?e[o+2]:0,g=s>>2,h=(s&3)<<4|c>>4,p=(c&15)<<2|d>>6,v=d&63;f||(v=64,u||(p=64)),r.push(n[g],n[h],n[p],n[v])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(yA(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):gF(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var s=n[e.charAt(o++)],u=o<e.length,c=u?n[e.charAt(o)]:0;++o;var f=o<e.length,d=f?n[e.charAt(o)]:64;++o;var g=o<e.length,h=g?n[e.charAt(o)]:64;if(++o,s==null||c==null||d==null||h==null)throw Error();var p=s<<2|c>>4;if(r.push(p),d!==64){var v=c<<4&240|d>>2;if(r.push(v),h!==64){var _=d<<6&192|h;r.push(_)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},yF=function(e){var t=yA(e);return vF.encodeByteArray(t,!0)},RI=function(e){return yF(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(e){return wc(void 0,e)}function wc(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!bF(r)||(e[r]=wc(e[r],t[r]));return e}function bF(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wF=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,o){r?n.reject(r):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var u=Ta({iss:"https://securetoken.google.com/"+r,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),c="";return[RI(JSON.stringify(n)),RI(JSON.stringify(u)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ms())}function bA(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IF(){return typeof self=="object"&&self.self===self}function TF(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function SF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AF(){return ms().indexOf("Electron/")>=0}function kF(){var e=ms();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function NF(){return ms().indexOf("MSAppHost/")>=0}function CF(){return!bA()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OF="FirebaseError",wA=function(e){Re(t,e);function t(n,r,o){var s=e.call(this,r)||this;return s.code=n,s.customData=o,s.name=OF,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Ry.prototype.create),s}return t}(Error),Ry=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0]||{},s=this.service+"/"+t,u=this.errors[t],c=u?RF(u,o):"Error",f=this.serviceName+": "+c+" ("+s+").",d=new wA(s,f,o);return d},e}();function RF(e,t){return e.replace(xF,function(n,r){var o=t[r];return o!=null?String(o):"<"+r+"?>"})}var xF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function PF(e,t){var n=new DF(e,t);return n.subscribe.bind(n)}var DF=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(o){r.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var o=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LF(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=wg),s.error===void 0&&(s.error=wg),s.complete===void 0&&(s.complete=wg);var u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),u},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function LF(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function wg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(e){return e&&e._delegate?e._delegate:e}var Kc=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MF=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new wF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(UF(t))try{this.getOrInitializeService({instanceIdentifier:Yo})}catch{}try{for(var o=bg(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var u=If(s.value,2),c=u[0],f=u[1],d=this.normalizeInstanceIdentifier(c);try{var g=this.getOrInitializeService({instanceIdentifier:d});f.resolve(g)}catch{}}}catch(h){n={error:h}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Yo),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return Q(this,void 0,void 0,function(){var t;return Y(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(kt(kt([],If(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),If(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Yo),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Yo),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,u=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:s});try{for(var f=bg(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var g=If(d.value,2),h=g[0],p=g[1],v=this.normalizeInstanceIdentifier(h);u===v&&p.resolve(c)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return c},e.prototype.onInit=function(t,n){var r,o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(o,s);var u=this.instances.get(o);return u&&t(u,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,o,s=this.onInitCallbacks.get(n);if(s)try{for(var u=bg(s),c=u.next();!c.done;c=u.next()){var f=c.value;try{f(t,n)}catch{}}}catch(d){r={error:d}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,o=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:FF(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Yo),this.component?this.component.multipleInstances?t:Yo:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function FF(e){return e===Yo?void 0:e}function UF(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VF=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new MF(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Cr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],u=0,c=s.length;u<c;u++,o++)r[o]=s[u];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xo,xy=[],nt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(nt||(nt={}));var EA={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},jF=nt.INFO,BF=(Xo={},Xo[nt.DEBUG]="log",Xo[nt.VERBOSE]="log",Xo[nt.INFO]="info",Xo[nt.WARN]="warn",Xo[nt.ERROR]="error",Xo),qF=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=BF[t];if(s)console[s].apply(console,Cr(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},IA=function(){function e(t){this.name=t,this._logLevel=jF,this._logHandler=qF,this._userLogHandler=null,xy.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in nt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?EA[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Cr([this,nt.DEBUG],t)),this._logHandler.apply(this,Cr([this,nt.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Cr([this,nt.VERBOSE],t)),this._logHandler.apply(this,Cr([this,nt.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Cr([this,nt.INFO],t)),this._logHandler.apply(this,Cr([this,nt.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Cr([this,nt.WARN],t)),this._logHandler.apply(this,Cr([this,nt.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Cr([this,nt.ERROR],t)),this._logHandler.apply(this,Cr([this,nt.ERROR],t))},e}();function $F(e){xy.forEach(function(t){t.setLogLevel(e)})}function HF(e,t){for(var n=function(u){var c=null;t&&t.level&&(c=EA[t.level]),e===null?u.userLogHandler=null:u.userLogHandler=function(f,d){for(var g=[],h=2;h<arguments.length;h++)g[h-2]=arguments[h];var p=g.map(function(v){if(v==null)return null;if(typeof v=="string")return v;if(typeof v=="number"||typeof v=="boolean")return v.toString();if(v instanceof Error)return v.message;try{return JSON.stringify(v)}catch{return null}}).filter(function(v){return v}).join(" ");d>=(c??f.logLevel)&&e({level:nt[d].toLowerCase(),message:p,args:g,type:f.name})}},r=0,o=xy;r<o.length;r++){var s=o[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $i,WF=($i={},$i["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",$i["bad-app-name"]="Illegal App name: '{$appName}",$i["duplicate-app"]="Firebase App named '{$appName}' already exists",$i["app-deleted"]="Firebase App named '{$appName}' already deleted",$i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",$i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",$i),sa=new Ry("app","Firebase",WF),TA="@firebase/app",KF="0.6.30",GF="@firebase/analytics",zF="@firebase/app-check",XF="@firebase/auth",YF="@firebase/database",QF="@firebase/functions",JF="@firebase/installations",ZF="@firebase/messaging",eU="@firebase/performance",tU="@firebase/remote-config",nU="@firebase/storage",rU="@firebase/firestore",iU="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn,nh="[DEFAULT]",oU=(gn={},gn[TA]="fire-core",gn[GF]="fire-analytics",gn[zF]="fire-app-check",gn[XF]="fire-auth",gn[YF]="fire-rtdb",gn[QF]="fire-fn",gn[JF]="fire-iid",gn[ZF]="fire-fcm",gn[eU]="fire-perf",gn[tU]="fire-rc",gn[nU]="fire-gcs",gn[rU]="fire-fst",gn["fire-js"]="fire-js",gn[iU]="fire-js-all",gn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sa=new IA("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qf=function(){function e(t,n,r){var o=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=_F(t),this.container=new VF(n.name),this._addComponent(new Kc("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=nh),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((r=o.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=nh),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Sa.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw sa.create("app-deleted",{appName:this.name_})},e}();qf.prototype.name&&qf.prototype.options||qf.prototype.delete||console.log("dc");var sU="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(e){var t={},n=new Map,r={__esModule:!0,initializeApp:u,app:s,registerVersion:d,setLogLevel:$F,onLog:g,apps:null,SDK_VERSION:sU,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:h}};r.default=r,Object.defineProperty(r,"apps",{get:c});function o(p){delete t[p]}function s(p){if(p=p||nh,!xI(t,p))throw sa.create("no-app",{appName:p});return t[p]}s.App=e;function u(p,v){if(v===void 0&&(v={}),typeof v!="object"||v===null){var _=v;v={name:_}}var E=v;E.name===void 0&&(E.name=nh);var A=E.name;if(typeof A!="string"||!A)throw sa.create("bad-app-name",{appName:String(A)});if(xI(t,A))throw sa.create("duplicate-app",{appName:A});var b=new e(p,E,r);return t[A]=b,b}function c(){return Object.keys(t).map(function(p){return t[p]})}function f(p){var v=p.name;if(n.has(v))return Sa.debug("There were multiple attempts to register component "+v+"."),p.type==="PUBLIC"?r[v]:null;if(n.set(v,p),p.type==="PUBLIC"){var _=function(k){if(k===void 0&&(k=s()),typeof k[v]!="function")throw sa.create("invalid-app-argument",{appName:v});return k[v]()};p.serviceProps!==void 0&&wc(_,p.serviceProps),r[v]=_,e.prototype[v]=function(){for(var k=[],D=0;D<arguments.length;D++)k[D]=arguments[D];var R=this._getService.bind(this,v);return R.apply(this,p.multipleInstances?k:[])}}for(var E=0,A=Object.keys(t);E<A.length;E++){var b=A[E];t[b]._addComponent(p)}return p.type==="PUBLIC"?r[v]:null}function d(p,v,_){var E,A=(E=oU[p])!==null&&E!==void 0?E:p;_&&(A+="-"+_);var b=A.match(/\s|\//),k=v.match(/\s|\//);if(b||k){var D=['Unable to register library "'+A+'" with version "'+v+'":'];b&&D.push('library name "'+A+'" contains illegal characters (whitespace or "/")'),b&&k&&D.push("and"),k&&D.push('version name "'+v+'" contains illegal characters (whitespace or "/")'),Sa.warn(D.join(" "));return}f(new Kc(A+"-version",function(){return{library:A,version:v}},"VERSION"))}function g(p,v){if(p!==null&&typeof p!="function")throw sa.create("invalid-log-argument");HF(p,v)}function h(p,v){if(v==="serverAuth")return null;var _=v;return _}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(){var e=aU(qf);e.INTERNAL=Ta(Ta({},e.INTERNAL),{createFirebaseNamespace:SA,extendNamespace:t,createSubscribe:PF,ErrorFactory:Ry,deepExtend:wc});function t(n){wc(e,n)}return e}var Py=SA();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uU=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(cU(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function cU(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(e,t){e.INTERNAL.registerComponent(new Kc("platform-logger",function(n){return new uU(n)},"PRIVATE")),e.registerVersion(TA,KF,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(IF()&&self.firebase!==void 0){Sa.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var PI=self.firebase.SDK_VERSION;PI&&PI.indexOf("LITE")>=0&&Sa.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var fU=Py.initializeApp;Py.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return bA()&&Sa.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),fU.apply(void 0,e)};var De=Py;lU(De);var hU="firebase",AA="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */De.registerVersion(hU,AA,"app");De.SDK_VERSION=AA;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,a,l){i!=Array.prototype&&i!=Object.prototype&&(i[a]=l.value)};function n(i){i=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,i];for(var a=0;a<i.length;++a){var l=i[a];if(l&&l.Math==Math)return l}return globalThis}var r=n(this);function o(i,a){if(a){var l=r;i=i.split(".");for(var m=0;m<i.length-1;m++){var y=i[m];y in l||(l[y]={}),l=l[y]}i=i[i.length-1],m=l[i],a=a(m),a!=m&&a!=null&&t(l,i,{configurable:!0,writable:!0,value:a})}}function s(i){var a=0;return function(){return a<i.length?{done:!1,value:i[a++]}:{done:!0}}}function u(i){var a=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return a?a.call(i):{next:s(i)}}o("Promise",function(i){function a(S){this.b=0,this.c=void 0,this.a=[];var x=this.f();try{S(x.resolve,x.reject)}catch(G){x.reject(G)}}function l(){this.a=null}function m(S){return S instanceof a?S:new a(function(x){x(S)})}if(i)return i;l.prototype.b=function(S){if(this.a==null){this.a=[];var x=this;this.c(function(){x.g()})}this.a.push(S)};var y=r.setTimeout;l.prototype.c=function(S){y(S,0)},l.prototype.g=function(){for(;this.a&&this.a.length;){var S=this.a;this.a=[];for(var x=0;x<S.length;++x){var G=S[x];S[x]=null;try{G()}catch(ee){this.f(ee)}}}this.a=null},l.prototype.f=function(S){this.c(function(){throw S})},a.prototype.f=function(){function S(ee){return function(Fe){G||(G=!0,ee.call(x,Fe))}}var x=this,G=!1;return{resolve:S(this.m),reject:S(this.g)}},a.prototype.m=function(S){if(S===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(S instanceof a)this.s(S);else{e:switch(typeof S){case"object":var x=S!=null;break e;case"function":x=!0;break e;default:x=!1}x?this.v(S):this.h(S)}},a.prototype.v=function(S){var x=void 0;try{x=S.then}catch(G){this.g(G);return}typeof x=="function"?this.u(x,S):this.h(S)},a.prototype.g=function(S){this.i(2,S)},a.prototype.h=function(S){this.i(1,S)},a.prototype.i=function(S,x){if(this.b!=0)throw Error("Cannot settle("+S+", "+x+"): Promise already settled in state"+this.b);this.b=S,this.c=x,this.l()},a.prototype.l=function(){if(this.a!=null){for(var S=0;S<this.a.length;++S)w.b(this.a[S]);this.a=null}};var w=new l;return a.prototype.s=function(S){var x=this.f();S.Ra(x.resolve,x.reject)},a.prototype.u=function(S,x){var G=this.f();try{S.call(x,G.resolve,G.reject)}catch(ee){G.reject(ee)}},a.prototype.then=function(S,x){function G(et,rn){return typeof et=="function"?function(pi){try{ee(et(pi))}catch(fg){Fe(fg)}}:rn}var ee,Fe,at=new a(function(et,rn){ee=et,Fe=rn});return this.Ra(G(S,ee),G(x,Fe)),at},a.prototype.catch=function(S){return this.then(void 0,S)},a.prototype.Ra=function(S,x){function G(){switch(ee.b){case 1:S(ee.c);break;case 2:x(ee.c);break;default:throw Error("Unexpected state: "+ee.b)}}var ee=this;this.a==null?w.b(G):this.a.push(G)},a.resolve=m,a.reject=function(S){return new a(function(x,G){G(S)})},a.race=function(S){return new a(function(x,G){for(var ee=u(S),Fe=ee.next();!Fe.done;Fe=ee.next())m(Fe.value).Ra(x,G)})},a.all=function(S){var x=u(S),G=x.next();return G.done?m([]):new a(function(ee,Fe){function at(pi){return function(fg){et[pi]=fg,rn--,rn==0&&ee(et)}}var et=[],rn=0;do et.push(void 0),rn++,m(G.value).Ra(at(et.length-1),Fe),G=x.next();while(!G.done)})},a});var c=c||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,g=null;function h(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&d.test(i)?i:""}function p(){}function v(i){var a=typeof i;return a!="object"?a:i?Array.isArray(i)?"array":a:"null"}function _(i){var a=v(i);return a=="array"||a=="object"&&typeof i.length=="number"}function E(i){return v(i)=="function"}function A(i){var a=typeof i;return a=="object"&&i!=null||a=="function"}function b(i){return Object.prototype.hasOwnProperty.call(i,k)&&i[k]||(i[k]=++D)}var k="closure_uid_"+(1e9*Math.random()>>>0),D=0;function R(i,a,l){return i.call.apply(i.bind,arguments)}function M(i,a,l){if(!i)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(y,m),i.apply(a,y)}}return function(){return i.apply(a,arguments)}}function F(i,a,l){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?F=R:F=M,F.apply(null,arguments)}function K(i,a){var l=Array.prototype.slice.call(arguments,1);return function(){var m=l.slice();return m.push.apply(m,arguments),i.apply(this,m)}}function V(i,a){function l(){}l.prototype=a.prototype,i.bb=a.prototype,i.prototype=new l,i.prototype.constructor=i}function q(i){return i}function L(i,a,l){this.code=se+i,this.message=a||be[i]||"",this.a=l||null}V(L,Error),L.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},L.prototype.toJSON=function(){return this.w()};function we(i){var a=i&&i.code;return a?new L(a.substring(se.length),i.message,i.serverResponse):null}var se="auth/",be={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Se={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Ue(i){for(var a in Se)if(Se[a].id===i)return i=Se[a],{firebaseEndpoint:i.Ua,secureTokenEndpoint:i.$a,identityPlatformEndpoint:i.Xa};return null}var he;he=Ue("__EID__")?"__EID__":void 0;function Ee(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch{return!1}}function ve(i){if(Error.captureStackTrace)Error.captureStackTrace(this,ve);else{var a=Error().stack;a&&(this.stack=a)}i&&(this.message=String(i))}V(ve,Error),ve.prototype.name="CustomError";function ot(i,a){i=i.split("%s");for(var l="",m=i.length-1,y=0;y<m;y++)l+=i[y]+(y<a.length?a[y]:"%s");ve.call(this,l+i[m])}V(ot,ve),ot.prototype.name="AssertionError";function lt(i,a){throw new ot("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function yt(i,a){this.c=i,this.f=a,this.b=0,this.a=null}yt.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};function vt(i,a){i.f(a),100>i.b&&(i.b++,a.next=i.a,i.a=a)}function ft(){this.b=this.a=null}var ht=new yt(function(){return new Ie},function(i){i.reset()});ft.prototype.add=function(i,a){var l=ht.get();l.set(i,a),this.b?this.b.next=l:this.a=l,this.b=l};function le(){var i=Cb,a=null;return i.a&&(a=i.a,i.a=i.a.next,i.a||(i.b=null),a.next=null),a}function Ie(){this.next=this.b=this.a=null}Ie.prototype.set=function(i,a){this.a=i,this.b=a,this.next=null},Ie.prototype.reset=function(){this.next=this.b=this.a=null};var $=Array.prototype.indexOf?function(i,a){return Array.prototype.indexOf.call(i,a,void 0)}:function(i,a){if(typeof i=="string")return typeof a!="string"||a.length!=1?-1:i.indexOf(a,0);for(var l=0;l<i.length;l++)if(l in i&&i[l]===a)return l;return-1},z=Array.prototype.forEach?function(i,a,l){Array.prototype.forEach.call(i,a,l)}:function(i,a,l){for(var m=i.length,y=typeof i=="string"?i.split(""):i,w=0;w<m;w++)w in y&&a.call(l,y[w],w,i)};function re(i,a){for(var l=typeof i=="string"?i.split(""):i,m=i.length-1;0<=m;--m)m in l&&a.call(void 0,l[m],m,i)}var ce=Array.prototype.filter?function(i,a){return Array.prototype.filter.call(i,a,void 0)}:function(i,a){for(var l=i.length,m=[],y=0,w=typeof i=="string"?i.split(""):i,S=0;S<l;S++)if(S in w){var x=w[S];a.call(void 0,x,S,i)&&(m[y++]=x)}return m},ke=Array.prototype.map?function(i,a){return Array.prototype.map.call(i,a,void 0)}:function(i,a){for(var l=i.length,m=Array(l),y=typeof i=="string"?i.split(""):i,w=0;w<l;w++)w in y&&(m[w]=a.call(void 0,y[w],w,i));return m},P=Array.prototype.some?function(i,a){return Array.prototype.some.call(i,a,void 0)}:function(i,a){for(var l=i.length,m=typeof i=="string"?i.split(""):i,y=0;y<l;y++)if(y in m&&a.call(void 0,m[y],y,i))return!0;return!1};function T(i){e:{for(var a=ax,l=i.length,m=typeof i=="string"?i.split(""):i,y=0;y<l;y++)if(y in m&&a.call(void 0,m[y],y,i)){a=y;break e}a=-1}return 0>a?null:typeof i=="string"?i.charAt(a):i[a]}function I(i,a){return 0<=$(i,a)}function O(i,a){a=$(i,a);var l;return(l=0<=a)&&Array.prototype.splice.call(i,a,1),l}function U(i,a){var l=0;re(i,function(m,y){a.call(void 0,m,y,i)&&Array.prototype.splice.call(i,y,1).length==1&&l++})}function B(i){return Array.prototype.concat.apply([],arguments)}function J(i){var a=i.length;if(0<a){for(var l=Array(a),m=0;m<a;m++)l[m]=i[m];return l}return[]}var ne=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},ae=/&/g,X=/</g,N=/>/g,C=/"/g,j=/'/g,Z=/\x00/g,me=/[\x00&<>"']/;function ie(i,a){return i.indexOf(a)!=-1}function de(i,a){return i<a?-1:i>a?1:0}var Ne;e:{var Be=f.navigator;if(Be){var rt=Be.userAgent;if(rt){Ne=rt;break e}}Ne=""}function Ye(i){return ie(Ne,i)}function dr(i,a){for(var l in i)a.call(void 0,i[l],l,i)}function Vr(i){for(var a in i)return!1;return!0}function Dt(i){var a={},l;for(l in i)a[l]=i[l];return a}var Zn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function un(i,a){for(var l,m,y=1;y<arguments.length;y++){m=arguments[y];for(l in m)i[l]=m[l];for(var w=0;w<Zn.length;w++)l=Zn[w],Object.prototype.hasOwnProperty.call(m,l)&&(i[l]=m[l])}}function cb(i,a){e:{try{var l=i&&i.ownerDocument,m=l&&(l.defaultView||l.parentWindow);if(m=m||f,m.Element&&m.Location){var y=m;break e}}catch{}y=null}if(y&&typeof y[a]<"u"&&(!i||!(i instanceof y[a])&&(i instanceof y.Location||i instanceof y.Element))){if(A(i))try{var w=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{w="<object could not be stringified>"}else w=i===void 0?"undefined":i===null?"null":typeof i;lt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",a,w)}}function jr(i,a){this.a=i===ml&&a||"",this.b=lb}jr.prototype.ta=!0,jr.prototype.sa=function(){return this.a},jr.prototype.toString=function(){return"Const{"+this.a+"}"};function Ud(i){return i instanceof jr&&i.constructor===jr&&i.b===lb?i.a:(lt("expected object of type Const, got '"+i+"'"),"type_error:Const")}var lb={},ml={},gl;function fb(){if(gl===void 0){var i=null,a=f.trustedTypes;if(a&&a.createPolicy){try{i=a.createPolicy("goog#html",{createHTML:q,createScript:q,createScriptURL:q})}catch(l){f.console&&f.console.error(l.message)}gl=i}else gl=i}return gl}function xs(i,a){this.a=a===db?i:""}xs.prototype.ta=!0,xs.prototype.sa=function(){return this.a.toString()},xs.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function hb(i){return i instanceof xs&&i.constructor===xs?i.a:(lt("expected object of type TrustedResourceUrl, got '"+i+"' of type "+v(i)),"type_error:TrustedResourceUrl")}function Vd(i,a){var l=Ud(i);if(!FO.test(l))throw Error("Invalid TrustedResourceUrl format: "+l);return i=l.replace(MO,function(m,y){if(!Object.prototype.hasOwnProperty.call(a,y))throw Error('Found marker, "'+y+'", in format string, "'+l+'", but no valid label mapping found in args: '+JSON.stringify(a));return m=a[y],m instanceof jr?Ud(m):encodeURIComponent(String(m))}),UO(i)}var MO=/%{(\w+)}/g,FO=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,db={};function UO(i){var a=fb();return i=a?a.createScriptURL(i):i,new xs(i,db)}function Vn(i,a){this.a=a===ou?i:""}Vn.prototype.ta=!0,Vn.prototype.sa=function(){return this.a.toString()},Vn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function vl(i){return i instanceof Vn&&i.constructor===Vn?i.a:(lt("expected object of type SafeUrl, got '"+i+"' of type "+v(i)),"type_error:SafeUrl")}var VO=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,jO=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,pb=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function mb(i){if(i instanceof Vn)return i;if(i=typeof i=="object"&&i.ta?i.sa():String(i),pb.test(i))i=new Vn(i,ou);else{i=String(i),i=i.replace(/(%0A|%0D)/g,"");var a=i.match(jO);i=a&&VO.test(a[1])?new Vn(i,ou):null}return i}function gb(i){return i instanceof Vn?i:(i=typeof i=="object"&&i.ta?i.sa():String(i),pb.test(i)||(i="about:invalid#zClosurez"),new Vn(i,ou))}var ou={},vb=new Vn("about:invalid#zClosurez",ou);function Ps(i,a,l){this.a=l===yb?i:""}Ps.prototype.ta=!0,Ps.prototype.sa=function(){return this.a.toString()},Ps.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function BO(i){return i instanceof Ps&&i.constructor===Ps?i.a:(lt("expected object of type SafeHtml, got '"+i+"' of type "+v(i)),"type_error:SafeHtml")}var yb={};function qO(i,a){cb(i,"HTMLScriptElement"),i.src=hb(a),(a=i.ownerDocument&&i.ownerDocument.defaultView)&&a!=f?a=h(a.document):(g===null&&(g=h(f.document)),a=g),a&&i.setAttribute("nonce",a)}function _b(i,a,l,m){return i=i instanceof Vn?i:gb(i),a=a||f,l=l instanceof jr?Ud(l):l||"",a.open(vl(i),l,m,void 0)}function bb(i,a){for(var l=i.split("%s"),m="",y=Array.prototype.slice.call(arguments,1);y.length&&1<l.length;)m+=l.shift()+y.shift();return m+l.join("%s")}function jd(i){return me.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(ae,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(X,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(N,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(C,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(j,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(Z,"&#0;"))),i}function Bd(i){return Bd[" "](i),i}Bd[" "]=p;function $O(i,a){var l=GO;return Object.prototype.hasOwnProperty.call(l,i)?l[i]:l[i]=a(i)}var HO=Ye("Opera"),Er=Ye("Trident")||Ye("MSIE"),wb=Ye("Edge"),WO=wb||Er,Eb=Ye("Gecko")&&!(ie(Ne.toLowerCase(),"webkit")&&!Ye("Edge"))&&!(Ye("Trident")||Ye("MSIE"))&&!Ye("Edge"),KO=ie(Ne.toLowerCase(),"webkit")&&!Ye("Edge");function Ib(){var i=f.document;return i?i.documentMode:void 0}var yl;e:{var qd="",$d=function(){var i=Ne;if(Eb)return/rv:([^\);]+)(\)|;)/.exec(i);if(wb)return/Edge\/([\d\.]+)/.exec(i);if(Er)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(KO)return/WebKit\/(\S+)/.exec(i);if(HO)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if($d&&(qd=$d?$d[1]:""),Er){var Hd=Ib();if(Hd!=null&&Hd>parseFloat(qd)){yl=String(Hd);break e}}yl=qd}var GO={};function Tb(i){return $O(i,function(){for(var a=0,l=ne(String(yl)).split("."),m=ne(String(i)).split("."),y=Math.max(l.length,m.length),w=0;a==0&&w<y;w++){var S=l[w]||"",x=m[w]||"";do{if(S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],x=/(\d*)(\D*)(.*)/.exec(x)||["","","",""],S[0].length==0&&x[0].length==0)break;a=de(S[1].length==0?0:parseInt(S[1],10),x[1].length==0?0:parseInt(x[1],10))||de(S[2].length==0,x[2].length==0)||de(S[2],x[2]),S=S[3],x=x[3]}while(a==0)}return 0<=a})}var Wd;if(f.document&&Er){var Sb=Ib();Wd=Sb||parseInt(yl,10)||void 0}else Wd=void 0;var xi=Wd;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var zO=!Er||9<=Number(xi);function su(i){var a=document;return typeof i=="string"?a.getElementById(i):i}function Ab(i,a){dr(a,function(l,m){l&&typeof l=="object"&&l.ta&&(l=l.sa()),m=="style"?i.style.cssText=l:m=="class"?i.className=l:m=="for"?i.htmlFor=l:kb.hasOwnProperty(m)?i.setAttribute(kb[m],l):m.lastIndexOf("aria-",0)==0||m.lastIndexOf("data-",0)==0?i.setAttribute(m,l):i[m]=l})}var kb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function XO(i,a,l){var m=arguments,y=document,w=String(m[0]),S=m[1];if(!zO&&S&&(S.name||S.type)){if(w=["<",w],S.name&&w.push(' name="',jd(S.name),'"'),S.type){w.push(' type="',jd(S.type),'"');var x={};un(x,S),delete x.type,S=x}w.push(">"),w=w.join("")}return w=_l(y,w),S&&(typeof S=="string"?w.className=S:Array.isArray(S)?w.className=S.join(" "):Ab(w,S)),2<m.length&&YO(y,w,m),w}function YO(i,a,l){function m(x){x&&a.appendChild(typeof x=="string"?i.createTextNode(x):x)}for(var y=2;y<l.length;y++){var w=l[y];if(!_(w)||A(w)&&0<w.nodeType)m(w);else{e:{if(w&&typeof w.length=="number"){if(A(w)){var S=typeof w.item=="function"||typeof w.item=="string";break e}if(E(w)){S=typeof w.item=="function";break e}}S=!1}z(S?J(w):w,m)}}}function _l(i,a){return a=String(a),i.contentType==="application/xhtml+xml"&&(a=a.toLowerCase()),i.createElement(a)}function Nb(i){f.setTimeout(function(){throw i},0)}var Kd;function QO(){var i=f.MessageChannel;if(typeof i>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Ye("Presto")&&(i=function(){var y=_l(document,"IFRAME");y.style.display="none",document.documentElement.appendChild(y);var w=y.contentWindow;y=w.document,y.open(),y.close();var S="callImmediate"+Math.random(),x=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;y=F(function(G){(x=="*"||G.origin==x)&&G.data==S&&this.port1.onmessage()},this),w.addEventListener("message",y,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(S,x)}}}),typeof i<"u"&&!Ye("Trident")&&!Ye("MSIE")){var a=new i,l={},m=l;return a.port1.onmessage=function(){if(l.next!==void 0){l=l.next;var y=l.Hb;l.Hb=null,y()}},function(y){m.next={Hb:y},m=m.next,a.port2.postMessage(0)}}return function(y){f.setTimeout(y,0)}}function bl(i,a){wl||JO(),Gd||(wl(),Gd=!0),Cb.add(i,a)}var wl;function JO(){if(f.Promise&&f.Promise.resolve){var i=f.Promise.resolve(void 0);wl=function(){i.then(Ob)}}else wl=function(){var a=Ob;!E(f.setImmediate)||f.Window&&f.Window.prototype&&!Ye("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(Kd||(Kd=QO()),Kd(a)):f.setImmediate(a)}}var Gd=!1,Cb=new ft;function Ob(){for(var i;i=le();){try{i.a.call(i.b)}catch(a){Nb(a)}vt(ht,i)}Gd=!1}function We(i,a){if(this.a=Ao,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=p)try{var l=this;i.call(a,function(m){ko(l,au,m)},function(m){if(!(m instanceof Ds))try{throw m instanceof Error?m:Error("Promise rejected.")}catch{}ko(l,li,m)})}catch(m){ko(this,li,m)}}var Ao=0,au=2,li=3;function Rb(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Rb.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var xb=new yt(function(){return new Rb},function(i){i.reset()});function zd(i,a,l){var m=xb.get();return m.g=i,m.b=a,m.f=l,m}function Ce(i){if(i instanceof We)return i;var a=new We(p);return ko(a,au,i),a}function St(i){return new We(function(a,l){l(i)})}function Pb(i,a,l){Fb(i,a,l,null)||bl(K(a,i))}function ZO(i){return new We(function(a,l){var m=i.length,y=[];if(m)for(var w=function(ee,Fe){m--,y[ee]=Fe,m==0&&a(y)},S=function(ee){l(ee)},x=0,G;x<i.length;x++)G=i[x],Pb(G,K(w,x),S);else a(y)})}function Db(i){return new We(function(a){var l=i.length,m=[];if(l)for(var y=function(x,G,ee){l--,m[x]=G?{Qb:!0,value:ee}:{Qb:!1,reason:ee},l==0&&a(m)},w=0,S;w<i.length;w++)S=i[w],Pb(S,K(y,w,!0),K(y,w,!1));else a(m)})}We.prototype.then=function(i,a,l){return Mb(this,E(i)?i:null,E(a)?a:null,l)},We.prototype.$goog_Thenable=!0,e=We.prototype,e.oa=function(i,a){return i=zd(i,i,a),i.c=!0,Xd(this,i),this},e.o=function(i,a){return Mb(this,null,i,a)},e.cancel=function(i){if(this.a==Ao){var a=new Ds(i);bl(function(){Lb(this,a)},this)}};function Lb(i,a){if(i.a==Ao)if(i.c){var l=i.c;if(l.b){for(var m=0,y=null,w=null,S=l.b;S&&(S.c||(m++,S.a==i&&(y=S),!(y&&1<m)));S=S.next)y||(w=S);y&&(l.a==Ao&&m==1?Lb(l,a):(w?(m=w,m.next==l.f&&(l.f=m),m.next=m.next.next):Vb(l),jb(l,y,li,a)))}i.c=null}else ko(i,li,a)}function Xd(i,a){i.b||i.a!=au&&i.a!=li||Ub(i),i.f?i.f.next=a:i.b=a,i.f=a}function Mb(i,a,l,m){var y=zd(null,null,null);return y.a=new We(function(w,S){y.g=a?function(x){try{var G=a.call(m,x);w(G)}catch(ee){S(ee)}}:w,y.b=l?function(x){try{var G=l.call(m,x);G===void 0&&x instanceof Ds?S(x):w(G)}catch(ee){S(ee)}}:S}),y.a.c=i,Xd(i,y),y.a}e.$c=function(i){this.a=Ao,ko(this,au,i)},e.ad=function(i){this.a=Ao,ko(this,li,i)};function ko(i,a,l){i.a==Ao&&(i===l&&(a=li,l=new TypeError("Promise cannot resolve to itself")),i.a=1,Fb(l,i.$c,i.ad,i)||(i.i=l,i.a=a,i.c=null,Ub(i),a!=li||l instanceof Ds||tR(i,l)))}function Fb(i,a,l,m){if(i instanceof We)return Xd(i,zd(a||p,l||null,m)),!0;if(Ee(i))return i.then(a,l,m),!0;if(A(i))try{var y=i.then;if(E(y))return eR(i,y,a,l,m),!0}catch(w){return l.call(m,w),!0}return!1}function eR(i,a,l,m,y){function w(G){x||(x=!0,m.call(y,G))}function S(G){x||(x=!0,l.call(y,G))}var x=!1;try{a.call(i,S,w)}catch(G){w(G)}}function Ub(i){i.h||(i.h=!0,bl(i.gc,i))}function Vb(i){var a=null;return i.b&&(a=i.b,i.b=a.next,a.next=null),i.b||(i.f=null),a}e.gc=function(){for(var i;i=Vb(this);)jb(this,i,this.a,this.i);this.h=!1};function jb(i,a,l,m){if(l==li&&a.b&&!a.c)for(;i&&i.g;i=i.c)i.g=!1;if(a.a)a.a.c=null,Bb(a,l,m);else try{a.c?a.g.call(a.f):Bb(a,l,m)}catch(y){qb.call(null,y)}vt(xb,a)}function Bb(i,a,l){a==au?i.g.call(i.f,l):i.b&&i.b.call(i.f,l)}function tR(i,a){i.g=!0,bl(function(){i.g&&qb.call(null,a)})}var qb=Nb;function Ds(i){ve.call(this,i)}V(Ds,ve),Ds.prototype.name="cancel";function El(){this.ya=this.ya,this.pa=this.pa}var nR=0;El.prototype.ya=!1;function $b(i){!i.ya&&(i.ya=!0,i.Da(),nR!=0)&&b(i)}El.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var rR=Object.freeze||function(i){return i},Hb=!Er||9<=Number(xi),iR=Er&&!Tb("9"),oR=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var i=!1,a=Object.defineProperty({},"passive",{get:function(){i=!0}});try{f.addEventListener("test",p,a),f.removeEventListener("test",p,a)}catch{}return i}();function jn(i,a){this.type=i,this.b=this.target=a,this.defaultPrevented=!1}jn.prototype.preventDefault=function(){this.defaultPrevented=!0};function No(i,a){if(jn.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var l=this.type=i.type,m=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=a,a=i.relatedTarget){if(Eb){e:{try{Bd(a.nodeName);var y=!0;break e}catch{}y=!1}y||(a=null)}}else l=="mouseover"?a=i.fromElement:l=="mouseout"&&(a=i.toElement);this.relatedTarget=a,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:sR[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}V(No,jn);var sR=rR({2:"touch",3:"pen",4:"mouse"});No.prototype.preventDefault=function(){No.bb.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,iR)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch{}},No.prototype.g=function(){return this.a};var uu="closure_listenable_"+(1e6*Math.random()|0),aR=0;function uR(i,a,l,m,y){this.listener=i,this.proxy=null,this.src=a,this.type=l,this.capture=!!m,this.Wa=y,this.key=++aR,this.wa=this.Qa=!1}function Il(i){i.wa=!0,i.listener=null,i.proxy=null,i.src=null,i.Wa=null}function Tl(i){this.src=i,this.a={},this.b=0}Tl.prototype.add=function(i,a,l,m,y){var w=i.toString();i=this.a[w],i||(i=this.a[w]=[],this.b++);var S=Qd(i,a,m,y);return-1<S?(a=i[S],l||(a.Qa=!1)):(a=new uR(a,this.src,w,!!m,y),a.Qa=l,i.push(a)),a};function Yd(i,a){var l=a.type;l in i.a&&O(i.a[l],a)&&(Il(a),i.a[l].length==0&&(delete i.a[l],i.b--))}function Qd(i,a,l,m){for(var y=0;y<i.length;++y){var w=i[y];if(!w.wa&&w.listener==a&&w.capture==!!l&&w.Wa==m)return y}return-1}var Jd="closure_lm_"+(1e6*Math.random()|0),Zd={};function pr(i,a,l,m,y){if(m&&m.once)ep(i,a,l,m,y);else if(Array.isArray(a))for(var w=0;w<a.length;w++)pr(i,a[w],l,m,y);else l=np(l),i&&i[uu]?Yb(i,a,l,A(m)?!!m.capture:!!m,y):Wb(i,a,l,!1,m,y)}function Wb(i,a,l,m,y,w){if(!a)throw Error("Invalid event type");var S=A(y)?!!y.capture:!!y,x=Sl(i);if(x||(i[Jd]=x=new Tl(i)),l=x.add(a,l,m,S,w),!l.proxy)if(m=cR(),l.proxy=m,m.src=i,m.listener=l,i.addEventListener)oR||(y=S),y===void 0&&(y=!1),i.addEventListener(a.toString(),m,y);else if(i.attachEvent)i.attachEvent(Gb(a.toString()),m);else if(i.addListener&&i.removeListener)i.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.")}function cR(){var i=lR,a=Hb?function(l){return i.call(a.src,a.listener,l)}:function(l){if(l=i.call(a.src,a.listener,l),!l)return l};return a}function ep(i,a,l,m,y){if(Array.isArray(a))for(var w=0;w<a.length;w++)ep(i,a[w],l,m,y);else l=np(l),i&&i[uu]?rp(i,a,l,A(m)?!!m.capture:!!m,y):Wb(i,a,l,!0,m,y)}function er(i,a,l,m,y){if(Array.isArray(a))for(var w=0;w<a.length;w++)er(i,a[w],l,m,y);else m=A(m)?!!m.capture:!!m,l=np(l),i&&i[uu]?(i=i.v,a=String(a).toString(),a in i.a&&(w=i.a[a],l=Qd(w,l,m,y),-1<l&&(Il(w[l]),Array.prototype.splice.call(w,l,1),w.length==0&&(delete i.a[a],i.b--)))):i&&(i=Sl(i))&&(a=i.a[a.toString()],i=-1,a&&(i=Qd(a,l,m,y)),(l=-1<i?a[i]:null)&&Kb(l))}function Kb(i){if(typeof i!="number"&&i&&!i.wa){var a=i.src;if(a&&a[uu])Yd(a.v,i);else{var l=i.type,m=i.proxy;a.removeEventListener?a.removeEventListener(l,m,i.capture):a.detachEvent?a.detachEvent(Gb(l),m):a.addListener&&a.removeListener&&a.removeListener(m),(l=Sl(a))?(Yd(l,i),l.b==0&&(l.src=null,a[Jd]=null)):Il(i)}}}function Gb(i){return i in Zd?Zd[i]:Zd[i]="on"+i}function zb(i,a,l,m){var y=!0;if((i=Sl(i))&&(a=i.a[a.toString()]))for(a=a.concat(),i=0;i<a.length;i++){var w=a[i];w&&w.capture==l&&!w.wa&&(w=Xb(w,m),y=y&&w!==!1)}return y}function Xb(i,a){var l=i.listener,m=i.Wa||i.src;return i.Qa&&Kb(i),l.call(m,a)}function lR(i,a){if(i.wa)return!0;if(!Hb){if(!a)e:{a=["window","event"];for(var l=f,m=0;m<a.length;m++)if(l=l[a[m]],l==null){a=null;break e}a=l}if(m=a,a=new No(m,this),l=!0,!(0>m.keyCode||m.returnValue!=null)){e:{var y=!1;if(m.keyCode==0)try{m.keyCode=-1;break e}catch{y=!0}(y||m.returnValue==null)&&(m.returnValue=!0)}for(m=[],y=a.b;y;y=y.parentNode)m.push(y);for(i=i.type,y=m.length-1;0<=y;y--){a.b=m[y];var w=zb(m[y],i,!0,a);l=l&&w}for(y=0;y<m.length;y++)a.b=m[y],w=zb(m[y],i,!1,a),l=l&&w}return l}return Xb(i,new No(a,this))}function Sl(i){return i=i[Jd],i instanceof Tl?i:null}var tp="__closure_events_fn_"+(1e9*Math.random()>>>0);function np(i){return E(i)?i:(i[tp]||(i[tp]=function(a){return i.handleEvent(a)}),i[tp])}function Sn(){El.call(this),this.v=new Tl(this),this.bc=this,this.hb=null}V(Sn,El),Sn.prototype[uu]=!0,Sn.prototype.addEventListener=function(i,a,l,m){pr(this,i,a,l,m)},Sn.prototype.removeEventListener=function(i,a,l,m){er(this,i,a,l,m)},Sn.prototype.dispatchEvent=function(i){var a,l=this.hb;if(l)for(a=[];l;l=l.hb)a.push(l);l=this.bc;var m=i.type||i;if(typeof i=="string")i=new jn(i,l);else if(i instanceof jn)i.target=i.target||l;else{var y=i;i=new jn(m,l),un(i,y)}if(y=!0,a)for(var w=a.length-1;0<=w;w--){var S=i.b=a[w];y=Al(S,m,!0,i)&&y}if(S=i.b=l,y=Al(S,m,!0,i)&&y,y=Al(S,m,!1,i)&&y,a)for(w=0;w<a.length;w++)S=i.b=a[w],y=Al(S,m,!1,i)&&y;return y},Sn.prototype.Da=function(){if(Sn.bb.Da.call(this),this.v){var i=this.v,a;for(a in i.a){for(var l=i.a[a],m=0;m<l.length;m++)Il(l[m]);delete i.a[a],i.b--}}this.hb=null};function Yb(i,a,l,m,y){i.v.add(String(a),l,!1,m,y)}function rp(i,a,l,m,y){i.v.add(String(a),l,!0,m,y)}function Al(i,a,l,m){if(a=i.v.a[String(a)],!a)return!0;a=a.concat();for(var y=!0,w=0;w<a.length;++w){var S=a[w];if(S&&!S.wa&&S.capture==l){var x=S.listener,G=S.Wa||S.src;S.Qa&&Yd(i.v,S),y=x.call(G,m)!==!1&&y}}return y&&!m.defaultPrevented}function ip(i,a,l){if(E(i))l&&(i=F(i,l));else if(i&&typeof i.handleEvent=="function")i=F(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:f.setTimeout(i,a||0)}function Ls(i){var a=null;return new We(function(l,m){a=ip(function(){l(void 0)},i),a==-1&&m(Error("Failed to schedule timer."))}).o(function(l){throw f.clearTimeout(a),l})}function Qb(i){if(i.X&&typeof i.X=="function")return i.X();if(typeof i=="string")return i.split("");if(_(i)){for(var a=[],l=i.length,m=0;m<l;m++)a.push(i[m]);return a}a=[],l=0;for(m in i)a[l++]=i[m];return a}function Jb(i){if(i.Y&&typeof i.Y=="function")return i.Y();if(!i.X||typeof i.X!="function"){if(_(i)||typeof i=="string"){var a=[];i=i.length;for(var l=0;l<i;l++)a.push(l);return a}a=[],l=0;for(var m in i)a[l++]=m;return a}}function fR(i,a){if(i.forEach&&typeof i.forEach=="function")i.forEach(a,void 0);else if(_(i)||typeof i=="string")z(i,a,void 0);else for(var l=Jb(i),m=Qb(i),y=m.length,w=0;w<y;w++)a.call(void 0,m[w],l&&l[w],i)}function Ms(i,a){this.b={},this.a=[],this.c=0;var l=arguments.length;if(1<l){if(l%2)throw Error("Uneven number of arguments");for(var m=0;m<l;m+=2)this.set(arguments[m],arguments[m+1])}else if(i)if(i instanceof Ms)for(l=i.Y(),m=0;m<l.length;m++)this.set(l[m],i.get(l[m]));else for(m in i)this.set(m,i[m])}e=Ms.prototype,e.X=function(){op(this);for(var i=[],a=0;a<this.a.length;a++)i.push(this.b[this.a[a]]);return i},e.Y=function(){return op(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function op(i){if(i.c!=i.a.length){for(var a=0,l=0;a<i.a.length;){var m=i.a[a];Co(i.b,m)&&(i.a[l++]=m),a++}i.a.length=l}if(i.c!=i.a.length){var y={};for(l=a=0;a<i.a.length;)m=i.a[a],Co(y,m)||(i.a[l++]=m,y[m]=1),a++;i.a.length=l}}e.get=function(i,a){return Co(this.b,i)?this.b[i]:a},e.set=function(i,a){Co(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=a},e.forEach=function(i,a){for(var l=this.Y(),m=0;m<l.length;m++){var y=l[m],w=this.get(y);i.call(a,w,y,this)}};function Co(i,a){return Object.prototype.hasOwnProperty.call(i,a)}var Zb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function hR(i,a){if(i){i=i.split("&");for(var l=0;l<i.length;l++){var m=i[l].indexOf("="),y=null;if(0<=m){var w=i[l].substring(0,m);y=i[l].substring(m+1)}else w=i[l];a(w,y?decodeURIComponent(y.replace(/\+/g," ")):"")}}}function Pi(i,a){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var l;i instanceof Pi?(this.i=a!==void 0?a:i.i,cu(this,i.c),this.l=i.l,this.a=i.a,lu(this,i.g),this.f=i.f,sp(this,r0(i.b)),this.h=i.h):i&&(l=String(i).match(Zb))?(this.i=!!a,cu(this,l[1]||"",!0),this.l=fu(l[2]||""),this.a=fu(l[3]||"",!0),lu(this,l[4]),this.f=fu(l[5]||"",!0),sp(this,l[6]||"",!0),this.h=fu(l[7]||"")):(this.i=!!a,this.b=new Oo(null,this.i))}Pi.prototype.toString=function(){var i=[],a=this.c;a&&i.push(hu(a,e0,!0),":");var l=this.a;return(l||a=="file")&&(i.push("//"),(a=this.l)&&i.push(hu(a,e0,!0),"@"),i.push(encodeURIComponent(String(l)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l=this.g,l!=null&&i.push(":",String(l))),(l=this.f)&&(this.a&&l.charAt(0)!="/"&&i.push("/"),i.push(hu(l,l.charAt(0)=="/"?mR:pR,!0))),(l=this.b.toString())&&i.push("?",l),(l=this.h)&&i.push("#",hu(l,vR)),i.join("")},Pi.prototype.resolve=function(i){var a=new Pi(this),l=!!i.c;l?cu(a,i.c):l=!!i.l,l?a.l=i.l:l=!!i.a,l?a.a=i.a:l=i.g!=null;var m=i.f;if(l)lu(a,i.g);else if(l=!!i.f){if(m.charAt(0)!="/")if(this.a&&!this.f)m="/"+m;else{var y=a.f.lastIndexOf("/");y!=-1&&(m=a.f.substr(0,y+1)+m)}if(y=m,y==".."||y==".")m="";else if(ie(y,"./")||ie(y,"/.")){m=y.lastIndexOf("/",0)==0,y=y.split("/");for(var w=[],S=0;S<y.length;){var x=y[S++];x=="."?m&&S==y.length&&w.push(""):x==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),m&&S==y.length&&w.push("")):(w.push(x),m=!0)}m=w.join("/")}else m=y}return l?a.f=m:l=i.b.toString()!=="",l?sp(a,r0(i.b)):l=!!i.h,l&&(a.h=i.h),a};function cu(i,a,l){i.c=l?fu(a,!0):a,i.c&&(i.c=i.c.replace(/:$/,""))}function lu(i,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);i.g=a}else i.g=null}function sp(i,a,l){a instanceof Oo?(i.b=a,yR(i.b,i.i)):(l||(a=hu(a,gR)),i.b=new Oo(a,i.i))}function Ft(i,a,l){i.b.set(a,l)}function mr(i,a){return i.b.get(a)}function Bn(i){return i instanceof Pi?new Pi(i):new Pi(i,void 0)}function kl(i,a,l,m){var y=new Pi(null,void 0);return i&&cu(y,i),a&&(y.a=a),l&&lu(y,l),m&&(y.f=m),y}function fu(i,a){return i?a?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function hu(i,a,l){return typeof i=="string"?(i=encodeURI(i).replace(a,dR),l&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function dR(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var e0=/[#\/\?@]/g,pR=/[#\?:]/g,mR=/[#\?]/g,gR=/[#\?@]/g,vR=/#/g;function Oo(i,a){this.b=this.a=null,this.c=i||null,this.f=!!a}function Di(i){i.a||(i.a=new Ms,i.b=0,i.c&&hR(i.c,function(a,l){i.add(decodeURIComponent(a.replace(/\+/g," ")),l)}))}function t0(i){var a=Jb(i);if(typeof a>"u")throw Error("Keys are undefined");var l=new Oo(null,void 0);i=Qb(i);for(var m=0;m<a.length;m++){var y=a[m],w=i[m];Array.isArray(w)?n0(l,y,w):l.add(y,w)}return l}e=Oo.prototype,e.add=function(i,a){Di(this),this.c=null,i=Fs(this,i);var l=this.a.get(i);return l||this.a.set(i,l=[]),l.push(a),this.b+=1,this};function Br(i,a){Di(i),a=Fs(i,a),Co(i.a.b,a)&&(i.c=null,i.b-=i.a.get(a).length,i=i.a,Co(i.b,a)&&(delete i.b[a],i.c--,i.a.length>2*i.c&&op(i)))}e.clear=function(){this.a=this.c=null,this.b=0};function ap(i,a){return Di(i),a=Fs(i,a),Co(i.a.b,a)}e.forEach=function(i,a){Di(this),this.a.forEach(function(l,m){z(l,function(y){i.call(a,y,m,this)},this)},this)},e.Y=function(){Di(this);for(var i=this.a.X(),a=this.a.Y(),l=[],m=0;m<a.length;m++)for(var y=i[m],w=0;w<y.length;w++)l.push(a[m]);return l},e.X=function(i){Di(this);var a=[];if(typeof i=="string")ap(this,i)&&(a=B(a,this.a.get(Fs(this,i))));else{i=this.a.X();for(var l=0;l<i.length;l++)a=B(a,i[l])}return a},e.set=function(i,a){return Di(this),this.c=null,i=Fs(this,i),ap(this,i)&&(this.b-=this.a.get(i).length),this.a.set(i,[a]),this.b+=1,this},e.get=function(i,a){return i?(i=this.X(i),0<i.length?String(i[0]):a):a};function n0(i,a,l){Br(i,a),0<l.length&&(i.c=null,i.a.set(Fs(i,a),J(l)),i.b+=l.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],a=this.a.Y(),l=0;l<a.length;l++){var m=a[l],y=encodeURIComponent(String(m));m=this.X(m);for(var w=0;w<m.length;w++){var S=y;m[w]!==""&&(S+="="+encodeURIComponent(String(m[w]))),i.push(S)}}return this.c=i.join("&")};function r0(i){var a=new Oo;return a.c=i.c,i.a&&(a.a=new Ms(i.a),a.b=i.b),a}function Fs(i,a){return a=String(a),i.f&&(a=a.toLowerCase()),a}function yR(i,a){a&&!i.f&&(Di(i),i.c=null,i.a.forEach(function(l,m){var y=m.toLowerCase();m!=y&&(Br(this,m),n0(this,y,l))},i)),i.f=a}function i0(i){var a=[];return up(new _R,i,a),a.join("")}function _R(){}function up(i,a,l){if(a==null)l.push("null");else{if(typeof a=="object"){if(Array.isArray(a)){var m=a;a=m.length,l.push("[");for(var y="",w=0;w<a;w++)l.push(y),up(i,m[w],l),y=",";l.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{l.push("{"),y="";for(m in a)Object.prototype.hasOwnProperty.call(a,m)&&(w=a[m],typeof w!="function"&&(l.push(y),s0(m,l),l.push(":"),up(i,w,l),y=","));l.push("}");return}}switch(typeof a){case"string":s0(a,l);break;case"number":l.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":l.push(String(a));break;case"function":l.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var o0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},bR=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function s0(i,a){a.push('"',i.replace(bR,function(l){var m=o0[l];return m||(m="\\u"+(l.charCodeAt(0)|65536).toString(16).substr(1),o0[l]=m),m}),'"')}function cp(){var i=cn();return Er&&!!xi&&xi==11||/Edge\/\d+/.test(i)}function du(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function a0(i,a){a=a||f.window;var l="about:blank";i&&(l=vl(mb(i)||vb)),a.location.href=l}function u0(i,a){var l=[],m;for(m in i)m in a?typeof i[m]!=typeof a[m]?l.push(m):typeof i[m]=="object"&&i[m]!=null&&a[m]!=null?0<u0(i[m],a[m]).length&&l.push(m):i[m]!==a[m]&&l.push(m):l.push(m);for(m in a)m in i||l.push(m);return l}function wR(){var i=cn();return i=Us(i)!=h0?null:(i=i.match(/\sChrome\/(\d+)/i))&&i.length==2?parseInt(i[1],10):null,i&&30>i?!1:!Er||!xi||9<xi}function c0(i){return i=(i||cn()).toLowerCase(),!!(i.match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function Ro(i){i=i||f.window;try{i.close()}catch{}}function l0(i,a,l){var m=Math.floor(1e9*Math.random()).toString();a=a||500,l=l||600;var y=(window.screen.availHeight-l)/2,w=(window.screen.availWidth-a)/2;a={width:a,height:l,top:0<y?y:0,left:0<w?w:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},l=cn().toLowerCase(),m&&(a.target=m,ie(l,"crios/")&&(a.target="_blank")),Us(cn())==hp&&(i=i||"http://localhost",a.scrollbars=!0),l=i||"",(i=a)||(i={}),m=window,a=l instanceof Vn?l:mb(typeof l.href<"u"?l.href:String(l))||vb,l=i.target||l.target,y=[];for(S in i)switch(S){case"width":case"height":case"top":case"left":y.push(S+"="+i[S]);break;case"target":case"noopener":case"noreferrer":break;default:y.push(S+"="+(i[S]?1:0))}var S=y.join(",");if((Ye("iPhone")&&!Ye("iPod")&&!Ye("iPad")||Ye("iPad")||Ye("iPod"))&&m.navigator&&m.navigator.standalone&&l&&l!="_self"?(S=_l(document,"A"),cb(S,"HTMLAnchorElement"),a=a instanceof Vn?a:gb(a),S.href=vl(a),S.setAttribute("target",l),i.noreferrer&&S.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,m,1),S.dispatchEvent(i),S={}):i.noreferrer?(S=_b("",m,l,S),i=vl(a),S&&(WO&&ie(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),S.opener=null,i='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+jd(i)+'">',i=(m=fb())?m.createHTML(i):i,i=new Ps(i,null,yb),m=S.document)&&(m.write(BO(i)),m.close())):(S=_b(a,m,l,S))&&i.noopener&&(S.opener=null),S)try{S.focus()}catch{}return S}function ER(i){return new We(function(a){function l(){Ls(2e3).then(function(){if(!i||i.closed)a();else return l()})}return l()})}var IR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TR=/^[^@]+@[^@]+$/;function Nl(){var i=null;return new We(function(a){f.document.readyState=="complete"?a():(i=function(){a()},ep(window,"load",i))}).o(function(a){throw er(window,"load",i),a})}function SR(){return lp(void 0)?Nl().then(function(){return new We(function(i,a){var l=f.document,m=setTimeout(function(){a(Error("Cordova framework is not ready."))},1e3);l.addEventListener("deviceready",function(){clearTimeout(m),i()},!1)})}):St(Error("Cordova must run in an Android or iOS file scheme."))}function lp(i){return i=i||cn(),!(js()!=="file:"&&js()!=="ionic:"||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function fp(){var i=f.window;try{return!(!i||i==i.top)}catch{return!1}}function Ir(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function qr(){return De.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":De.INTERNAL.hasOwnProperty("node")?"Node":Ir()?"Worker":"Browser"}function f0(){var i=qr();return i==="ReactNative"||i==="Node"}function AR(){for(var i=50,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}var hp="Firefox",h0="Chrome";function Us(i){var a=i.toLowerCase();if(ie(a,"opera/")||ie(a,"opr/")||ie(a,"opios/"))return"Opera";if(ie(a,"iemobile"))return"IEMobile";if(ie(a,"msie")||ie(a,"trident/"))return"IE";if(ie(a,"edge/"))return"Edge";if(ie(a,"firefox/"))return hp;if(ie(a,"silk/"))return"Silk";if(ie(a,"blackberry"))return"Blackberry";if(ie(a,"webos"))return"Webos";if(!ie(a,"safari/")||ie(a,"chrome/")||ie(a,"crios/")||ie(a,"android"))if(!ie(a,"chrome/")&&!ie(a,"crios/")||ie(a,"edge/")){if(ie(a,"android"))return"Android";if((i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&i.length==2)return i[1]}else return h0;else return"Safari";return"Other"}var d0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Vs(i,a){a=a||[];var l=[],m={},y;for(y in d0)m[d0[y]]=!0;for(y=0;y<a.length;y++)typeof m[a[y]]<"u"&&(delete m[a[y]],l.push(a[y]));return l.sort(),a=l,a.length||(a=["FirebaseCore-web"]),l=qr(),l==="Browser"?(m=cn(),l=Us(m)):l==="Worker"&&(m=cn(),l=Us(m)+"-"+l),l+"/JsCore/"+i+"/"+a.join(",")}function cn(){return f.navigator&&f.navigator.userAgent||""}function At(i,a){i=i.split("."),a=a||f;for(var l=0;l<i.length&&typeof a=="object"&&a!=null;l++)a=a[i[l]];return l!=i.length&&(a=void 0),a}function dp(){try{var i=f.localStorage,a=Po();if(i)return i.setItem(a,"1"),i.removeItem(a),cp()?!!f.indexedDB:!0}catch{return Ir()&&!!f.indexedDB}return!1}function xo(){return(Cl()||js()==="chrome-extension:"||lp())&&!f0()&&dp()&&!Ir()}function Cl(){return js()==="http:"||js()==="https:"}function js(){return f.location&&f.location.protocol||null}function pu(i){return i=i||cn(),!(c0(i)||Us(i)==hp)}function mu(i){return typeof i>"u"?null:i0(i)}function p0(i){var a={},l;for(l in i)i.hasOwnProperty(l)&&i[l]!==null&&i[l]!==void 0&&(a[l]=i[l]);return a}function Bs(i){if(i!==null)return JSON.parse(i)}function Po(i){return i||Math.floor(1e9*Math.random()).toString()}function m0(i){return i=i||cn(),!(Us(i)=="Safari"||i.toLowerCase().match(/iphone|ipad|ipod/))}function g0(){var i=f.___jsl;if(i&&i.H){for(var a in i.H)if(i.H[a].r=i.H[a].r||[],i.H[a].L=i.H[a].L||[],i.H[a].r=i.H[a].L.concat(),i.CP)for(var l=0;l<i.CP.length;l++)i.CP[l]=null}}function Li(i,a){if(i>a)throw Error("Short delay should be less than long delay!");this.a=i,this.c=a,i=cn(),a=qr(),this.b=c0(i)||a==="ReactNative"}Li.prototype.get=function(){var i=f.navigator;return!(i&&typeof i.onLine=="boolean"&&(Cl()||js()==="chrome-extension:"||typeof i.connection<"u"))||i.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function pp(){var i=f.document;return i&&typeof i.visibilityState<"u"?i.visibilityState=="visible":!0}function kR(){var i=f.document,a=null;return pp()||!i?Ce():new We(function(l){a=function(){pp()&&(i.removeEventListener("visibilitychange",a,!1),l())},i.addEventListener("visibilitychange",a,!1)}).o(function(l){throw i.removeEventListener("visibilitychange",a,!1),l})}function gu(i){try{var a=new Date(parseInt(i,10));if(!isNaN(a.getTime())&&!/[^0-9]/.test(i))return a.toUTCString()}catch{}return null}function v0(){return!(!At("fireauth.oauthhelper",f)&&!At("fireauth.iframe",f))}function NR(){var i=f.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}function CR(){var i=f.navigator;return i&&i.serviceWorker?Ce().then(function(){return i.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):Ce(null)}var y0={};function mp(i){y0[i]||(y0[i]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(i))}var gp;try{var vp={};Object.defineProperty(vp,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(vp,"abcd",{configurable:!0,enumerable:!0,value:2}),gp=vp.abcd==2}catch{gp=!1}function _e(i,a,l){gp?Object.defineProperty(i,a,{configurable:!0,enumerable:!0,value:l}):i[a]=l}function An(i,a){if(a)for(var l in a)a.hasOwnProperty(l)&&_e(i,l,a[l])}function $r(i){var a={};return An(a,i),a}function OR(i){var a={},l;for(l in i)i.hasOwnProperty(l)&&(a[l]=i[l]);return a}function RR(i,a){if(!a||!a.length)return!0;if(!i)return!1;for(var l=0;l<a.length;l++){var m=i[a[l]];if(m==null||m==="")return!1}return!0}function yp(i){var a=i;if(typeof i=="object"&&i!=null){a="length"in i?[]:{};for(var l in i)_e(a,l,yp(i[l]))}return a}function _p(i){var a=i&&(i[Ip]?"phone":null);if(a&&i&&i[Ep]){_e(this,"uid",i[Ep]),_e(this,"displayName",i[_0]||null);var l=null;i[wp]&&(l=new Date(i[wp]).toUTCString()),_e(this,"enrollmentTime",l),_e(this,"factorId",a)}else throw new L("internal-error","Internal assert: invalid MultiFactorInfo object")}_p.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function bp(i){try{var a=new vu(i)}catch{a=null}return a}var _0="displayName",wp="enrolledAt",Ep="mfaEnrollmentId",Ip="phoneInfo";function vu(i){_p.call(this,i),_e(this,"phoneNumber",i[Ip])}V(vu,_p),vu.prototype.w=function(){var i=vu.bb.w.call(this);return i.phoneNumber=this.phoneNumber,i};function xR(i){var a={},l=i[PR],m=i[LR],y=i[MR];if(i=bp(i[DR]),!y||y!=Ol&&y!=yu&&!l||y==yu&&!m||y==Tp&&!i)throw Error("Invalid checkActionCode response!");y==yu?(a[w0]=l||null,a[E0]=l||null,a[b0]=m):(a[w0]=m||null,a[E0]=m||null,a[b0]=l||null),a[FR]=i||null,_e(this,VR,y),_e(this,UR,yp(a))}var Tp="REVERT_SECOND_FACTOR_ADDITION",Ol="EMAIL_SIGNIN",yu="VERIFY_AND_CHANGE_EMAIL",PR="email",DR="mfaInfo",LR="newEmail",MR="requestType",b0="email",w0="fromEmail",FR="multiFactorInfo",E0="previousEmail",UR="data",VR="operation";function Sp(i){i=Bn(i);var a=mr(i,I0)||null,l=mr(i,T0)||null,m=mr(i,S0)||null;if(m=m&&$R[m]||null,!a||!l||!m)throw new L("argument-error",I0+", "+T0+"and "+S0+" are required in a valid action code URL.");An(this,{apiKey:a,operation:m,code:l,continueUrl:mr(i,jR)||null,languageCode:mr(i,BR)||null,tenantId:mr(i,qR)||null})}var I0="apiKey",T0="oobCode",jR="continueUrl",BR="languageCode",S0="mode",qR="tenantId",$R={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Tp,signIn:Ol,verifyAndChangeEmail:yu,verifyEmail:"VERIFY_EMAIL"};function A0(i){try{return new Sp(i)}catch{return null}}function Rl(i){var a=i[HR];if(typeof a>"u")throw new L("missing-continue-uri");if(typeof a!="string"||typeof a=="string"&&!a.length)throw new L("invalid-continue-uri");this.h=a,this.b=this.a=null,this.g=!1;var l=i[k0];if(l&&typeof l=="object"){a=l[x0];var m=l[O0];if(l=l[R0],typeof a=="string"&&a.length){if(this.a=a,typeof m<"u"&&typeof m!="boolean")throw new L("argument-error",O0+" property must be a boolean when specified.");if(this.g=!!m,typeof l<"u"&&(typeof l!="string"||typeof l=="string"&&!l.length))throw new L("argument-error",R0+" property must be a non empty string when specified.");this.b=l||null}else{if(typeof a<"u")throw new L("argument-error",x0+" property must be a non empty string when specified.");if(typeof m<"u"||typeof l<"u")throw new L("missing-android-pkg-name")}}else if(typeof l<"u")throw new L("argument-error",k0+" property must be a non null object when specified.");if(this.f=null,(a=i[C0])&&typeof a=="object"){if(a=a[P0],typeof a=="string"&&a.length)this.f=a;else if(typeof a<"u")throw new L("argument-error",P0+" property must be a non empty string when specified.")}else if(typeof a<"u")throw new L("argument-error",C0+" property must be a non null object when specified.");if(a=i[Ap],typeof a<"u"&&typeof a!="boolean")throw new L("argument-error",Ap+" property must be a boolean when specified.");if(this.c=!!a,i=i[N0],typeof i<"u"&&(typeof i!="string"||typeof i=="string"&&!i.length))throw new L("argument-error",N0+" property must be a non empty string when specified.");this.i=i||null}var k0="android",N0="dynamicLinkDomain",Ap="handleCodeInApp",C0="iOS",HR="url",O0="installApp",R0="minimumVersion",x0="packageName",P0="bundleId";function xl(i){var a={};a.continueUrl=i.h,a.canHandleCodeInApp=i.c,(a.androidPackageName=i.a)&&(a.androidMinimumVersion=i.b,a.androidInstallApp=i.g),a.iOSBundleId=i.f,a.dynamicLinkDomain=i.i;for(var l in a)a[l]===null&&delete a[l];return a}function WR(i){return ke(i,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}var _u=null;function KR(i){var a=[];return GR(i,function(l){a.push(l)}),a}function GR(i,a){function l(G){for(;m<i.length;){var ee=i.charAt(m++),Fe=_u[ee];if(Fe!=null)return Fe;if(!/^[\s\xa0]*$/.test(ee))throw Error("Unknown base64 encoding at char: "+ee)}return G}zR();for(var m=0;;){var y=l(-1),w=l(0),S=l(64),x=l(64);if(x===64&&y===-1)break;a(y<<2|w>>4),S!=64&&(a(w<<4&240|S>>2),x!=64&&a(S<<6&192|x))}}function zR(){if(!_u){_u={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],l=0;5>l;l++)for(var m=i.concat(a[l].split("")),y=0;y<m.length;y++){var w=m[y];_u[w]===void 0&&(_u[w]=y)}}}function Pl(i){var a=D0(i);if(!(a&&a.sub&&a.iss&&a.aud&&a.exp))throw Error("Invalid JWT");this.h=i,this.a=a.exp,this.i=a.sub,i=Date.now()/1e3,this.g=a.iat||(i>this.a?this.a:i),this.b=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.f=a.firebase&&a.firebase.tenant||null,this.c=!!a.is_anonymous||this.b=="anonymous"}Pl.prototype.T=function(){return this.f},Pl.prototype.l=function(){return this.c},Pl.prototype.toString=function(){return this.h};function Dl(i){try{return new Pl(i)}catch{return null}}function D0(i){if(!i||(i=i.split("."),i.length!=3))return null;i=i[1];for(var a=(4-i.length%4)%4,l=0;l<a;l++)i+=".";try{var m=KR(i);for(i=[],l=a=0;a<m.length;){var y=m[a++];if(128>y)i[l++]=String.fromCharCode(y);else if(191<y&&224>y){var w=m[a++];i[l++]=String.fromCharCode((y&31)<<6|w&63)}else if(239<y&&365>y){w=m[a++];var S=m[a++],x=m[a++],G=((y&7)<<18|(w&63)<<12|(S&63)<<6|x&63)-65536;i[l++]=String.fromCharCode(55296+(G>>10)),i[l++]=String.fromCharCode(56320+(G&1023))}else w=m[a++],S=m[a++],i[l++]=String.fromCharCode((y&15)<<12|(w&63)<<6|S&63)}return JSON.parse(i.join(""))}catch{}return null}var L0="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ll=["client_id","response_type","scope","redirect_uri","state"],kp={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Ll},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Ll},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Ll},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:L0},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Np(i){for(var a in kp)if(kp[a].fa==i)return kp[a];return null}function M0(i){var a={};a["facebook.com"]=U0,a["google.com"]=j0,a["github.com"]=V0,a["twitter.com"]=B0;var l=i&&i[F0];try{if(l)return a[l]?new a[l](i):new Hr(i);if(typeof i[Cp]<"u")return new Op(i)}catch{}return null}var Cp="idToken",F0="providerId";function Op(i){var a=i[F0];if(!a&&i[Cp]){var l=Dl(i[Cp]);l&&l.b&&(a=l.b)}if(!a)throw Error("Invalid additional user info!");(a=="anonymous"||a=="custom")&&(a=null),l=!1,typeof i.isNewUser<"u"?l=!!i.isNewUser:i.kind==="identitytoolkit#SignupNewUserResponse"&&(l=!0),_e(this,"providerId",a),_e(this,"isNewUser",l)}function Hr(i){Op.call(this,i),i=Bs(i.rawUserInfo||"{}"),_e(this,"profile",yp(i||{}))}V(Hr,Op);function U0(i){if(Hr.call(this,i),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}V(U0,Hr);function V0(i){if(Hr.call(this,i),this.providerId!="github.com")throw Error("Invalid provider ID!");_e(this,"username",this.profile&&this.profile.login||null)}V(V0,Hr);function j0(i){if(Hr.call(this,i),this.providerId!="google.com")throw Error("Invalid provider ID!")}V(j0,Hr);function B0(i){if(Hr.call(this,i),this.providerId!="twitter.com")throw Error("Invalid provider ID!");_e(this,"username",i.screenName||null)}V(B0,Hr);function q0(i){var a=Bn(i),l=mr(a,"link"),m=mr(Bn(l),"link");return a=mr(a,"deep_link_id"),mr(Bn(a),"link")||a||m||l||i}function Ml(i,a){if(!i&&!a)throw new L("internal-error","Internal assert: no raw session string available");if(i&&a)throw new L("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=a||null,this.type=this.a?bu:Fl}var bu="enroll",Fl="signin";Ml.prototype.Ha=function(){return this.a?Ce(this.a):Ce(this.b)},Ml.prototype.w=function(){return this.type==bu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function qs(){}qs.prototype.ka=function(){},qs.prototype.b=function(){},qs.prototype.c=function(){},qs.prototype.w=function(){};function $s(i,a){return i.then(function(l){if(l[Ar]){var m=Dl(l[Ar]);if(!m||a!=m.i)throw new L("user-mismatch");return l}throw new L("user-mismatch")}).o(function(l){throw l&&l.code&&l.code==se+"user-not-found"?new L("user-mismatch"):l})}function Do(i,a){if(a)this.a=a;else throw new L("internal-error","failed to construct a credential");_e(this,"providerId",i),_e(this,"signInMethod",i)}Do.prototype.ka=function(i){return em(i,Rp(this))},Do.prototype.b=function(i,a){var l=Rp(this);return l.idToken=a,tm(i,l)},Do.prototype.c=function(i,a){return $s(nm(i,Rp(this)),a)};function Rp(i){return{pendingToken:i.a,requestUri:"http://localhost"}}Do.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function XR(i){if(i&&i.providerId&&i.signInMethod&&i.providerId.indexOf("saml.")==0&&i.pendingToken)try{return new Do(i.providerId,i.pendingToken)}catch{}return null}function fi(i,a,l){if(this.a=null,a.idToken||a.accessToken)a.idToken&&_e(this,"idToken",a.idToken),a.accessToken&&_e(this,"accessToken",a.accessToken),a.nonce&&!a.pendingToken&&_e(this,"nonce",a.nonce),a.pendingToken&&(this.a=a.pendingToken);else if(a.oauthToken&&a.oauthTokenSecret)_e(this,"accessToken",a.oauthToken),_e(this,"secret",a.oauthTokenSecret);else throw new L("internal-error","failed to construct a credential");_e(this,"providerId",i),_e(this,"signInMethod",l)}fi.prototype.ka=function(i){return em(i,xp(this))},fi.prototype.b=function(i,a){var l=xp(this);return l.idToken=a,tm(i,l)},fi.prototype.c=function(i,a){var l=xp(this);return $s(nm(i,l),a)};function xp(i){var a={};return i.idToken&&(a.id_token=i.idToken),i.accessToken&&(a.access_token=i.accessToken),i.secret&&(a.oauth_token_secret=i.secret),a.providerId=i.providerId,i.nonce&&!i.a&&(a.nonce=i.nonce),a={postBody:t0(a).toString(),requestUri:"http://localhost"},i.a&&(delete a.postBody,a.pendingToken=i.a),a}fi.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i};function YR(i){if(i&&i.providerId&&i.signInMethod){var a={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new fi(i.providerId,a,i.signInMethod)}catch{}}return null}function Lo(i,a){this.Qc=a||[],An(this,{providerId:i,isOAuthProvider:!0}),this.Jb={},this.qb=(Np(i)||{}).Ja||null,this.pb=null}Lo.prototype.Ka=function(i){return this.Jb=Dt(i),this};function $0(i){if(typeof i!="string"||i.indexOf("saml.")!=0)throw new L("argument-error",'SAML provider IDs must be prefixed with "saml."');Lo.call(this,i,[])}V($0,Lo);function tr(i){Lo.call(this,i,Ll),this.a=[]}V(tr,Lo),tr.prototype.Ca=function(i){return I(this.a,i)||this.a.push(i),this},tr.prototype.Rb=function(){return J(this.a)},tr.prototype.credential=function(i,a){var l;if(A(i)?l={idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:l={idToken:i||null,accessToken:a||null},!l.idToken&&!l.accessToken)throw new L("argument-error","credential failed: must provide the ID token and/or the access token.");return new fi(this.providerId,l,this.providerId)};function Mo(){tr.call(this,"facebook.com")}V(Mo,tr),_e(Mo,"PROVIDER_ID","facebook.com"),_e(Mo,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function H0(i){if(!i)throw new L("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return A(i)&&(a=i.accessToken),new Mo().credential({accessToken:a})}function Fo(){tr.call(this,"github.com")}V(Fo,tr),_e(Fo,"PROVIDER_ID","github.com"),_e(Fo,"GITHUB_SIGN_IN_METHOD","github.com");function W0(i){if(!i)throw new L("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return A(i)&&(a=i.accessToken),new Fo().credential({accessToken:a})}function Uo(){tr.call(this,"google.com"),this.Ca("profile")}V(Uo,tr),_e(Uo,"PROVIDER_ID","google.com"),_e(Uo,"GOOGLE_SIGN_IN_METHOD","google.com");function K0(i,a){var l=i;return A(i)&&(l=i.idToken,a=i.accessToken),new Uo().credential({idToken:l,accessToken:a})}function Hs(){Lo.call(this,"twitter.com",L0)}V(Hs,Lo),_e(Hs,"PROVIDER_ID","twitter.com"),_e(Hs,"TWITTER_SIGN_IN_METHOD","twitter.com");function G0(i,a){var l=i;if(A(l)||(l={oauthToken:i,oauthTokenSecret:a}),!l.oauthToken||!l.oauthTokenSecret)throw new L("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fi("twitter.com",l,"twitter.com")}function Mi(i,a,l){this.a=i,this.f=a,_e(this,"providerId","password"),_e(this,"signInMethod",l===gr.EMAIL_LINK_SIGN_IN_METHOD?gr.EMAIL_LINK_SIGN_IN_METHOD:gr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Mi.prototype.ka=function(i){return this.signInMethod==gr.EMAIL_LINK_SIGN_IN_METHOD?Ke(i,Dx,{email:this.a,oobCode:this.f}):Ke(i,ww,{email:this.a,password:this.f})},Mi.prototype.b=function(i,a){return this.signInMethod==gr.EMAIL_LINK_SIGN_IN_METHOD?Ke(i,Lx,{idToken:a,email:this.a,oobCode:this.f}):Ke(i,bw,{idToken:a,email:this.a,password:this.f})},Mi.prototype.c=function(i,a){return $s(this.ka(i),a)},Mi.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function QR(i){return i&&i.email&&i.password?new Mi(i.email,i.password,i.signInMethod):null}function gr(){An(this,{providerId:"password",isOAuthProvider:!1})}function z0(i,a){if(a=Pp(a),!a)throw new L("argument-error","Invalid email link!");return new Mi(i,a.code,gr.EMAIL_LINK_SIGN_IN_METHOD)}function Pp(i){return i=q0(i),(i=A0(i))&&i.operation===Ol?i:null}An(gr,{PROVIDER_ID:"password"}),An(gr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),An(gr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Fi(i){if(!(i.fb&&i.eb||i.La&&i.ea))throw new L("internal-error");this.a=i,_e(this,"providerId","phone"),this.fa="phone",_e(this,"signInMethod","phone")}Fi.prototype.ka=function(i){return i.gb(wu(this))},Fi.prototype.b=function(i,a){var l=wu(this);return l.idToken=a,Ke(i,tP,l)},Fi.prototype.c=function(i,a){var l=wu(this);return l.operation="REAUTH",i=Ke(i,nP,l),$s(i,a)},Fi.prototype.w=function(){var i={providerId:"phone"};return this.a.fb&&(i.verificationId=this.a.fb),this.a.eb&&(i.verificationCode=this.a.eb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i};function JR(i){if(i&&i.providerId==="phone"&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var a={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(l){i[l]&&(a[l]=i[l])}),new Fi(a)}return null}function wu(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.fb,code:i.a.eb}}function hi(i){try{this.a=i||De.auth()}catch{throw new L("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}An(this,{providerId:"phone",isOAuthProvider:!1})}hi.prototype.gb=function(i,a){var l=this.a.a;return Ce(a.verify()).then(function(m){if(typeof m!="string")throw new L("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(a.type){case"recaptcha":var y=A(i)?i.session:null,w=A(i)?i.phoneNumber:i,S;return y&&y.type==bu?S=y.Ha().then(function(x){return Sx(l,{idToken:x,phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:m}})}):y&&y.type==Fl?S=y.Ha().then(function(x){return Ax(l,{mfaPendingCredential:x,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:m}})}):S=Tx(l,{phoneNumber:w,recaptchaToken:m}),S.then(function(x){return typeof a.reset=="function"&&a.reset(),x},function(x){throw typeof a.reset=="function"&&a.reset(),x});default:throw new L("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function X0(i,a){if(!i)throw new L("missing-verification-id");if(!a)throw new L("missing-verification-code");return new Fi({fb:i,eb:a})}An(hi,{PROVIDER_ID:"phone"}),An(hi,{PHONE_SIGN_IN_METHOD:"phone"});function Dp(i){if(i.temporaryProof&&i.phoneNumber)return new Fi({La:i.temporaryProof,ea:i.phoneNumber});var a=i&&i.providerId;if(!a||a==="password")return null;var l=i&&i.oauthAccessToken,m=i&&i.oauthTokenSecret,y=i&&i.nonce,w=i&&i.oauthIdToken,S=i&&i.pendingToken;try{switch(a){case"google.com":return K0(w,l);case"facebook.com":return H0(l);case"github.com":return W0(l);case"twitter.com":return G0(l,m);default:return l||m||w||S?S?a.indexOf("saml.")==0?new Do(a,S):new fi(a,{pendingToken:S,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},a):new tr(a).credential({idToken:w,accessToken:l,rawNonce:y}):null}}catch{return null}}function Lp(i){if(!i.isOAuthProvider)throw new L("invalid-oauth-provider")}function Tr(i,a,l,m,y,w,S){if(this.c=i,this.b=a||null,this.g=l||null,this.f=m||null,this.i=w||null,this.h=S||null,this.a=y||null,this.g||this.a){if(this.g&&this.a)throw new L("invalid-auth-event");if(this.g&&!this.f)throw new L("invalid-auth-event")}else throw new L("invalid-auth-event")}Tr.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},Tr.prototype.T=function(){return this.h},Tr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function Y0(i){return i=i||{},i.type?new Tr(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&we(i.error),i.postBody,i.tenantId):null}function ZR(){this.b=null,this.a=[]}var Mp=null;function ex(i){var a=Mp;a.a.push(i),a.b||(a.b=function(l){for(var m=0;m<a.a.length;m++)a.a[m](l)},i=At("universalLinks.subscribe",f),typeof i=="function"&&i(null,a.b))}function Fp(i){var a="unauthorized-domain",l=void 0,m=Bn(i);i=m.a,m=m.c,m=="chrome-extension"?l=bb("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):m=="http"||m=="https"?l=bb("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):a="operation-not-supported-in-this-environment",L.call(this,a,l)}V(Fp,L);function Eu(i,a,l){L.call(this,i,l),i=a||{},i.Kb&&_e(this,"email",i.Kb),i.ea&&_e(this,"phoneNumber",i.ea),i.credential&&_e(this,"credential",i.credential),i.$b&&_e(this,"tenantId",i.$b)}V(Eu,L),Eu.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var a=this.credential&&this.credential.w();return a&&un(i,a),i},Eu.prototype.toJSON=function(){return this.w()};function Ul(i){if(i.code){var a=i.code||"";a.indexOf(se)==0&&(a=a.substring(se.length));var l={credential:Dp(i),$b:i.tenantId};if(i.email)l.Kb=i.email;else if(i.phoneNumber)l.ea=i.phoneNumber;else if(!l.credential)return new L(a,i.message||void 0);return new Eu(a,l,i.message)}return null}function Iu(){}Iu.prototype.c=null;function Q0(i){return i.c||(i.c=i.b())}var Up;function Vl(){}V(Vl,Iu),Vl.prototype.a=function(){var i=J0(this);return i?new ActiveXObject(i):new XMLHttpRequest},Vl.prototype.b=function(){var i={};return J0(this)&&(i[0]=!0,i[1]=!0),i};function J0(i){if(!i.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],l=0;l<a.length;l++){var m=a[l];try{return new ActiveXObject(m),i.f=m}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}Up=new Vl;function jl(){}V(jl,Iu),jl.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if(typeof XDomainRequest<"u")return new Z0;throw Error("Unsupported browser")},jl.prototype.b=function(){return{}};function Z0(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=F(this.qc,this),this.a.onerror=F(this.Tb,this),this.a.onprogress=F(this.rc,this),this.a.ontimeout=F(this.vc,this)}e=Z0.prototype,e.open=function(i,a,l){if(l!=null&&!l)throw Error("Only async requests are supported.");this.a.open(i,a)},e.send=function(i){if(i)if(typeof i=="string")this.a.send(i);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(i){return i.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Vp(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Vp(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Vp(this,1)};function Vp(i,a){i.readyState=a,i.onreadystatechange&&i.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function jp(i,a,l){this.reset(i,a,l,void 0,void 0)}jp.prototype.a=null,jp.prototype.reset=function(i,a,l,m,y){delete this.a};function Bp(i){this.f=i,this.b=this.c=this.a=null}function Tu(i,a){this.name=i,this.value=a}Tu.prototype.toString=function(){return this.name};var ew=new Tu("SEVERE",1e3),qp=new Tu("WARNING",900),tx=new Tu("CONFIG",700),nx=new Tu("FINE",500);function tw(i){return i.c?i.c:i.a?tw(i.a):(lt("Root logger has no level set."),null)}Bp.prototype.log=function(i,a,l){if(i.value>=tw(this).value)for(E(a)&&(a=a()),i=new jp(i,String(a),this.f),l&&(i.a=l),l=this;l;)l=l.a};var $p={},Bl=null;function Hp(i){Bl||(Bl=new Bp(""),$p[""]=Bl,Bl.c=tx);var a;if(!(a=$p[i])){a=new Bp(i);var l=i.lastIndexOf("."),m=i.substr(l+1);l=Hp(i.substr(0,l)),l.b||(l.b={}),l.b[m]=a,a.a=l,$p[i]=a}return a}function vr(i,a){i&&i.log(nx,a,void 0)}function ql(i){this.f=i}V(ql,Iu),ql.prototype.a=function(){return new $l(this.f)},ql.prototype.b=function(i){return function(){return i}}({});function $l(i){Sn.call(this),this.u=i,this.h=void 0,this.readyState=Wp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Hp("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}V($l,Sn);var Wp=0;e=$l.prototype,e.open=function(i,a){if(this.readyState!=Wp)throw this.abort(),Error("Error reopening a connection");this.s=i,this.f=a,this.readyState=1,Au(this)},e.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var a={headers:this.l,method:this.s,credentials:this.h,cache:void 0};i&&(a.body=i),this.u.fetch(new Request(this.f,a)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Su(this)),this.readyState=Wp},e.uc=function(i){this.a&&(this.g=i,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=i.headers,this.readyState=2,Au(this)),this.a&&(this.readyState=3,Au(this),this.a&&(this.responseType==="arraybuffer"?i.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.m=new TextDecoder,nw(this)):i.text().then(this.tc.bind(this),this.Va.bind(this)))))};function nw(i){i.c.read().then(i.pc.bind(i)).catch(i.Va.bind(i))}e.pc=function(i){if(this.a){var a=this.m.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});a&&(this.response=this.responseText+=a),i.done?Su(this):Au(this),this.readyState==3&&nw(this)}},e.tc=function(i){this.a&&(this.response=this.responseText=i,Su(this))},e.sc=function(i){this.a&&(this.response=i,Su(this))},e.Va=function(i){var a=this.i;a&&a.log(qp,"Failed to fetch url "+this.f,i instanceof Error?i:Error(i)),this.a&&Su(this)};function Su(i){i.readyState=4,i.g=null,i.c=null,i.m=null,Au(i)}e.setRequestHeader=function(i,a){this.l.append(i,a)},e.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.i)&&i.log(qp,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var i=this.i;return i&&i.log(qp,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}i=[];for(var a=this.b.entries(),l=a.next();!l.done;)l=l.value,i.push(l[0]+": "+l[1]),l=a.next();return i.join(`\r
`)};function Au(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty($l.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(i){this.h=i?"include":"same-origin"}});function ku(i){Sn.call(this),this.headers=new Ms,this.D=i||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=rw,this.u=this.S=!1}V(ku,Sn);var rw="";ku.prototype.b=Hp("goog.net.XhrIo");var rx=/^https?$/i,ix=["POST","PUT"];function ox(i,a,l,m,y){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+a);l=l?l.toUpperCase():"GET",i.l=a,i.h="",i.P=l,i.J=!1,i.c=!0,i.a=i.D?i.D.a():Up.a(),i.C=i.D?Q0(i.D):Q0(Up),i.a.onreadystatechange=F(i.Wb,i);try{vr(i.b,di(i,"Opening Xhr")),i.N=!0,i.a.open(l,String(a),!0),i.N=!1}catch(S){vr(i.b,di(i,"Error opening Xhr: "+S.message)),iw(i,S);return}a=m||"";var w=new Ms(i.headers);y&&fR(y,function(S,x){w.set(x,S)}),y=T(w.Y()),m=f.FormData&&a instanceof f.FormData,!I(ix,l)||y||m||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),w.forEach(function(S,x){this.a.setRequestHeader(x,S)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.S&&(i.a.withCredentials=i.S);try{aw(i),0<i.g&&(i.u=sx(i.a),vr(i.b,di(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=F(i.Ma,i)):i.s=ip(i.Ma,i.g,i)),vr(i.b,di(i,"Sending request")),i.i=!0,i.a.send(a),i.i=!1}catch(S){vr(i.b,di(i,"Send error: "+S.message)),iw(i,S)}}function sx(i){return Er&&Tb(9)&&typeof i.timeout=="number"&&i.ontimeout!==void 0}function ax(i){return i.toLowerCase()=="content-type"}e=ku.prototype,e.Ma=function(){typeof c<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",vr(this.b,di(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function iw(i,a){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=a,ow(i),Hl(i)}function ow(i){i.J||(i.J=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(vr(this.b,di(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Hl(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Hl(this,!0)),ku.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?sw(this):this.Jc())},e.Jc=function(){sw(this)};function sw(i){if(i.c&&typeof c<"u"){if(i.C[1]&&Nu(i)==4&&Wl(i)==2)vr(i.b,di(i,"Local request error detected and ignored"));else if(i.i&&Nu(i)==4)ip(i.Wb,0,i);else if(i.dispatchEvent("readystatechange"),Nu(i)==4){vr(i.b,di(i,"Request complete")),i.c=!1;try{var a=Wl(i);e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var m;if(!(m=l)){var y;if(y=a===0){var w=String(i.l).match(Zb)[1]||null;if(!w&&f.self&&f.self.location){var S=f.self.location.protocol;w=S.substr(0,S.length-1)}y=!rx.test(w?w.toLowerCase():"")}m=y}if(m)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var x=2<Nu(i)?i.a.statusText:""}catch(G){vr(i.b,"Can not get status: "+G.message),x=""}i.h=x+" ["+Wl(i)+"]",ow(i)}}finally{Hl(i)}}}}function Hl(i,a){if(i.a){aw(i);var l=i.a,m=i.C[0]?p:null;i.a=null,i.C=null,a||i.dispatchEvent("ready");try{l.onreadystatechange=m}catch(y){(i=i.b)&&i.log(ew,"Problem encountered resetting onreadystatechange: "+y.message,void 0)}}}function aw(i){i.a&&i.u&&(i.a.ontimeout=null),i.s&&(f.clearTimeout(i.s),i.s=null)}function Nu(i){return i.a?i.a.readyState:0}function Wl(i){try{return 2<Nu(i)?i.a.status:-1}catch{return-1}}function ux(i){try{return i.a?i.a.responseText:""}catch(a){return vr(i.b,"Can not get responseText: "+a.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case rw:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(ew,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return vr(this.b,"Can not get response: "+a.message),null}};function di(i,a){return a+" ["+i.P+" "+i.l+" "+Wl(i)+"]"}function Vo(i){var a=fx;this.g=[],this.u=a,this.s=i||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Vo.prototype.cancel=function(i){if(this.a)this.c instanceof Vo&&this.c.cancel();else{if(this.b){var a=this.b;delete this.b,i?a.cancel(i):(a.l--,0>=a.l&&a.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(i=new Ou,Kl(this),Cu(this,!1,i))}},Vo.prototype.m=function(i,a){this.i=!1,Cu(this,i,a)};function Cu(i,a,l){i.a=!0,i.c=l,i.f=!a,cw(i)}function Kl(i){if(i.a){if(!i.v)throw new Gl;i.v=!1}}function cx(i,a){Kp(i,null,a,void 0)}function Kp(i,a,l,m){i.g.push([a,l,m]),i.a&&cw(i)}Vo.prototype.then=function(i,a,l){var m,y,w=new We(function(S,x){m=S,y=x});return Kp(this,m,function(S){S instanceof Ou?w.cancel():y(S)}),w.then(i,a,l)},Vo.prototype.$goog_Thenable=!0;function uw(i){return P(i.g,function(a){return E(a[1])})}function cw(i){if(i.h&&i.a&&uw(i)){var a=i.h,l=zl[a];l&&(f.clearTimeout(l.a),delete zl[a]),i.h=0}i.b&&(i.b.l--,delete i.b),a=i.c;for(var m=l=!1;i.g.length&&!i.i;){var y=i.g.shift(),w=y[0],S=y[1];if(y=y[2],w=i.f?S:w)try{var x=w.call(y||i.s,a);x!==void 0&&(i.f=i.f&&(x==a||x instanceof Error),i.c=a=x),(Ee(a)||typeof f.Promise=="function"&&a instanceof f.Promise)&&(m=!0,i.i=!0)}catch(G){a=G,i.f=!0,uw(i)||(l=!0)}}i.c=a,m&&(x=F(i.m,i,!0),m=F(i.m,i,!1),a instanceof Vo?(Kp(a,x,m),a.C=!0):a.then(x,m)),l&&(a=new lw(a),zl[a.a]=a,i.h=a.a)}function Gl(){ve.call(this)}V(Gl,ve),Gl.prototype.message="Deferred has already fired",Gl.prototype.name="AlreadyCalledError";function Ou(){ve.call(this)}V(Ou,ve),Ou.prototype.message="Deferred was canceled",Ou.prototype.name="CanceledError";function lw(i){this.a=f.setTimeout(F(this.c,this),0),this.b=i}lw.prototype.c=function(){throw delete zl[this.a],this.b};var zl={};function Gp(i){var a={},l=a.document||document,m=hb(i).toString(),y=_l(document,"SCRIPT"),w={Xb:y,Ma:void 0},S=new Vo(w),x=null,G=a.timeout!=null?a.timeout:5e3;return 0<G&&(x=window.setTimeout(function(){Xl(y,!0);var ee=new zp(dx,"Timeout reached for loading script "+m);Kl(S),Cu(S,!1,ee)},G),w.Ma=x),y.onload=y.onreadystatechange=function(){y.readyState&&y.readyState!="loaded"&&y.readyState!="complete"||(Xl(y,a.xd||!1,x),Kl(S),Cu(S,!0,null))},y.onerror=function(){Xl(y,!0,x);var ee=new zp(hx,"Error while loading script "+m);Kl(S),Cu(S,!1,ee)},w=a.attributes||{},un(w,{type:"text/javascript",charset:"UTF-8"}),Ab(y,w),qO(y,i),lx(l).appendChild(y),S}function lx(i){var a;return(a=(i||document).getElementsByTagName("HEAD"))&&a.length!=0?a[0]:i.documentElement}function fx(){if(this&&this.Xb){var i=this.Xb;i&&i.tagName=="SCRIPT"&&Xl(i,!0,this.Ma)}}function Xl(i,a,l){l!=null&&f.clearTimeout(l),i.onload=p,i.onerror=p,i.onreadystatechange=p,a&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var hx=0,dx=1;function zp(i,a){var l="Jsloader error (code #"+i+")";a&&(l+=": "+a),ve.call(this,l),this.code=i}V(zp,ve);function Yl(i){this.f=i}V(Yl,Iu),Yl.prototype.a=function(){return new this.f},Yl.prototype.b=function(){return{}};function Sr(i,a,l){if(this.c=i,i=a||{},this.l=i.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=i.secureTokenTimeout||px,this.g=Dt(i.secureTokenHeaders||mx),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=i.firebaseTimeout||gx,this.a=Dt(i.firebaseHeaders||vx),l&&(this.a["X-Client-Version"]=l,this.g["X-Client-Version"]=l),l=qr()=="Node",l=f.XMLHttpRequest||l&&De.INTERNAL.node&&De.INTERNAL.node.XMLHttpRequest,!l&&!Ir())throw new L("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Ir()?this.f=new ql(self):f0()?this.f=new Yl(l):this.f=new jl,this.b=null}var Xp,Ar="idToken",px=new Li(3e4,6e4),mx={"Content-Type":"application/x-www-form-urlencoded"},gx=new Li(3e4,6e4),vx={"Content-Type":"application/json"};function fw(i,a){a?i.a["X-Firebase-Locale"]=a:delete i.a["X-Firebase-Locale"]}function Ql(i,a){a&&(i.l=Yp("https://securetoken.googleapis.com/v1/token",a),i.h=Yp("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",a),i.i=Yp("https://identitytoolkit.googleapis.com/v2/",a))}function Yp(i,a){return i=Bn(i),a=Bn(a.url),i.f=i.a+i.f,cu(i,a.c),i.a=a.a,lu(i,a.g),i.toString()}function hw(i,a){a?(i.a["X-Client-Version"]=a,i.g["X-Client-Version"]=a):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}Sr.prototype.T=function(){return this.b};function dw(i,a,l,m,y,w,S){wR()||Ir()?i=F(i.u,i):(Xp||(Xp=new We(function(x,G){_x(x,G)})),i=F(i.s,i)),i(a,l,m,y,w,S)}Sr.prototype.u=function(i,a,l,m,y,w){if(Ir()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new L("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var S=new ku(this.f);if(w){S.g=Math.max(0,w);var x=setTimeout(function(){S.dispatchEvent("timeout")},w)}Yb(S,"complete",function(){x&&clearTimeout(x);var G=null;try{G=JSON.parse(ux(this))||null}catch{G=null}a&&a(G)}),rp(S,"ready",function(){x&&clearTimeout(x),$b(this)}),rp(S,"timeout",function(){x&&clearTimeout(x),$b(this),a&&a(null)}),ox(S,i,l,m,y)};var yx=new jr(ml,"https://apis.google.com/js/client.js?onload=%{onload}"),pw="__fcb"+Math.floor(1e6*Math.random()).toString();function _x(i,a){if(((window.gapi||{}).client||{}).request)i();else{f[pw]=function(){((window.gapi||{}).client||{}).request?i():a(Error("CORS_UNSUPPORTED"))};var l=Vd(yx,{onload:pw});cx(Gp(l),function(){a(Error("CORS_UNSUPPORTED"))})}}Sr.prototype.s=function(i,a,l,m,y){var w=this;Xp.then(function(){window.gapi.client.setApiKey(w.c);var S=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:l,body:m,headers:y,authType:"none",callback:function(x){window.gapi.auth.setToken(S),a&&a(x)}})}).o(function(S){a&&a({error:{message:S&&S.message||"CORS_UNSUPPORTED"}})})};function bx(i,a){return new We(function(l,m){a.grant_type=="refresh_token"&&a.refresh_token||a.grant_type=="authorization_code"&&a.code?dw(i,i.l+"?key="+encodeURIComponent(i.c),function(y){y?y.error?m(im(y)):y.access_token&&y.refresh_token?l(y):m(new L("internal-error")):m(new L("network-request-failed"))},"POST",t0(a).toString(),i.g,i.m.get()):m(new L("internal-error"))})}function mw(i,a,l,m,y,w,S){var x=Bn(a+l);Ft(x,"key",i.c),S&&Ft(x,"cb",Date.now().toString());var G=m=="GET";if(G)for(var ee in y)y.hasOwnProperty(ee)&&Ft(x,ee,y[ee]);return new We(function(Fe,at){dw(i,x.toString(),function(et){et?et.error?at(im(et,w||{})):Fe(et):at(new L("network-request-failed"))},m,G?void 0:i0(p0(y)),i.a,i.v.get())})}function jo(i){if(i=i.email,typeof i!="string"||!TR.test(i))throw new L("invalid-email")}function gw(i){"email"in i&&jo(i)}function wx(i,a){return Ke(i,Rx,{identifier:a,continueUri:Cl()?du():"http://localhost"}).then(function(l){return l.signinMethods||[]})}function Ex(i){return Ke(i,$x,{}).then(function(a){return a.authorizedDomains||[]})}function qn(i){if(!i[Ar])throw i.mfaPendingCredential?new L("multi-factor-auth-required",null,Dt(i)):new L("internal-error")}function Qp(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new L("internal-error")}else{if(!i.sessionInfo)throw new L("missing-verification-id");if(!i.code)throw new L("missing-verification-code")}}Sr.prototype.Ab=function(){return Ke(this,Gx,{})},Sr.prototype.Cb=function(i,a){return Ke(this,_w,{idToken:i,email:a})},Sr.prototype.Db=function(i,a){return Ke(this,bw,{idToken:i,password:a})};var Ix={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Sr.prototype,e.Eb=function(i,a){var l={idToken:i},m=[];return dr(Ix,function(y,w){var S=a[w];S===null?m.push(y):w in a&&(l[w]=S)}),m.length&&(l.deleteAttribute=m),Ke(this,_w,l)},e.wb=function(i,a){return i={requestType:"PASSWORD_RESET",email:i},un(i,a),Ke(this,qx,i)},e.xb=function(i,a){return i={requestType:"EMAIL_SIGNIN",email:i},un(i,a),Ke(this,Vx,i)},e.vb=function(i,a){return i={requestType:"VERIFY_EMAIL",idToken:i},un(i,a),Ke(this,jx,i)},e.Fb=function(i,a,l){return i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:a},un(i,l),Ke(this,Bx,i)};function Tx(i,a){return Ke(i,Kx,a)}e.gb=function(i){return Ke(this,eP,i)};function Sx(i,a){return Ke(i,zx,a).then(function(l){return l.phoneSessionInfo.sessionInfo})}function vw(i){if(!i.phoneVerificationInfo)throw new L("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new L("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new L("missing-verification-code")}function Ax(i,a){return Ke(i,Xx,a).then(function(l){return l.phoneResponseInfo.sessionInfo})}function kx(i,a,l){return Ke(i,Px,{idToken:a,deleteProvider:l})}function Jp(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new L("internal-error")}function Zp(i,a){return a.oauthIdToken&&a.providerId&&a.providerId.indexOf("oidc.")==0&&!a.pendingToken&&(i.sessionId?a.nonce=i.sessionId:i.postBody&&(i=new Oo(i.postBody),ap(i,"nonce")&&(a.nonce=i.get("nonce")))),a}function yw(i){var a=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",a=Ul(i)):i.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(i.code="credential-already-in-use",a=Ul(i)):i.errorMessage=="EMAIL_EXISTS"?(i.code="email-already-in-use",a=Ul(i)):i.errorMessage&&(a=Ew(i.errorMessage)),a)throw a;qn(i)}function em(i,a){return a.returnIdpCredential=!0,Ke(i,Yx,a)}function tm(i,a){return a.returnIdpCredential=!0,Ke(i,Jx,a)}function nm(i,a){return a.returnIdpCredential=!0,a.autoCreate=!1,Ke(i,Qx,a)}function rm(i){if(!i.oobCode)throw new L("invalid-action-code")}e.ob=function(i,a){return Ke(this,Wx,{oobCode:i,newPassword:a})},e.Sa=function(i){return Ke(this,Cx,{oobCode:i})},e.kb=function(i){return Ke(this,Nx,{oobCode:i})};var Nx={endpoint:"setAccountInfo",A:rm,Z:"email",B:!0},Cx={endpoint:"resetPassword",A:rm,G:function(i){var a=i.requestType;if(!a||!i.email&&a!="EMAIL_SIGNIN"&&a!="VERIFY_AND_CHANGE_EMAIL")throw new L("internal-error")},B:!0},Ox={endpoint:"signupNewUser",A:function(i){if(jo(i),!i.password)throw new L("weak-password")},G:qn,V:!0,B:!0},Rx={endpoint:"createAuthUri",B:!0},xx={endpoint:"deleteAccount",O:["idToken"]},Px={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(i){if(!Array.isArray(i.deleteProvider))throw new L("internal-error")}},Dx={endpoint:"emailLinkSignin",O:["email","oobCode"],A:jo,G:qn,V:!0,B:!0},Lx={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:jo,G:qn,V:!0},Mx={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:vw,G:qn,B:!0,Na:!0},Fx={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:vw,G:qn,B:!0,Na:!0},Ux={endpoint:"getAccountInfo"},Vx={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="EMAIL_SIGNIN")throw new L("internal-error");jo(i)},Z:"email",B:!0},jx={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(i){if(i.requestType!="VERIFY_EMAIL")throw new L("internal-error")},Z:"email",B:!0},Bx={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(i){if(i.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new L("internal-error")},Z:"email",B:!0},qx={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="PASSWORD_RESET")throw new L("internal-error");jo(i)},Z:"email",B:!0},$x={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Hx={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(i){if(!i.recaptchaSiteKey)throw new L("internal-error")}},Wx={endpoint:"resetPassword",A:rm,Z:"email",B:!0},Kx={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},_w={endpoint:"setAccountInfo",O:["idToken"],A:gw,V:!0},bw={endpoint:"setAccountInfo",O:["idToken"],A:function(i){if(gw(i),!i.password)throw new L("weak-password")},G:qn,V:!0},Gx={endpoint:"signupNewUser",G:qn,V:!0,B:!0},zx={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(i){if(!i.phoneEnrollmentInfo)throw new L("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new L("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new L("missing-app-credential")},G:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new L("internal-error")},B:!0,Na:!0},Xx={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new L("missing-app-credential")},G:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new L("internal-error")},B:!0,Na:!0},Yx={endpoint:"verifyAssertion",A:Jp,Za:Zp,G:yw,V:!0,B:!0},Qx={endpoint:"verifyAssertion",A:Jp,Za:Zp,G:function(i){if(i.errorMessage&&i.errorMessage=="USER_NOT_FOUND")throw new L("user-not-found");if(i.errorMessage)throw Ew(i.errorMessage);qn(i)},V:!0,B:!0},Jx={endpoint:"verifyAssertion",A:function(i){if(Jp(i),!i.idToken)throw new L("internal-error")},Za:Zp,G:yw,V:!0},Zx={endpoint:"verifyCustomToken",A:function(i){if(!i.token)throw new L("invalid-custom-token")},G:qn,V:!0,B:!0},ww={endpoint:"verifyPassword",A:function(i){if(jo(i),!i.password)throw new L("wrong-password")},G:qn,V:!0,B:!0},eP={endpoint:"verifyPhoneNumber",A:Qp,G:qn,B:!0},tP={endpoint:"verifyPhoneNumber",A:function(i){if(!i.idToken)throw new L("internal-error");Qp(i)},G:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",Ul(i);qn(i)}},nP={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Qp,G:qn,B:!0},rP={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(i){if(!!i[Ar]^!!i.refreshToken)throw new L("internal-error")},B:!0,Na:!0};function Ke(i,a,l){if(!RR(l,a.O))return St(new L("internal-error"));var m=!!a.Na,y=a.Vb||"POST",w;return Ce(l).then(a.A).then(function(){return a.V&&(l.returnSecureToken=!0),a.B&&i.b&&typeof l.tenantId>"u"&&(l.tenantId=i.b),m?mw(i,i.i,a.endpoint,y,l,a.Ib,a.mb||!1):mw(i,i.h,a.endpoint,y,l,a.Ib,a.mb||!1)}).then(function(S){return w=S,a.Za?a.Za(l,w):w}).then(a.G).then(function(){if(!a.Z)return w;if(!(a.Z in w))throw new L("internal-error");return w[a.Z]})}function Ew(i){return im({error:{errors:[{message:i}],code:400,message:i}})}function im(i,a){var l=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",m={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(l=m[l]?new L(m[l]):null)return l;l=i.error&&i.error.message||"",m={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},un(m,a||{}),a=(a=l.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<a.length?a[1]:void 0;for(var y in m)if(l.indexOf(y)===0)return new L(m[y],a);return!a&&i&&(a=mu(i)),new L("internal-error",a)}function iP(i){this.b=i,this.a=null,this.sb=oP(this)}function oP(i){return fP().then(function(){return new We(function(a,l){At("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:At("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(m){function y(){clearTimeout(w),a()}i.a=m,i.a.restyle({setHideOnLeave:!1});var w=setTimeout(function(){l(Error("Network Error"))},lP.get());m.ping(y).then(y,function(){l(Error("Network Error"))})})})})}function sP(i,a){return i.sb.then(function(){return new We(function(l){i.a.send(a.type,a,l,At("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function aP(i,a){i.sb.then(function(){i.a.register("authEvent",a,At("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var uP=new jr(ml,"https://apis.google.com/js/api.js?onload=%{onload}"),cP=new Li(3e4,6e4),lP=new Li(5e3,15e3),Jl=null;function fP(){return Jl||(Jl=new We(function(i,a){function l(){g0(),At("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){g0(),a(Error("Network Error"))},timeout:cP.get()})}if(At("gapi.iframes.Iframe"))i();else if(At("gapi.load"))l();else{var m="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[m]=function(){At("gapi.load")?l():a(Error("Network Error"))},m=Vd(uP,{onload:m}),Ce(Gp(m)).o(function(){a(Error("Network Error"))})}}).o(function(i){throw Jl=null,i}))}function Iw(i,a,l,m){this.l=i,this.h=a,this.i=l,this.g=m,this.f=null,this.g?(i=Bn(this.g.url),i=kl(i.c,i.a,i.g,"/emulator/auth/iframe")):i=kl("https",this.l,null,"/__/auth/iframe"),this.a=i,Ft(this.a,"apiKey",this.h),Ft(this.a,"appName",this.i),this.b=null,this.c=[]}Iw.prototype.toString=function(){return this.f?Ft(this.a,"v",this.f):Br(this.a.b,"v"),this.b?Ft(this.a,"eid",this.b):Br(this.a.b,"eid"),this.c.length?Ft(this.a,"fw",this.c.join(",")):Br(this.a.b,"fw"),this.a.toString()};function om(i,a,l,m,y,w){this.u=i,this.s=a,this.c=l,this.m=m,this.v=w,this.i=this.g=this.l=null,this.a=y,this.h=this.f=null}om.prototype.zb=function(i){return this.h=i,this},om.prototype.toString=function(){if(this.v){var i=Bn(this.v.url);i=kl(i.c,i.a,i.g,"/emulator/auth/handler")}else i=kl("https",this.u,null,"/__/auth/handler");if(Ft(i,"apiKey",this.s),Ft(i,"appName",this.c),Ft(i,"authType",this.m),this.a.isOAuthProvider){var a=this.a;try{var l=De.app(this.c).auth().la()}catch{l=null}a.pb=l,Ft(i,"providerId",this.a.providerId),l=this.a,a=p0(l.Jb);for(var m in a)a[m]=a[m].toString();m=l.Qc,a=Dt(a);for(var y=0;y<m.length;y++){var w=m[y];w in a&&delete a[w]}l.qb&&l.pb&&!a[l.qb]&&(a[l.qb]=l.pb),Vr(a)||Ft(i,"customParameters",mu(a))}if(typeof this.a.Rb=="function"&&(l=this.a.Rb(),l.length&&Ft(i,"scopes",l.join(","))),this.l?Ft(i,"redirectUrl",this.l):Br(i.b,"redirectUrl"),this.g?Ft(i,"eventId",this.g):Br(i.b,"eventId"),this.i?Ft(i,"v",this.i):Br(i.b,"v"),this.b)for(var S in this.b)this.b.hasOwnProperty(S)&&!mr(i,S)&&Ft(i,S,this.b[S]);return this.h?Ft(i,"tid",this.h):Br(i.b,"tid"),this.f?Ft(i,"eid",this.f):Br(i.b,"eid"),S=sm(this.c),S.length&&Ft(i,"fw",S.join(",")),i.toString()};function sm(i){try{return De.app(i).auth().Ga()}catch{return[]}}function Tw(i,a,l,m,y,w){this.s=i,this.g=a,this.b=l,this.f=w,this.c=m||null,this.i=y||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Sw(i){var a=du();return Ex(i).then(function(l){e:{var m=Bn(a),y=m.c;m=m.a;for(var w=0;w<l.length;w++){var S=l[w],x=m,G=y;if(S.indexOf("chrome-extension://")==0?x=Bn(S).a==x&&G=="chrome-extension":G!="http"&&G!="https"?x=!1:IR.test(S)?x=x==S:(S=S.split(".").join("\\."),x=new RegExp("^(.+\\."+S+"|"+S+")$","i").test(x)),x){l=!0;break e}}l=!1}if(!l)throw new Fp(du())})}function Aw(i){return i.m||(i.m=Nl().then(function(){if(!i.u){var a=i.c,l=i.i,m=sm(i.b),y=new Iw(i.s,i.g,i.b,i.f);y.f=a,y.b=l,y.c=J(m||[]),i.u=y.toString()}i.v=new iP(i.u),hP(i)})),i.m}e=Tw.prototype,e.Pb=function(i,a,l){var m=new L("popup-closed-by-user"),y=new L("web-storage-unsupported"),w=this,S=!1;return this.ma().then(function(){dP(w).then(function(x){x||(i&&Ro(i),a(y),S=!0)})}).o(function(){}).then(function(){if(!S)return ER(i)}).then(function(){if(!S)return Ls(l).then(function(){a(m)})})},e.Yb=function(){var i=cn();return!pu(i)&&!m0(i)},e.Ub=function(){return!1},e.Nb=function(i,a,l,m,y,w,S,x){if(!i)return St(new L("popup-blocked"));if(S&&!pu())return this.ma().o(function(ee){Ro(i),y(ee)}),m(),Ce();this.a||(this.a=Sw(kw(this)));var G=this;return this.a.then(function(){var ee=G.ma().o(function(Fe){throw Ro(i),y(Fe),Fe});return m(),ee}).then(function(){if(Lp(l),!S){var ee=Ru(G.s,G.g,G.b,a,l,null,w,G.c,void 0,G.i,x,G.f);a0(ee,i)}}).o(function(ee){throw ee.code=="auth/network-request-failed"&&(G.a=null),ee})};function kw(i){return i.l||(i.C=i.c?Vs(i.c,sm(i.b)):null,i.l=new Sr(i.g,Ue(i.i),i.C),i.f&&Ql(i.l,i.f)),i.l}e.Ob=function(i,a,l,m){this.a||(this.a=Sw(kw(this)));var y=this;return this.a.then(function(){Lp(a);var w=Ru(y.s,y.g,y.b,i,a,du(),l,y.c,void 0,y.i,m,y.f);a0(w)}).o(function(w){throw w.code=="auth/network-request-failed"&&(y.a=null),w})},e.ma=function(){var i=this;return Aw(this).then(function(){return i.v.sb}).o(function(){throw i.a=null,new L("network-request-failed")})},e.ac=function(){return!0};function Ru(i,a,l,m,y,w,S,x,G,ee,Fe,at){return i=new om(i,a,l,m,y,at),i.l=w,i.g=S,i.i=x,i.b=Dt(G||null),i.f=ee,i.zb(Fe).toString()}function hP(i){if(!i.v)throw Error("IfcHandler must be initialized!");aP(i.v,function(a){var l={};if(a&&a.authEvent){var m=!1;for(a=Y0(a.authEvent),l=0;l<i.h.length;l++)m=i.h[l](a)||m;return l={},l.status=m?"ACK":"ERROR",Ce(l)}return l.status="ERROR",Ce(l)})}function dP(i){var a={type:"webStorageSupport"};return Aw(i).then(function(){return sP(i.v,a)}).then(function(l){if(l&&l.length&&typeof l[0].webStorageSupport<"u")return l[0].webStorageSupport;throw Error()})}e.Ea=function(i){this.h.push(i)},e.Ta=function(i){U(this.h,function(a){return a==i})};function Nw(i){if(this.a=i||De.INTERNAL.reactNative&&De.INTERNAL.reactNative.AsyncStorage,!this.a)throw new L("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=Nw.prototype,e.get=function(i){return Ce(this.a.getItem(i)).then(function(a){return a&&Bs(a)})},e.set=function(i,a){return Ce(this.a.setItem(i,mu(a)))},e.U=function(i){return Ce(this.a.removeItem(i))},e.ca=function(){},e.ia=function(){};function Cw(i){this.b=i,this.a={},this.f=F(this.c,this)}var Ow=[];function pP(){var i=Ir()?self:null;if(z(Ow,function(l){l.b==i&&(a=l)}),!a){var a=new Cw(i);Ow.push(a)}return a}Cw.prototype.c=function(i){var a=i.data.eventType,l=i.data.eventId,m=this.a[a];if(m&&0<m.length){i.ports[0].postMessage({status:"ack",eventId:l,eventType:a,response:null});var y=[];z(m,function(w){y.push(Ce().then(function(){return w(i.origin,i.data.data)}))}),Db(y).then(function(w){var S=[];z(w,function(x){S.push({fulfilled:x.Qb,value:x.value,reason:x.reason?x.reason.message:void 0})}),z(S,function(x){for(var G in x)typeof x[G]>"u"&&delete x[G]}),i.ports[0].postMessage({status:"done",eventId:l,eventType:a,response:S})})}};function Rw(i,a,l){Vr(i.a)&&i.b.addEventListener("message",i.f),typeof i.a[a]>"u"&&(i.a[a]=[]),i.a[a].push(l)}function xw(i){this.a=i}xw.prototype.postMessage=function(i,a){this.a.postMessage(i,a)};function Pw(i){this.c=i,this.b=!1,this.a=[]}function Dw(i,a,l,m){var y,w=l||{},S,x,G,ee=null;if(i.b)return St(Error("connection_unavailable"));var Fe=m?800:50,at=typeof MessageChannel<"u"?new MessageChannel:null;return new We(function(et,rn){at?(y=Math.floor(Math.random()*Math.pow(10,20)).toString(),at.port1.start(),x=setTimeout(function(){rn(Error("unsupported_event"))},Fe),S=function(pi){pi.data.eventId===y&&(pi.data.status==="ack"?(clearTimeout(x),G=setTimeout(function(){rn(Error("timeout"))},3e3)):pi.data.status==="done"?(clearTimeout(G),typeof pi.data.response<"u"?et(pi.data.response):rn(Error("unknown_error"))):(clearTimeout(x),clearTimeout(G),rn(Error("invalid_response"))))},ee={messageChannel:at,onMessage:S},i.a.push(ee),at.port1.addEventListener("message",S),i.c.postMessage({eventType:a,eventId:y,data:w},[at.port2])):rn(Error("connection_unavailable"))}).then(function(et){return am(i,ee),et}).o(function(et){throw am(i,ee),et})}function am(i,a){if(a){var l=a.messageChannel,m=a.onMessage;l&&(l.port1.removeEventListener("message",m),l.port1.close()),U(i.a,function(y){return y==a})}}Pw.prototype.close=function(){for(;0<this.a.length;)am(this,this.a[0]);this.b=!0};function Lw(){if(!lm())throw new L("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var i=this;Ir()&&self?(this.v=pP(),Rw(this.v,"keyChanged",function(a,l){return Uw(i).then(function(m){return 0<m.length&&z(i.a,function(y){y(m)}),{keyProcessed:I(m,l.key)}})}),Rw(this.v,"ping",function(){return Ce(["keyChanged"])})):CR().then(function(a){(i.h=a)&&(i.g=new Pw(new xw(a)),Dw(i.g,"ping",null,!0).then(function(l){l[0].fulfilled&&I(l[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}var um;function mP(i){return new We(function(a,l){var m=i.m.deleteDatabase("firebaseLocalStorageDb");m.onsuccess=function(){a()},m.onerror=function(y){l(Error(y.target.error))}})}function Mw(i){return new We(function(a,l){var m=i.m.open("firebaseLocalStorageDb",1);m.onerror=function(y){try{y.preventDefault()}catch{}l(Error(y.target.error))},m.onupgradeneeded=function(y){y=y.target.result;try{y.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(w){l(w)}},m.onsuccess=function(y){y=y.target.result,y.objectStoreNames.contains("firebaseLocalStorage")?a(y):mP(i).then(function(){return Mw(i)}).then(function(w){a(w)}).o(function(w){l(w)})}})}function cm(i){return i.i||(i.i=Mw(i)),i.i}function Zl(i,a){function l(y,w){cm(i).then(a).then(y).o(function(S){if(3<++m)w(S);else return cm(i).then(function(x){return x.close(),i.i=void 0,l(y,w)}).o(function(x){w(x)})})}var m=0;return new We(l)}function lm(){try{return!!f.indexedDB}catch{return!1}}function xu(i){return i.objectStore("firebaseLocalStorage")}function Pu(i,a){return i.transaction(["firebaseLocalStorage"],a?"readwrite":"readonly")}function Ws(i){return new We(function(a,l){i.onsuccess=function(m){m&&m.target?a(m.target.result):a()},i.onerror=function(m){l(m.target.error)}})}e=Lw.prototype,e.set=function(i,a){var l=this,m=!1;return Zl(this,function(y){return y=xu(Pu(y,!0)),Ws(y.get(i))}).then(function(y){return Zl(l,function(w){if(w=xu(Pu(w,!0)),y)return y.value=a,Ws(w.put(y));l.b++,m=!0;var S={};return S.fbase_key=i,S.value=a,Ws(w.add(S))})}).then(function(){return l.c[i]=a,Fw(l,i)}).oa(function(){m&&l.b--})};function Fw(i,a){return i.g&&i.h&&NR()===i.h?Dw(i.g,"keyChanged",{key:a},i.s).then(function(){}).o(function(){}):Ce()}e.get=function(i){return Zl(this,function(a){return Ws(xu(Pu(a,!1)).get(i))}).then(function(a){return a&&a.value})},e.U=function(i){var a=this,l=!1;return Zl(this,function(m){return l=!0,a.b++,Ws(xu(Pu(m,!0)).delete(i))}).then(function(){return delete a.c[i],Fw(a,i)}).oa(function(){l&&a.b--})};function Uw(i){return cm(i).then(function(a){var l=xu(Pu(a,!1));return l.getAll?Ws(l.getAll()):new We(function(m,y){var w=[],S=l.openCursor();S.onsuccess=function(x){(x=x.target.result)?(w.push(x.value),x.continue()):m(w)},S.onerror=function(x){y(x.target.error)}})}).then(function(a){var l={},m=[];if(i.b==0){for(m=0;m<a.length;m++)l[a[m].fbase_key]=a[m].value;m=u0(i.c,l),i.c=l}return m})}e.ca=function(i){this.a.length==0&&gP(this),this.a.push(i)},e.ia=function(i){U(this.a,function(a){return a==i}),this.a.length==0&&Vw(this)};function gP(i){function a(){i.f=setTimeout(function(){i.l=Uw(i).then(function(l){0<l.length&&z(i.a,function(m){m(l)})}).then(function(){a()}).o(function(l){l.message!="STOP_EVENT"&&a()})},800)}Vw(i),a()}function Vw(i){i.l&&i.l.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function jw(i){var a=this,l=null;this.a=[],this.type="indexedDB",this.c=i,this.b=Ce().then(function(){if(lm()){var m=Po(),y="__sak"+m;return um||(um=new Lw),l=um,l.set(y,m).then(function(){return l.get(y)}).then(function(w){if(w!==m)throw Error("indexedDB not supported!");return l.U(y)}).then(function(){return l}).o(function(){return a.c})}return a.c}).then(function(m){return a.type=m.type,m.ca(function(y){z(a.a,function(w){w(y)})}),m})}e=jw.prototype,e.get=function(i){return this.b.then(function(a){return a.get(i)})},e.set=function(i,a){return this.b.then(function(l){return l.set(i,a)})},e.U=function(i){return this.b.then(function(a){return a.U(i)})},e.ca=function(i){this.a.push(i)},e.ia=function(i){U(this.a,function(a){return a==i})};function Du(){this.a={},this.type="inMemory"}e=Du.prototype,e.get=function(i){return Ce(this.a[i])},e.set=function(i,a){return this.a[i]=a,Ce()},e.U=function(i){return delete this.a[i],Ce()},e.ca=function(){},e.ia=function(){};function ef(){if(!vP())throw qr()=="Node"?new L("internal-error","The LocalStorage compatibility library was not found."):new L("web-storage-unsupported");this.a=Bw()||De.INTERNAL.node.localStorage,this.type="localStorage"}function Bw(){try{var i=f.localStorage,a=Po();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch{return null}}function vP(){var i=qr()=="Node";if(i=Bw()||i&&De.INTERNAL.node&&De.INTERNAL.node.localStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=ef.prototype,e.get=function(i){var a=this;return Ce().then(function(){var l=a.a.getItem(i);return Bs(l)})},e.set=function(i,a){var l=this;return Ce().then(function(){var m=mu(a);m===null?l.U(i):l.a.setItem(i,m)})},e.U=function(i){var a=this;return Ce().then(function(){a.a.removeItem(i)})},e.ca=function(i){f.window&&pr(f.window,"storage",i)},e.ia=function(i){f.window&&er(f.window,"storage",i)};function fm(){this.type="nullStorage"}e=fm.prototype,e.get=function(){return Ce(null)},e.set=function(){return Ce()},e.U=function(){return Ce()},e.ca=function(){},e.ia=function(){};function hm(){if(!yP())throw qr()=="Node"?new L("internal-error","The SessionStorage compatibility library was not found."):new L("web-storage-unsupported");this.a=qw()||De.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function qw(){try{var i=f.sessionStorage,a=Po();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch{return null}}function yP(){var i=qr()=="Node";if(i=qw()||i&&De.INTERNAL.node&&De.INTERNAL.node.sessionStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=hm.prototype,e.get=function(i){var a=this;return Ce().then(function(){var l=a.a.getItem(i);return Bs(l)})},e.set=function(i,a){var l=this;return Ce().then(function(){var m=mu(a);m===null?l.U(i):l.a.setItem(i,m)})},e.U=function(i){var a=this;return Ce().then(function(){a.a.removeItem(i)})},e.ca=function(){},e.ia=function(){};function _P(){var i={};i.Browser=bP,i.Node=wP,i.ReactNative=EP,i.Worker=IP,this.a=i[qr()]}var dm,bP={F:ef,cb:hm},wP={F:ef,cb:hm},EP={F:Nw,cb:fm},IP={F:ef,cb:fm},Ks={rd:"local",NONE:"none",td:"session"};function TP(i){var a=new L("invalid-persistence-type"),l=new L("unsupported-persistence-type");e:{for(m in Ks)if(Ks[m]==i){var m=!0;break e}m=!1}if(!m||typeof i!="string")throw a;switch(qr()){case"ReactNative":if(i==="session")throw l;break;case"Node":if(i!=="none")throw l;break;case"Worker":if(i==="session"||!lm()&&i!=="none")throw l;break;default:if(!dp()&&i!=="none")throw l}}function $w(){var i=!!(!m0(cn())&&fp()),a=pu(),l=dp();this.m=i,this.h=a,this.l=l,this.a={},dm||(dm=new _P),i=dm;try{this.g=!cp()&&v0()||!f.indexedDB?new i.a.F:new jw(Ir()?new Du:new i.a.F)}catch{this.g=new Du,this.h=!0}try{this.i=new i.a.cb}catch{this.i=new Du}this.v=new Du,this.f=F(this.Zb,this),this.b={}}var pm;function Lu(){return pm||(pm=new $w),pm}function Bo(i,a){switch(a){case"session":return i.i;case"none":return i.v;default:return i.g}}function Gs(i,a){return"firebase:"+i.name+(a?":"+a:"")}function SP(i,a,l){var m=Gs(a,l),y=Bo(i,a.F);return i.get(a,l).then(function(w){var S=null;try{S=Bs(f.localStorage.getItem(m))}catch{}if(S&&!w)return f.localStorage.removeItem(m),i.set(a,S,l);S&&w&&y.type!="localStorage"&&f.localStorage.removeItem(m)})}e=$w.prototype,e.get=function(i,a){return Bo(this,i.F).get(Gs(i,a))};function zs(i,a,l){return l=Gs(a,l),a.F=="local"&&(i.b[l]=null),Bo(i,a.F).U(l)}e.set=function(i,a,l){var m=Gs(i,l),y=this,w=Bo(this,i.F);return w.set(m,a).then(function(){return w.get(m)}).then(function(S){i.F=="local"&&(y.b[m]=S)})},e.addListener=function(i,a,l){i=Gs(i,a),this.l&&(this.b[i]=f.localStorage.getItem(i)),Vr(this.a)&&(Bo(this,"local").ca(this.f),this.h||(cp()||!v0())&&f.indexedDB||!this.l||AP(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(l)},e.removeListener=function(i,a,l){i=Gs(i,a),this.a[i]&&(U(this.a[i],function(m){return m==l}),this.a[i].length==0&&delete this.a[i]),Vr(this.a)&&(Bo(this,"local").ia(this.f),mm(this))};function AP(i){mm(i),i.c=setInterval(function(){for(var a in i.a){var l=f.localStorage.getItem(a),m=i.b[a];l!=m&&(i.b[a]=l,l=new No({type:"storage",key:a,target:window,oldValue:m,newValue:l,a:!0}),i.Zb(l))}},1e3)}function mm(i){i.c&&(clearInterval(i.c),i.c=null)}e.Zb=function(i){if(i&&i.g){var a=i.a.key;if(a==null)for(var l in this.a){var m=this.b[l];typeof m>"u"&&(m=null);var y=f.localStorage.getItem(l);y!==m&&(this.b[l]=y,this.nb(l))}else if(a.indexOf("firebase:")==0&&this.a[a]){if(typeof i.a.a<"u"?Bo(this,"local").ia(this.f):mm(this),this.m){if(l=f.localStorage.getItem(a),m=i.a.newValue,m!==l)m!==null?f.localStorage.setItem(a,m):f.localStorage.removeItem(a);else if(this.b[a]===m&&typeof i.a.a>"u")return}var w=this;l=function(){(typeof i.a.a<"u"||w.b[a]!==f.localStorage.getItem(a))&&(w.b[a]=f.localStorage.getItem(a),w.nb(a))},Er&&xi&&xi==10&&f.localStorage.getItem(a)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(l,10):l()}}else z(i,F(this.nb,this))},e.nb=function(i){this.a[i]&&z(this.a[i],function(a){a()})};function kP(i){this.a=i,this.b=Lu()}var gm={name:"authEvent",F:"local"};function NP(i){return i.b.get(gm,i.a).then(function(a){return Y0(a)})}function CP(){this.a=Lu()}function OP(){this.b=-1}function tf(i,a){this.b=Hw,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=a,this.l=f.Int32Array?new Int32Array(64):Array(64),nf===void 0&&(f.Int32Array?nf=new Int32Array(Gw):nf=Gw),this.reset()}var nf;V(tf,OP);for(var Hw=64,RP=Hw-1,Ww=[],vm=0;vm<RP;vm++)Ww[vm]=0;var Kw=B(128,Ww);tf.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):J(this.h)};function ym(i){for(var a=i.f,l=i.l,m=0,y=0;y<a.length;)l[m++]=a[y]<<24|a[y+1]<<16|a[y+2]<<8|a[y+3],y=4*m;for(a=16;64>a;a++){y=l[a-15]|0,m=l[a-2]|0;var w=(l[a-16]|0)+((y>>>7|y<<25)^(y>>>18|y<<14)^y>>>3)|0,S=(l[a-7]|0)+((m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10)|0;l[a]=w+S|0}m=i.a[0]|0,y=i.a[1]|0;var x=i.a[2]|0,G=i.a[3]|0,ee=i.a[4]|0,Fe=i.a[5]|0,at=i.a[6]|0;for(w=i.a[7]|0,a=0;64>a;a++){var et=((m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10))+(m&y^m&x^y&x)|0;S=ee&Fe^~ee&at,w=w+((ee>>>6|ee<<26)^(ee>>>11|ee<<21)^(ee>>>25|ee<<7))|0,S=S+(nf[a]|0)|0,S=w+(S+(l[a]|0)|0)|0,w=at,at=Fe,Fe=ee,ee=G+S|0,G=x,x=y,y=m,m=S+et|0}i.a[0]=i.a[0]+m|0,i.a[1]=i.a[1]+y|0,i.a[2]=i.a[2]+x|0,i.a[3]=i.a[3]+G|0,i.a[4]=i.a[4]+ee|0,i.a[5]=i.a[5]+Fe|0,i.a[6]=i.a[6]+at|0,i.a[7]=i.a[7]+w|0}function _m(i,a,l){l===void 0&&(l=a.length);var m=0,y=i.c;if(typeof a=="string")for(;m<l;)i.f[y++]=a.charCodeAt(m++),y==i.b&&(ym(i),y=0);else if(_(a))for(;m<l;){var w=a[m++];if(!(typeof w=="number"&&0<=w&&255>=w&&w==(w|0)))throw Error("message must be a byte array");i.f[y++]=w,y==i.b&&(ym(i),y=0)}else throw Error("message must be string or array");i.c=y,i.g+=l}var Gw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function zw(){tf.call(this,8,xP)}V(zw,tf);var xP=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Xw(i,a,l,m,y,w){this.v=i,this.i=a,this.l=l,this.m=m||null,this.u=y||null,this.s=w,this.h=a+":"+l,this.C=new CP,this.g=new kP(this.h),this.f=null,this.b=[],this.a=this.c=null}function rf(i){return new L("invalid-cordova-configuration",i)}e=Xw.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=SR().then(function(){if(typeof At("universalLinks.subscribe",f)!="function")throw rf("cordova-universal-links-plugin-fix is not installed");if(typeof At("BuildInfo.packageName",f)>"u")throw rf("cordova-plugin-buildinfo is not installed");if(typeof At("cordova.plugins.browsertab.openUrl",f)!="function")throw rf("cordova-plugin-browsertab is not installed");if(typeof At("cordova.InAppBrowser.open",f)!="function")throw rf("cordova-plugin-inappbrowser is not installed")},function(){throw new L("cordova-not-ready")})};function PP(){for(var i=20,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}function DP(i){var a=new zw;_m(a,i),i=[];var l=8*a.g;56>a.c?_m(a,Kw,56-a.c):_m(a,Kw,a.b-(a.c-56));for(var m=63;56<=m;m--)a.f[m]=l&255,l/=256;for(ym(a),m=l=0;m<a.i;m++)for(var y=24;0<=y;y-=8)i[l++]=a.a[m]>>y&255;return WR(i)}e.Pb=function(i,a){return a(new L("operation-not-supported-in-this-environment")),Ce()},e.Nb=function(){return St(new L("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(i,a,l,m){if(this.c)return St(new L("redirect-operation-pending"));var y=this,w=f.document,S=null,x=null,G=null,ee=null;return this.c=Ce().then(function(){return Lp(a),Qw(y)}).then(function(){return LP(y,i,a,l,m)}).then(function(){return new We(function(Fe,at){x=function(){var et=At("cordova.plugins.browsertab.close",f);return Fe(),typeof et=="function"&&et(),y.a&&typeof y.a.close=="function"&&(y.a.close(),y.a=null),!1},y.Ea(x),G=function(){S||(S=Ls(2e3).then(function(){at(new L("redirect-cancelled-by-user"))}))},ee=function(){pp()&&G()},w.addEventListener("resume",G,!1),cn().toLowerCase().match(/android/)||w.addEventListener("visibilitychange",ee,!1)}).o(function(Fe){return bm(y).then(function(){throw Fe})})}).oa(function(){G&&w.removeEventListener("resume",G,!1),ee&&w.removeEventListener("visibilitychange",ee,!1),S&&S.cancel(),x&&y.Ta(x),y.c=null})};function LP(i,a,l,m,y){var w=PP(),S=new Tr(a,m,null,w,new L("no-auth-event"),null,y),x=At("BuildInfo.packageName",f);if(typeof x!="string")throw new L("invalid-cordova-configuration");var G=At("BuildInfo.displayName",f),ee={};if(cn().toLowerCase().match(/iphone|ipad|ipod/))ee.ibi=x;else if(cn().toLowerCase().match(/android/))ee.apn=x;else return St(new L("operation-not-supported-in-this-environment"));G&&(ee.appDisplayName=G),w=DP(w),ee.sessionId=w;var Fe=Ru(i.v,i.i,i.l,a,l,null,m,i.m,ee,i.u,y,i.s);return i.ma().then(function(){var at=i.h;return i.C.a.set(gm,S.w(),at)}).then(function(){var at=At("cordova.plugins.browsertab.isAvailable",f);if(typeof at!="function")throw new L("invalid-cordova-configuration");var et=null;at(function(rn){if(rn){if(et=At("cordova.plugins.browsertab.openUrl",f),typeof et!="function")throw new L("invalid-cordova-configuration");et(Fe)}else{if(et=At("cordova.InAppBrowser.open",f),typeof et!="function")throw new L("invalid-cordova-configuration");rn=cn(),i.a=et(Fe,rn.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||rn.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Yw(i,a){for(var l=0;l<i.b.length;l++)try{i.b[l](a)}catch{}}function Qw(i){return i.f||(i.f=i.ma().then(function(){return new We(function(a){function l(m){return a(m),i.Ta(l),!1}i.Ea(l),MP(i)})})),i.f}function bm(i){var a=null;return NP(i.g).then(function(l){return a=l,l=i.g,zs(l.b,gm,l.a)}).then(function(){return a})}function MP(i){function a(S){m=!0,y&&y.cancel(),bm(i).then(function(x){var G=l;if(x&&S&&S.url){var ee=null;G=q0(S.url),G.indexOf("/__/auth/callback")!=-1&&(ee=Bn(G),ee=Bs(mr(ee,"firebaseError")||null),ee=(ee=typeof ee=="object"?we(ee):null)?new Tr(x.c,x.b,null,null,ee,null,x.T()):new Tr(x.c,x.b,G,x.f,null,null,x.T())),G=ee||l}Yw(i,G)})}var l=new Tr("unknown",null,null,null,new L("no-auth-event")),m=!1,y=Ls(500).then(function(){return bm(i).then(function(){m||Yw(i,l)})}),w=f.handleOpenURL;f.handleOpenURL=function(S){if(S.toLowerCase().indexOf(At("BuildInfo.packageName",f).toLowerCase()+"://")==0&&a({url:S}),typeof w=="function")try{w(S)}catch(x){console.error(x)}},Mp||(Mp=new ZR),ex(a)}e.Ea=function(i){this.b.push(i),Qw(this).o(function(a){a.code==="auth/invalid-cordova-configuration"&&(a=new Tr("unknown",null,null,null,new L("no-auth-event")),i(a))})},e.Ta=function(i){U(this.b,function(a){return a==i})};function FP(i){this.a=i,this.b=Lu()}var wm={name:"pendingRedirect",F:"session"};function UP(i){return i.b.set(wm,"pending",i.a)}function Em(i){return zs(i.b,wm,i.a)}function VP(i){return i.b.get(wm,i.a).then(function(a){return a=="pending"})}function of(i,a,l,m){this.i={},this.u=0,this.D=i,this.v=a,this.m=l,this.J=m,this.h=[],this.f=!1,this.l=F(this.s,this),this.b=new af,this.C=new aE,this.g=new FP(iE(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Jw(this.D,this.v,this.m,he,this.J)}function Jw(i,a,l,m,y){var w=De.SDK_VERSION||null;return lp()?new Xw(i,a,l,w,m,y):new Tw(i,a,l,w,m,y)}of.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Jw(this.D,this.v,this.m,null,this.J),this.i={}};function Zw(i){i.f||(i.f=!0,i.a.Ea(i.l));var a=i.a;return i.a.ma().o(function(l){throw i.a==a&&i.reset(),l})}function eE(i){i.a.Yb()&&Zw(i).o(function(a){var l=new Tr("unknown",null,null,null,new L("operation-not-supported-in-this-environment"));Tm(a)&&i.s(l)}),i.a.Ub()||oE(i.b)}function sf(i,a){I(i.h,a)||i.h.push(a),i.f||VP(i.g).then(function(l){l?Em(i.g).then(function(){Zw(i).o(function(m){var y=new Tr("unknown",null,null,null,new L("operation-not-supported-in-this-environment"));Tm(m)&&i.s(y)})}):eE(i)}).o(function(){eE(i)})}function Im(i,a){U(i.h,function(l){return l==a})}of.prototype.s=function(i){if(!i)throw new L("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var a=!1,l=0;l<this.h.length;l++){var m=this.h[l];if(m.Gb(i.c,i.b)){(a=this.c[i.c])&&(a.h(i,m),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=Date.now())),a=!0;break}}return oE(this.b),a};var jP=new Li(2e3,1e4),BP=new Li(3e4,6e4);of.prototype.ra=function(){return this.b.ra()};function tE(i,a,l,m,y,w,S){return i.a.Nb(a,l,m,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},y,w,S)}function Tm(i){return!!(i&&i.code=="auth/cordova-not-ready")}function nE(i,a,l,m,y){var w;return UP(i.g).then(function(){return i.a.Ob(a,l,m,y).o(function(S){if(Tm(S))throw new L("operation-not-supported-in-this-environment");return w=S,Em(i.g).then(function(){throw w})}).then(function(){return i.a.ac()?new We(function(){}):Em(i.g).then(function(){return i.ra()}).then(function(){}).o(function(){})})})}function rE(i,a,l,m,y){return i.a.Pb(m,function(w){a.na(l,null,w,y)},jP.get())}var Sm={};function iE(i,a,l){return i=i+":"+a,l&&(i=i+":"+l.url),i}function Am(i,a,l,m){var y=iE(a,l,m);return Sm[y]||(Sm[y]=new of(i,a,l,m)),Sm[y]}function af(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}af.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},af.prototype.h=function(i,a){if(i){this.reset(),this.g=!0;var l=i.c,m=i.b,y=i.a&&i.a.code=="auth/web-storage-unsupported",w=i.a&&i.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!y&&!w),l!="unknown"||y||w?i.a?(qo(this,!0,null,i.a),Ce()):a.Fa(l,m)?qP(this,i,a):St(new L("invalid-auth-event")):(qo(this,!1,null,null),Ce())}else St(new L("invalid-auth-event"))};function oE(i){i.g||(i.g=!0,qo(i,!1,null,null))}function uf(i){i.g&&!i.i&&qo(i,!1,null,null)}function qP(i,a,l){l=l.Fa(a.c,a.b);var m=a.g,y=a.f,w=a.i,S=a.T(),x=!!a.c.match(/Redirect$/);l(m,y,S,w).then(function(G){qo(i,x,G,null)}).o(function(G){qo(i,x,null,G)})}function $P(i,a){if(i.b=function(){return St(a)},i.c.length)for(var l=0;l<i.c.length;l++)i.c[l](a)}function sE(i,a){if(i.b=function(){return Ce(a)},i.f.length)for(var l=0;l<i.f.length;l++)i.f[l](a)}function qo(i,a,l,m){a?m?$P(i,m):sE(i,l):sE(i,{user:null}),i.f=[],i.c=[]}af.prototype.ra=function(){var i=this;return new We(function(a,l){i.b?i.b().then(a,l):(i.f.push(a),i.c.push(l),HP(i))})};function HP(i){var a=new L("timeout");i.a&&i.a.cancel(),i.a=Ls(BP.get()).then(function(){i.b||(i.g=!0,qo(i,!0,null,a))})}function aE(){}aE.prototype.h=function(i,a){if(i){var l=i.c,m=i.b;i.a?(a.na(i.c,null,i.a,i.b),Ce()):a.Fa(l,m)?WP(i,a):St(new L("invalid-auth-event"))}else St(new L("invalid-auth-event"))};function WP(i,a){var l=i.b,m=i.c;a.Fa(m,l)(i.g,i.f,i.T(),i.i).then(function(y){a.na(m,y,null,l)}).o(function(y){a.na(m,null,y,l)})}function uE(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(i){this.jb=i},enumerable:!1})}function km(i,a){this.a=a,_e(this,"verificationId",i)}km.prototype.confirm=function(i){return i=X0(this.verificationId,i),this.a(i)};function Nm(i,a,l,m){return new hi(i).gb(a,l).then(function(y){return new km(y,m)})}function KP(i){var a=D0(i);if(!(a&&a.exp&&a.auth_time&&a.iat))throw new L("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");An(this,{token:i,expirationTime:gu(1e3*a.exp),authTime:gu(1e3*a.auth_time),issuedAtTime:gu(1e3*a.iat),signInProvider:a.firebase&&a.firebase.sign_in_provider?a.firebase.sign_in_provider:null,signInSecondFactor:a.firebase&&a.firebase.sign_in_second_factor?a.firebase.sign_in_second_factor:null,claims:a})}function Cm(i,a,l){var m=a&&a[lE];if(!m)throw new L("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=Dt(a),this.g=l,this.c=new Ml(null,m),this.b=[];var y=this;z(a[cE]||[],function(w){(w=bp(w))&&y.b.push(w)}),_e(this,"auth",this.a),_e(this,"session",this.c),_e(this,"hints",this.b)}var cE="mfaInfo",lE="mfaPendingCredential";Cm.prototype.Rc=function(i){var a=this;return i.tb(this.a.a,this.c).then(function(l){var m=Dt(a.f);return delete m[cE],delete m[lE],un(m,l),a.g(m)})};function Om(i,a,l,m){L.call(this,"multi-factor-auth-required",m,a),this.b=new Cm(i,a,l),_e(this,"resolver",this.b)}V(Om,L);function fE(i,a,l){if(i&&A(i.serverResponse)&&i.code==="auth/multi-factor-auth-required")try{return new Om(a,i.serverResponse,l,i.message)}catch{}return null}function hE(){}hE.prototype.tb=function(i,a,l){return a.type==bu?GP(this,i,a,l):zP(this,i,a)};function GP(i,a,l,m){return l.Ha().then(function(y){return y={idToken:y},typeof m<"u"&&(y.displayName=m),un(y,{phoneVerificationInfo:wu(i.a)}),Ke(a,Mx,y)})}function zP(i,a,l){return l.Ha().then(function(m){return m={mfaPendingCredential:m},un(m,{phoneVerificationInfo:wu(i.a)}),Ke(a,Fx,m)})}function Rm(i){_e(this,"factorId",i.fa),this.a=i}V(Rm,hE);function dE(i){if(Rm.call(this,i),this.a.fa!=hi.PROVIDER_ID)throw new L("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}V(dE,Rm);function Xs(i,a){jn.call(this,i);for(var l in a)this[l]=a[l]}V(Xs,jn);function xm(i,a){this.a=i,this.b=[],this.c=F(this.yc,this),pr(this.a,"userReloaded",this.c);var l=[];a&&a.multiFactor&&a.multiFactor.enrolledFactors&&z(a.multiFactor.enrolledFactors,function(m){var y=null,w={};if(m){m.uid&&(w[Ep]=m.uid),m.displayName&&(w[_0]=m.displayName),m.enrollmentTime&&(w[wp]=new Date(m.enrollmentTime).toISOString()),m.phoneNumber&&(w[Ip]=m.phoneNumber);try{y=new vu(w)}catch{}m=y}else m=null;m&&l.push(m)}),cf(this,l)}function XP(i){var a=[];return z(i.mfaInfo||[],function(l){(l=bp(l))&&a.push(l)}),a}e=xm.prototype,e.yc=function(i){cf(this,XP(i.hd))};function cf(i,a){i.b=a,_e(i,"enrolledFactors",a)}e.Sb=function(){return this.a.I().then(function(i){return new Ml(i,null)})},e.fc=function(i,a){var l=this,m=this.a.a;return this.Sb().then(function(y){return i.tb(m,y,a)}).then(function(y){return Wr(l.a,y),l.a.reload()})},e.bd=function(i){var a=this,l=typeof i=="string"?i:i.uid,m=this.a.a;return this.a.I().then(function(y){return Ke(m,rP,{idToken:y,mfaEnrollmentId:l})}).then(function(y){var w=ce(a.b,function(S){return S.uid!=l});return cf(a,w),Wr(a.a,y),a.a.reload().o(function(S){if(S.code!="auth/user-token-expired")throw S})})},e.w=function(){return{multiFactor:{enrolledFactors:ke(this.b,function(i){return i.w()})}}};function Pm(i,a,l){if(this.h=i,this.i=a,this.g=l,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Pm.prototype.start=function(){this.a=this.c,Dm(this,!0)};function YP(i,a){return a?(i.a=i.c,i.g()):(a=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),a)}function Dm(i,a){i.stop(),i.b=Ls(YP(i,a)).then(function(){return kR()}).then(function(){return i.h()}).then(function(){Dm(i,!0)}).o(function(l){i.i(l)&&Dm(i,!1)})}Pm.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Lm(i){this.f=i,this.b=this.a=null,this.c=Date.now()}Lm.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function pE(i,a){typeof a>"u"&&(i.b?(a=i.b,a=a.a-a.g):a=0),i.c=Date.now()+1e3*a}function mE(i,a){i.b=Dl(a[Ar]||""),i.a=a.refreshToken,a=a.expiresIn,pE(i,typeof a<"u"?Number(a):void 0)}function QP(i,a){i.b=a.b,i.a=a.a,i.c=a.c}function JP(i,a){return bx(i.f,a).then(function(l){return i.b=Dl(l.access_token),i.a=l.refresh_token,pE(i,l.expires_in),{accessToken:i.b.toString(),refreshToken:i.a}}).o(function(l){throw l.code=="auth/user-token-expired"&&(i.a=null),l})}Lm.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?St(new L("user-token-expired")):i||!this.b||Date.now()>this.c-3e4?this.a?JP(this,{grant_type:"refresh_token",refresh_token:this.a}):Ce(null):Ce({accessToken:this.b.toString(),refreshToken:this.a})};function lf(i,a){this.a=i||null,this.b=a||null,An(this,{lastSignInTime:gu(a||null),creationTime:gu(i||null)})}function ZP(i){return new lf(i.a,i.b)}lf.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function eD(i,a,l,m,y,w){An(this,{uid:i,displayName:m||null,photoURL:y||null,email:l||null,phoneNumber:w||null,providerId:a})}function nr(i,a,l){this.N=[],this.l=i.apiKey,this.m=i.appName,this.s=i.authDomain||null;var m=De.SDK_VERSION?Vs(De.SDK_VERSION):null;this.a=new Sr(this.l,Ue(he),m),(this.u=i.emulatorConfig||null)&&Ql(this.a,this.u),this.h=new Lm(this.a),qm(this,a[Ar]),mE(this.h,a),_e(this,"refreshToken",this.h.a),vE(this,l||{}),Sn.call(this),this.P=!1,this.s&&xo()&&(this.b=Am(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=tD(this),this.ba=F(this.ib,this);var y=this;this.za=null,this.Pa=function(w){y.xa(w.h)},this.qa=null,this.Ba=function(w){Mm(y,w.c)},this.$=null,this.aa=[],this.Oa=function(w){Mu(y,w.f)},this.ja=null,this.S=new xm(this,l),_e(this,"multiFactor",this.S)}V(nr,Sn),nr.prototype.xa=function(i){this.za=i,fw(this.a,i)};function Mm(i,a){i.u=a,Ql(i.a,a),i.b&&(a=i.b,i.b=Am(i.s,i.l,i.m,i.u),i.P&&(Im(a,i),sf(i.b,i)))}nr.prototype.la=function(){return this.za};function Fm(i,a){i.qa&&er(i.qa,"languageCodeChanged",i.Pa),(i.qa=a)&&pr(a,"languageCodeChanged",i.Pa)}function Um(i,a){i.$&&er(i.$,"emulatorConfigChanged",i.Ba),(i.$=a)&&pr(a,"emulatorConfigChanged",i.Ba)}function Mu(i,a){i.aa=a,hw(i.a,De.SDK_VERSION?Vs(De.SDK_VERSION,i.aa):null)}nr.prototype.Ga=function(){return J(this.aa)};function Vm(i,a){i.ja&&er(i.ja,"frameworkChanged",i.Oa),(i.ja=a)&&pr(a,"frameworkChanged",i.Oa)}nr.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function jm(i){try{return De.app(i.m).auth()}catch{throw new L("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function tD(i){return new Pm(function(){return i.I(!0)},function(a){return!!(a&&a.code=="auth/network-request-failed")},function(){var a=i.h.c-Date.now()-3e5;return 0<a?a:0})}function gE(i){i.J||i.D.b||(i.D.start(),er(i,"tokenChanged",i.ba),pr(i,"tokenChanged",i.ba))}function Bm(i){er(i,"tokenChanged",i.ba),i.D.stop()}function qm(i,a){i.Aa=a,_e(i,"_lat",a)}function nD(i,a){U(i.W,function(l){return l==a})}function $o(i){for(var a=[],l=0;l<i.W.length;l++)a.push(i.W[l](i));return Db(a).then(function(){return i})}function Fu(i){i.b&&!i.P&&(i.P=!0,sf(i.b,i))}function vE(i,a){An(i,{uid:a.uid,displayName:a.displayName||null,photoURL:a.photoURL||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,isAnonymous:a.isAnonymous||!1,tenantId:a.tenantId||null,metadata:new lf(a.createdAt,a.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}_e(nr.prototype,"providerId","firebase");function yE(){}function $m(i){return Ce().then(function(){if(i.J)throw new L("app-deleted")})}function Hm(i){return ke(i.providerData,function(a){return a.providerId})}function Wm(i,a){a&&(_E(i,a.providerId),i.providerData.push(a))}function _E(i,a){U(i.providerData,function(l){return l.providerId==a})}function Ui(i,a,l){(a!="uid"||l)&&i.hasOwnProperty(a)&&_e(i,a,l)}function ff(i,a){i!=a&&(An(i,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,phoneNumber:a.phoneNumber,isAnonymous:a.isAnonymous,tenantId:a.tenantId,providerData:[]}),a.metadata?_e(i,"metadata",ZP(a.metadata)):_e(i,"metadata",new lf),z(a.providerData,function(l){Wm(i,l)}),QP(i.h,a.h),_e(i,"refreshToken",i.h.a),cf(i.S,a.S.b))}e=nr.prototype,e.reload=function(){var i=this;return Qt(this,$m(this).then(function(){return Km(i).then(function(){return $o(i)}).then(yE)}))};function Km(i){return i.I().then(function(a){var l=i.isAnonymous;return rD(i,a).then(function(){return l||Ui(i,"isAnonymous",!1),a})})}e.oc=function(i){return this.I(i).then(function(a){return new KP(a)})},e.I=function(i){var a=this;return Qt(this,$m(this).then(function(){return a.h.getToken(i)}).then(function(l){if(!l)throw new L("internal-error");return l.accessToken!=a.Aa&&(qm(a,l.accessToken),a.dispatchEvent(new Xs("tokenChanged"))),Ui(a,"refreshToken",l.refreshToken),l.accessToken}))};function Wr(i,a){a[Ar]&&i.Aa!=a[Ar]&&(mE(i.h,a),i.dispatchEvent(new Xs("tokenChanged")),qm(i,a[Ar]),Ui(i,"refreshToken",i.h.a))}function rD(i,a){return Ke(i.a,Ux,{idToken:a}).then(F(i.Kc,i))}e.Kc=function(i){if(i=i.users,!i||!i.length)throw new L("internal-error");i=i[0],vE(this,{uid:i.localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var a=iD(i),l=0;l<a.length;l++)Wm(this,a[l]);Ui(this,"isAnonymous",!(this.email&&i.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Xs("userReloaded",{hd:i}))};function iD(i){return(i=i.providerUserInfo)&&i.length?ke(i,function(a){return new eD(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}e.Lc=function(i){return mp("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(i)},e.ub=function(i){var a=this,l=null;return Qt(this,i.c(this.a,this.uid).then(function(m){return Wr(a,m),l=Uu(a,m,"reauthenticate"),a.i=null,a.reload()}).then(function(){return l}),!0)};function hf(i,a){return Km(i).then(function(){if(I(Hm(i),a))return $o(i).then(function(){throw new L("provider-already-linked")})})}e.Cc=function(i){return mp("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(i)},e.rb=function(i){var a=this,l=null;return Qt(this,hf(this,i.providerId).then(function(){return a.I()}).then(function(m){return i.b(a.a,m)}).then(function(m){return l=Uu(a,m,"link"),bE(a,m)}).then(function(){return l}))},e.Dc=function(i,a){var l=this;return Qt(this,hf(this,"phone").then(function(){return Nm(jm(l),i,a,F(l.rb,l))}))},e.Mc=function(i,a){var l=this;return Qt(this,Ce().then(function(){return Nm(jm(l),i,a,F(l.ub,l))}),!0)};function Uu(i,a,l){var m=Dp(a);return a=M0(a),$r({user:i,credential:m,additionalUserInfo:a,operationType:l})}function bE(i,a){return Wr(i,a),i.reload().then(function(){return i})}e.Cb=function(i){var a=this;return Qt(this,this.I().then(function(l){return a.a.Cb(l,i)}).then(function(l){return Wr(a,l),a.reload()}))},e.ed=function(i){var a=this;return Qt(this,this.I().then(function(l){return i.b(a.a,l)}).then(function(l){return Wr(a,l),a.reload()}))},e.Db=function(i){var a=this;return Qt(this,this.I().then(function(l){return a.a.Db(l,i)}).then(function(l){return Wr(a,l),a.reload()}))},e.Eb=function(i){if(i.displayName===void 0&&i.photoURL===void 0)return $m(this);var a=this;return Qt(this,this.I().then(function(l){return a.a.Eb(l,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(l){return Wr(a,l),Ui(a,"displayName",l.displayName||null),Ui(a,"photoURL",l.photoUrl||null),z(a.providerData,function(m){m.providerId==="password"&&(_e(m,"displayName",a.displayName),_e(m,"photoURL",a.photoURL))}),$o(a)}).then(yE))},e.cd=function(i){var a=this;return Qt(this,Km(this).then(function(l){return I(Hm(a),i)?kx(a.a,l,[i]).then(function(m){var y={};return z(m.providerUserInfo||[],function(w){y[w.providerId]=!0}),z(Hm(a),function(w){y[w]||_E(a,w)}),y[hi.PROVIDER_ID]||_e(a,"phoneNumber",null),$o(a)}):$o(a).then(function(){throw new L("no-such-provider")})}))},e.delete=function(){var i=this;return Qt(this,this.I().then(function(a){return Ke(i.a,xx,{idToken:a})}).then(function(){i.dispatchEvent(new Xs("userDeleted"))})).then(function(){for(var a=0;a<i.N.length;a++)i.N[a].cancel("app-deleted");Fm(i,null),Um(i,null),Vm(i,null),i.N=[],i.J=!0,Bm(i),_e(i,"refreshToken",null),i.b&&Im(i.b,i)})},e.Gb=function(i,a){return!!(i=="linkViaPopup"&&(this.g||null)==a&&this.f||i=="reauthViaPopup"&&(this.g||null)==a&&this.f||i=="linkViaRedirect"&&(this.ga||null)==a||i=="reauthViaRedirect"&&(this.ga||null)==a)},e.na=function(i,a,l,m){i!="linkViaPopup"&&i!="reauthViaPopup"||m!=(this.g||null)||(l&&this.C?this.C(l):a&&!l&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="linkViaPopup"&&a==(this.g||null)?F(this.Lb,this):i=="reauthViaPopup"&&a==(this.g||null)?F(this.Mb,this):i=="linkViaRedirect"&&(this.ga||null)==a?F(this.Lb,this):i=="reauthViaRedirect"&&(this.ga||null)==a?F(this.Mb,this):null},e.Ec=function(i){var a=this;return wE(this,"linkViaPopup",i,function(){return hf(a,i.providerId).then(function(){return $o(a)})},!1)},e.Nc=function(i){return wE(this,"reauthViaPopup",i,function(){return Ce()},!0)};function wE(i,a,l,m,y){if(!xo())return St(new L("operation-not-supported-in-this-environment"));if(i.i&&!y)return St(i.i);var w=Np(l.providerId),S=Po(i.uid+":::"),x=null;(!pu()||fp())&&i.s&&l.isOAuthProvider&&(x=Ru(i.s,i.l,i.m,a,l,null,S,De.SDK_VERSION||null,null,null,i.tenantId,i.u));var G=l0(x,w&&w.va,w&&w.ua);return m=m().then(function(){if(IE(i),!y)return i.I().then(function(){})}).then(function(){return tE(i.b,G,a,l,S,!!x,i.tenantId)}).then(function(){return new We(function(ee,Fe){i.na(a,null,new L("cancelled-popup-request"),i.g||null),i.f=ee,i.C=Fe,i.g=S,i.c=rE(i.b,i,a,G,S)})}).then(function(ee){return G&&Ro(G),ee?$r(ee):null}).o(function(ee){throw G&&Ro(G),ee}),Qt(i,m,y)}e.Fc=function(i){var a=this;return EE(this,"linkViaRedirect",i,function(){return hf(a,i.providerId)},!1)},e.Oc=function(i){return EE(this,"reauthViaRedirect",i,function(){return Ce()},!0)};function EE(i,a,l,m,y){if(!xo())return St(new L("operation-not-supported-in-this-environment"));if(i.i&&!y)return St(i.i);var w=null,S=Po(i.uid+":::");return m=m().then(function(){if(IE(i),!y)return i.I().then(function(){})}).then(function(){return i.ga=S,$o(i)}).then(function(x){return i.ha&&(x=i.ha,x=x.b.set(Gm,i.w(),x.a)),x}).then(function(){return nE(i.b,a,l,S,i.tenantId)}).o(function(x){if(w=x,i.ha)return SE(i.ha);throw w}).then(function(){if(w)throw w}),Qt(i,m,y)}function IE(i){if(!i.b||!i.P)throw i.b&&!i.P?new L("internal-error"):new L("auth-domain-config-required")}e.Lb=function(i,a,l,m){var y=this;this.c&&(this.c.cancel(),this.c=null);var w=null;return l=this.I().then(function(S){return tm(y.a,{requestUri:i,postBody:m,sessionId:a,idToken:S})}).then(function(S){return w=Uu(y,S,"link"),bE(y,S)}).then(function(){return w}),Qt(this,l)},e.Mb=function(i,a,l,m){var y=this;this.c&&(this.c.cancel(),this.c=null);var w=null,S=Ce().then(function(){return $s(nm(y.a,{requestUri:i,sessionId:a,postBody:m,tenantId:l}),y.uid)}).then(function(x){return w=Uu(y,x,"reauthenticate"),Wr(y,x),y.i=null,y.reload()}).then(function(){return w});return Qt(this,S,!0)},e.vb=function(i){var a=this,l=null;return Qt(this,this.I().then(function(m){return l=m,typeof i>"u"||Vr(i)?{}:xl(new Rl(i))}).then(function(m){return a.a.vb(l,m)}).then(function(m){if(a.email!=m)return a.reload()}).then(function(){}))},e.Fb=function(i,a){var l=this,m=null;return Qt(this,this.I().then(function(y){return m=y,typeof a>"u"||Vr(a)?{}:xl(new Rl(a))}).then(function(y){return l.a.Fb(m,i,y)}).then(function(y){if(l.email!=y)return l.reload()}).then(function(){}))};function Qt(i,a,l){var m=oD(i,a,l);return i.N.push(m),m.oa(function(){O(i.N,m)}),m.o(function(y){var w=null;throw y&&y.code==="auth/multi-factor-auth-required"&&(w=fE(y.w(),jm(i),F(i.jc,i))),w||y})}e.jc=function(i){var a=null,l=this;return i=$s(Ce(i),l.uid).then(function(m){return a=Uu(l,m,"reauthenticate"),Wr(l,m),l.i=null,l.reload()}).then(function(){return a}),Qt(this,i,!0)};function oD(i,a,l){return i.i&&!l?(a.cancel(),St(i.i)):a.o(function(m){throw!m||m.code!="auth/user-disabled"&&m.code!="auth/user-token-expired"||(i.i||i.dispatchEvent(new Xs("userInvalidated")),i.i=m),m})}e.toJSON=function(){return this.w()},e.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&un(i,this.metadata.w()),z(this.providerData,function(a){i.providerData.push(OR(a))}),un(i,this.S.w()),i};function TE(i){if(!i.apiKey)return null;var a={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},l={};if(i.stsTokenManager&&i.stsTokenManager.accessToken){l[Ar]=i.stsTokenManager.accessToken,l.refreshToken=i.stsTokenManager.refreshToken||null;var m=i.stsTokenManager.expirationTime;m&&(l.expiresIn=(m-Date.now())/1e3)}else return null;var y=new nr(a,l,i);return i.providerData&&z(i.providerData,function(w){w&&Wm(y,$r(w))}),i.redirectEventId&&(y.ga=i.redirectEventId),y}function sD(i,a,l,m){var y=new nr(i,a);return l&&(y.ha=l),m&&Mu(y,m),y.reload().then(function(){return y})}function aD(i,a,l,m){var y=i.h,w={};return w[Ar]=y.b&&y.b.toString(),w.refreshToken=y.a,a=new nr(a||{apiKey:i.l,authDomain:i.s,appName:i.m},w),l&&(a.ha=l),m&&Mu(a,m),ff(a,i),a}function uD(i){this.a=i,this.b=Lu()}var Gm={name:"redirectUser",F:"session"};function SE(i){return zs(i.b,Gm,i.a)}function cD(i,a){return i.b.get(Gm,i.a).then(function(l){return l&&a&&(l.authDomain=a),TE(l||{})})}function zm(i){this.a=i,this.b=Lu(),this.c=null,this.f=lD(this),this.b.addListener(Kr("local"),this.a,F(this.g,this))}zm.prototype.g=function(){var i=this,a=Kr("local");Ys(this,function(){return Ce().then(function(){return i.c&&i.c.F!="local"?i.b.get(a,i.a):null}).then(function(l){if(l)return Xm(i,"local").then(function(){i.c=a})})})};function Xm(i,a){var l=[],m;for(m in Ks)Ks[m]!==a&&l.push(zs(i.b,Kr(Ks[m]),i.a));return l.push(zs(i.b,Ym,i.a)),ZO(l)}function lD(i){var a=Kr("local"),l=Kr("session"),m=Kr("none");return SP(i.b,a,i.a).then(function(){return i.b.get(l,i.a)}).then(function(y){return y?l:i.b.get(m,i.a).then(function(w){return w?m:i.b.get(a,i.a).then(function(S){return S?a:i.b.get(Ym,i.a).then(function(x){return x?Kr(x):a})})})}).then(function(y){return i.c=y,Xm(i,y.F)}).o(function(){i.c||(i.c=a)})}var Ym={name:"persistence",F:"session"};function Kr(i){return{name:"authUser",F:i}}zm.prototype.yb=function(i){var a=null,l=this;return TP(i),Ys(this,function(){return i!=l.c.F?l.b.get(l.c,l.a).then(function(m){return a=m,Xm(l,i)}).then(function(){if(l.c=Kr(i),a)return l.b.set(l.c,a,l.a)}):Ce()})};function fD(i){return Ys(i,function(){return i.b.set(Ym,i.c.F,i.a)})}function AE(i,a){return Ys(i,function(){return i.b.set(i.c,a.w(),i.a)})}function kE(i){return Ys(i,function(){return zs(i.b,i.c,i.a)})}function NE(i,a,l){return Ys(i,function(){return i.b.get(i.c,i.a).then(function(m){return m&&a&&(m.authDomain=a),m&&l&&(m.emulatorConfig=l),TE(m||{})})})}function Ys(i,a){return i.f=i.f.then(a,a),i.f}function kr(i){if(this.l=!1,_e(this,"settings",new uE),_e(this,"app",i),dt(this).options&&dt(this).options.apiKey)i=De.SDK_VERSION?Vs(De.SDK_VERSION):null,this.a=new Sr(dt(this).options&&dt(this).options.apiKey,Ue(he),i);else throw new L("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=De.INTERNAL.createSubscribe(F(this.zc,this)),this.W=void 0,this.ib=De.INTERNAL.createSubscribe(F(this.Ac,this)),Qs(this,null),this.i=new zm(dt(this).options.apiKey+":"+dt(this).name),this.D=new uD(dt(this).options.apiKey+":"+dt(this).name),this.$=Lt(this,vD(this)),this.h=Lt(this,yD(this)),this.ba=!1,this.ja=F(this.Zc,this),this.Ba=F(this.da,this),this.qa=F(this.mc,this),this.za=F(this.wc,this),this.Aa=F(this.xc,this),this.b=null,pD(this),this.INTERNAL={},this.INTERNAL.delete=F(this.delete,this),this.INTERNAL.logFramework=F(this.Gc,this),this.u=0,Sn.call(this),dD(this),this.J=[],this.R=null}V(kr,Sn);function CE(i){jn.call(this,"languageCodeChanged"),this.h=i}V(CE,jn);function OE(i){jn.call(this,"emulatorConfigChanged"),this.c=i}V(OE,jn);function RE(i){jn.call(this,"frameworkChanged"),this.f=i}V(RE,jn),e=kr.prototype,e.yb=function(i){return i=this.i.yb(i),Lt(this,i)},e.xa=function(i){this.aa===i||this.l||(this.aa=i,fw(this.a,this.aa),this.dispatchEvent(new CE(this.la())))},e.la=function(){return this.aa},e.fd=function(){var i=f.navigator;this.xa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},e.gd=function(i,a){if(!this.R){if(!/^https?:\/\//.test(i))throw new L("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");a=a?!!a.disableWarnings:!1,hD(a),this.R={url:i,ec:a},this.settings.jb=!0,Ql(this.a,this.R),this.dispatchEvent(new OE(this.R))}};function hD(i){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!i&&Nl().then(function(){var a=f.document.createElement("div");a.innerText="Running in emulator mode. Do not use with production credentials.",a.style.position="fixed",a.style.width="100%",a.style.backgroundColor="#ffffff",a.style.border=".1em solid #000000",a.style.color="#b50000",a.style.bottom="0px",a.style.left="0px",a.style.margin="0px",a.style.zIndex=1e4,a.style.textAlign="center",a.classList.add("firebase-emulator-warning"),f.document.body.appendChild(a)})}e.Gc=function(i){this.J.push(i),hw(this.a,De.SDK_VERSION?Vs(De.SDK_VERSION,this.J):null),this.dispatchEvent(new RE(this.J))},e.Ga=function(){return J(this.J)},e.zb=function(i){this.S===i||this.l||(this.S=i,this.a.b=this.S)},e.T=function(){return this.S};function dD(i){Object.defineProperty(i,"lc",{get:function(){return this.la()},set:function(a){this.xa(a)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.T()},set:function(a){this.zb(a)},enumerable:!1}),i.S=null,Object.defineProperty(i,"emulatorConfig",{get:function(){if(this.R){var a=Bn(this.R.url);a=$r({protocol:a.c,host:a.a,port:a.g,options:$r({disableWarnings:this.R.ec})})}else a=null;return a},enumerable:!1})}e.toJSON=function(){return{apiKey:dt(this).options.apiKey,authDomain:dt(this).options.authDomain,appName:dt(this).name,currentUser:$e(this)&&$e(this).w()}};function Qm(i){return i.Oa||St(new L("auth-domain-config-required"))}function pD(i){var a=dt(i).options.authDomain,l=dt(i).options.apiKey;a&&xo()&&(i.Oa=i.$.then(function(){if(!i.l){if(i.b=Am(a,l,dt(i).name,i.R),sf(i.b,i),$e(i)&&Fu($e(i)),i.m){Fu(i.m);var m=i.m;m.xa(i.la()),Fm(m,i),m=i.m,Mu(m,i.J),Vm(m,i),m=i.m,Mm(m,i.R),Um(m,i),i.m=null}return i.b}}))}e.Gb=function(i,a){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==a&&!!this.f;default:return!1}},e.na=function(i,a,l,m){i=="signInViaPopup"&&this.g==m&&(l&&this.C?this.C(l):a&&!l&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="signInViaRedirect"||i=="signInViaPopup"&&this.g==a&&this.f?F(this.ic,this):null},e.ic=function(i,a,l,m){var y=this,w={requestUri:i,postBody:m,sessionId:a,tenantId:l};return this.c&&(this.c.cancel(),this.c=null),y.$.then(function(){return Ho(y,em(y.a,w))})},e.Xc=function(i){if(!xo())return St(new L("operation-not-supported-in-this-environment"));var a=this,l=Np(i.providerId),m=Po(),y=null;(!pu()||fp())&&dt(this).options.authDomain&&i.isOAuthProvider&&(y=Ru(dt(this).options.authDomain,dt(this).options.apiKey,dt(this).name,"signInViaPopup",i,null,m,De.SDK_VERSION||null,null,null,this.T(),this.R));var w=l0(y,l&&l.va,l&&l.ua);return l=Qm(this).then(function(S){return tE(S,w,"signInViaPopup",i,m,!!y,a.T())}).then(function(){return new We(function(S,x){a.na("signInViaPopup",null,new L("cancelled-popup-request"),a.g),a.f=S,a.C=x,a.g=m,a.c=rE(a.b,a,"signInViaPopup",w,m)})}).then(function(S){return w&&Ro(w),S?$r(S):null}).o(function(S){throw w&&Ro(w),S}),Lt(this,l)},e.Yc=function(i){if(!xo())return St(new L("operation-not-supported-in-this-environment"));var a=this,l=Qm(this).then(function(){return fD(a.i)}).then(function(){return nE(a.b,"signInViaRedirect",i,void 0,a.T())});return Lt(this,l)};function xE(i){if(!xo())return St(new L("operation-not-supported-in-this-environment"));var a=Qm(i).then(function(){return i.b.ra()}).then(function(l){return l?$r(l):null});return Lt(i,a)}e.ra=function(){var i=this;return xE(this).then(function(a){return i.b&&uf(i.b.b),a}).o(function(a){throw i.b&&uf(i.b.b),a})},e.dd=function(i){if(!i)return St(new L("null-user"));if(this.S!=i.tenantId)return St(new L("tenant-id-mismatch"));var a=this,l={};l.apiKey=dt(this).options.apiKey,l.authDomain=dt(this).options.authDomain,l.appName=dt(this).name;var m=aD(i,l,a.D,a.Ga());return Lt(this,this.h.then(function(){if(dt(a).options.apiKey!=i.l)return m.reload()}).then(function(){return $e(a)&&i.uid==$e(a).uid?(ff($e(a),i),a.da(i)):(Qs(a,m),Fu(m),a.da(m))}).then(function(){Vu(a)}))};function mD(i,a){var l={};return l.apiKey=dt(i).options.apiKey,l.authDomain=dt(i).options.authDomain,l.appName=dt(i).name,i.R&&(l.emulatorConfig=i.R),i.$.then(function(){return sD(l,a,i.D,i.Ga())}).then(function(m){return $e(i)&&m.uid==$e(i).uid?(ff($e(i),m),i.da(m)):(Qs(i,m),Fu(m),i.da(m))}).then(function(){Vu(i)})}function Qs(i,a){$e(i)&&(nD($e(i),i.Ba),er($e(i),"tokenChanged",i.qa),er($e(i),"userDeleted",i.za),er($e(i),"userInvalidated",i.Aa),Bm($e(i))),a&&(a.W.push(i.Ba),pr(a,"tokenChanged",i.qa),pr(a,"userDeleted",i.za),pr(a,"userInvalidated",i.Aa),0<i.u&&gE(a)),_e(i,"currentUser",a),a&&(a.xa(i.la()),Fm(a,i),Mu(a,i.J),Vm(a,i),Mm(a,i.R),Um(a,i))}e.Bb=function(){var i=this,a=this.h.then(function(){return i.b&&uf(i.b.b),$e(i)?(Qs(i,null),kE(i.i).then(function(){Vu(i)})):Ce()});return Lt(this,a)};function gD(i){var a=cD(i.D,dt(i).options.authDomain).then(function(l){return(i.m=l)&&(l.ha=i.D),SE(i.D)});return Lt(i,a)}function vD(i){var a=dt(i).options.authDomain,l=gD(i).then(function(){return NE(i.i,a,i.R)}).then(function(m){return m?(m.ha=i.D,i.m&&(i.m.ga||null)==(m.ga||null)?m:m.reload().then(function(){return AE(i.i,m).then(function(){return m})}).o(function(y){return y.code=="auth/network-request-failed"?m:kE(i.i)})):null}).then(function(m){Qs(i,m||null)});return Lt(i,l)}function yD(i){return i.$.then(function(){return xE(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){if(!i.l){i.ba=!0;var a=i.i;a.b.addListener(Kr("local"),a.a,i.ja)}})}e.Zc=function(){var i=this;return NE(this.i,dt(this).options.authDomain).then(function(a){if(!i.l){var l;if(l=$e(i)&&a){l=$e(i).uid;var m=a.uid;l=l==null||l===""||m===void 0||m===null||m===""?!1:l==m}if(l)return ff($e(i),a),$e(i).I();($e(i)||a)&&(Qs(i,a),a&&(Fu(a),a.ha=i.D),i.b&&sf(i.b,i),Vu(i))}})},e.da=function(i){return AE(this.i,i)},e.mc=function(){Vu(this),this.da($e(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Ho(i,a){var l=null,m=null;return Lt(i,a.then(function(y){return l=Dp(y),m=M0(y),mD(i,y)},function(y){var w=null;throw y&&y.code==="auth/multi-factor-auth-required"&&(w=fE(y.w(),i,F(i.kc,i))),w||y}).then(function(){return $r({user:$e(i),credential:l,additionalUserInfo:m,operationType:"signIn"})}))}e.kc=function(i){var a=this;return this.h.then(function(){return Ho(a,Ce(i))})},e.zc=function(i){var a=this;this.addAuthTokenListener(function(){i.next($e(a))})},e.Ac=function(i){var a=this;_D(this,function(){i.next($e(a))})},e.Ic=function(i,a,l){var m=this;return this.ba&&Promise.resolve().then(function(){typeof i=="function"?i($e(m)):typeof i.next=="function"&&i.next($e(m))}),this.Pa(i,a,l)},e.Hc=function(i,a,l){var m=this;return this.ba&&Promise.resolve().then(function(){m.W=m.getUid(),typeof i=="function"?i($e(m)):typeof i.next=="function"&&i.next($e(m))}),this.ib(i,a,l)},e.nc=function(i){var a=this,l=this.h.then(function(){return $e(a)?$e(a).I(i).then(function(m){return{accessToken:m}}):null});return Lt(this,l)},e.Tc=function(i){var a=this;return this.h.then(function(){return Ho(a,Ke(a.a,Zx,{token:i}))}).then(function(l){var m=l.user;return Ui(m,"isAnonymous",!1),a.da(m),l})},e.Uc=function(i,a){var l=this;return this.h.then(function(){return Ho(l,Ke(l.a,ww,{email:i,password:a}))})},e.dc=function(i,a){var l=this;return this.h.then(function(){return Ho(l,Ke(l.a,Ox,{email:i,password:a}))})},e.ab=function(i){var a=this;return this.h.then(function(){return Ho(a,i.ka(a.a))})},e.Sc=function(i){return mp("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(i)},e.Ab=function(){var i=this;return this.h.then(function(){var a=$e(i);if(a&&a.isAnonymous){var l=$r({providerId:null,isNewUser:!1});return $r({user:a,credential:null,additionalUserInfo:l,operationType:"signIn"})}return Ho(i,i.a.Ab()).then(function(m){var y=m.user;return Ui(y,"isAnonymous",!0),i.da(y),m})})};function dt(i){return i.app}function $e(i){return i.currentUser}e.getUid=function(){return $e(this)&&$e(this).uid||null};function df(i){return $e(i)&&$e(i)._lat||null}function Vu(i){if(i.ba){for(var a=0;a<i.s.length;a++)i.s[a]&&i.s[a](df(i));if(i.W!==i.getUid()&&i.N.length)for(i.W=i.getUid(),a=0;a<i.N.length;a++)i.N[a]&&i.N[a](df(i))}}e.cc=function(i){this.addAuthTokenListener(i),this.u++,0<this.u&&$e(this)&&gE($e(this))},e.Pc=function(i){var a=this;z(this.s,function(l){l==i&&a.u--}),0>this.u&&(this.u=0),this.u==0&&$e(this)&&Bm($e(this)),this.removeAuthTokenListener(i)},e.addAuthTokenListener=function(i){var a=this;this.s.push(i),Lt(this,this.h.then(function(){a.l||I(a.s,i)&&i(df(a))}))},e.removeAuthTokenListener=function(i){U(this.s,function(a){return a==i})};function _D(i,a){i.N.push(a),Lt(i,i.h.then(function(){!i.l&&I(i.N,a)&&i.W!==i.getUid()&&(i.W=i.getUid(),a(df(i)))}))}e.delete=function(){this.l=!0;for(var i=0;i<this.P.length;i++)this.P[i].cancel("app-deleted");return this.P=[],this.i&&(i=this.i,i.b.removeListener(Kr("local"),i.a,this.ja)),this.b&&(Im(this.b,this),uf(this.b.b)),Promise.resolve()};function Lt(i,a){return i.P.push(a),a.oa(function(){O(i.P,a)}),a}e.hc=function(i){return Lt(this,wx(this.a,i))},e.Bc=function(i){return!!Pp(i)},e.xb=function(i,a){var l=this;return Lt(this,Ce().then(function(){var m=new Rl(a);if(!m.c)throw new L("argument-error",Ap+" must be true when sending sign in link to email");return xl(m)}).then(function(m){return l.a.xb(i,m)}).then(function(){}))},e.jd=function(i){return this.Sa(i).then(function(a){return a.data.email})},e.ob=function(i,a){return Lt(this,this.a.ob(i,a).then(function(){}))},e.Sa=function(i){return Lt(this,this.a.Sa(i).then(function(a){return new xR(a)}))},e.kb=function(i){return Lt(this,this.a.kb(i).then(function(){}))},e.wb=function(i,a){var l=this;return Lt(this,Ce().then(function(){return typeof a>"u"||Vr(a)?{}:xl(new Rl(a))}).then(function(m){return l.a.wb(i,m)}).then(function(){}))},e.Wc=function(i,a){return Lt(this,Nm(this,i,a,F(this.ab,this)))},e.Vc=function(i,a){var l=this;return Lt(this,Ce().then(function(){var m=a||du(),y=z0(i,m);if(m=Pp(m),!m)throw new L("argument-error","Invalid email link!");if(m.tenantId!==l.T())throw new L("tenant-id-mismatch");return l.ab(y)}))};function ju(){}ju.prototype.render=function(){},ju.prototype.reset=function(){},ju.prototype.getResponse=function(){},ju.prototype.execute=function(){};function Js(){this.a={},this.b=1e12}var Jm=null;Js.prototype.render=function(i,a){return this.a[this.b.toString()]=new pf(i,a),this.b++},Js.prototype.reset=function(i){var a=Zm(this,i);i=PE(i),a&&i&&(a.delete(),delete this.a[i])},Js.prototype.getResponse=function(i){return(i=Zm(this,i))?i.getResponse():null},Js.prototype.execute=function(i){(i=Zm(this,i))&&i.execute()};function Zm(i,a){return(a=PE(a))&&i.a[a]||null}function PE(i){return(i=typeof i>"u"?1e12:i)?i.toString():null}function pf(i,a){this.g=!1,this.c=a,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=su(i);var l=this;this.i=function(){l.execute()},this.h?this.execute():pr(this.f,"click",this.i)}pf.prototype.getResponse=function(){return eg(this),this.b},pf.prototype.execute=function(){eg(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=AR();var a=i.c.callback,l=i.c["expired-callback"];if(a)try{a(i.b)}catch{}i.a=setTimeout(function(){if(i.a=null,i.b=null,l)try{l()}catch{}i.h&&i.execute()},6e4)},500))},pf.prototype.delete=function(){eg(this),this.g=!0,clearTimeout(this.a),this.a=null,er(this.f,"click",this.i)};function eg(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function tg(){}_e(tg,"FACTOR_ID","phone");function ng(){}ng.prototype.g=function(){return Jm||(Jm=new Js),Ce(Jm)},ng.prototype.c=function(){};var rg=null;function ig(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var bD=new jr(ml,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),wD=new Li(3e4,6e4);ig.prototype.g=function(i){var a=this;return new We(function(l,m){var y=setTimeout(function(){m(new L("network-request-failed"))},wD.get());if(!f.grecaptcha||i!==a.f&&!a.b){f[a.a]=function(){if(f.grecaptcha){a.f=i;var S=f.grecaptcha.render;f.grecaptcha.render=function(x,G){return x=S(x,G),a.b++,x},clearTimeout(y),l(f.grecaptcha)}else clearTimeout(y),m(new L("internal-error"));delete f[a.a]};var w=Vd(bD,{onload:a.a,hl:i||""});Ce(Gp(w)).o(function(){clearTimeout(y),m(new L("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(y),l(f.grecaptcha)})},ig.prototype.c=function(){this.b--};var og=null;function sg(i,a,l,m,y,w,S){if(_e(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=a,this.g=null,S?(rg||(rg=new ng),S=rg):(og||(og=new ig),S=og),this.m=S,this.a=l||{theme:"light",type:"image"},this.h=[],this.a[ME])throw new L("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[ED]==="invisible",!f.document)throw new L("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!su(a)||!this.i&&su(a).hasChildNodes())throw new L("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Sr(i,w||null,y||null),this.u=m||function(){return null};var x=this;this.l=[];var G=this.a[DE];this.a[DE]=function(Fe){if(FE(x,Fe),typeof G=="function")G(Fe);else if(typeof G=="string"){var at=At(G,f);typeof at=="function"&&at(Fe)}};var ee=this.a[LE];this.a[LE]=function(){if(FE(x,null),typeof ee=="function")ee();else if(typeof ee=="string"){var Fe=At(ee,f);typeof Fe=="function"&&Fe()}}}var DE="callback",LE="expired-callback",ME="sitekey",ED="size";function FE(i,a){for(var l=0;l<i.l.length;l++)try{i.l[l](a)}catch{}}function ID(i,a){U(i.l,function(l){return l==a})}function ag(i,a){return i.h.push(a),a.oa(function(){O(i.h,a)}),a}e=sg.prototype,e.Ia=function(){var i=this;return this.f?this.f:this.f=ag(this,Ce().then(function(){if(Cl()&&!Ir())return Nl();throw new L("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.m.g(i.u())}).then(function(a){return i.g=a,Ke(i.s,Hx,{})}).then(function(a){i.a[ME]=a.recaptchaSiteKey}).o(function(a){throw i.f=null,a}))},e.render=function(){mf(this);var i=this;return ag(this,this.Ia().then(function(){if(i.c===null){var a=i.v;if(!i.i){var l=su(a);a=XO("DIV"),l.appendChild(a)}i.c=i.g.render(a,i.a)}return i.c}))},e.verify=function(){mf(this);var i=this;return ag(this,this.render().then(function(a){return new We(function(l){var m=i.g.getResponse(a);if(m)l(m);else{var y=function(w){w&&(ID(i,y),l(w))};i.l.push(y),i.i&&i.g.execute(i.c)}})}))},e.reset=function(){mf(this),this.c!==null&&this.g.reset(this.c)};function mf(i){if(i.J)throw new L("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){mf(this),this.J=!0,this.m.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=su(this.v);for(var a;a=i.firstChild;)i.removeChild(a)}};function ug(i,a,l){var m=!1;try{this.b=l||De.app()}catch{throw new L("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)l=this.b.options.apiKey;else throw new L("invalid-api-key");var y=this,w=null;try{w=this.b.auth().Ga()}catch{}try{m=this.b.auth().settings.appVerificationDisabledForTesting}catch{}w=De.SDK_VERSION?Vs(De.SDK_VERSION,w):null,sg.call(this,l,i,a,function(){try{var S=y.b.auth().la()}catch{S=null}return S},w,Ue(he),m)}V(ug,sg);function UE(i,a,l,m){e:{l=Array.prototype.slice.call(l);for(var y=0,w=!1,S=0;S<a.length;S++)if(a[S].optional)w=!0;else{if(w)throw new L("internal-error","Argument validator encountered a required argument after an optional argument.");y++}if(w=a.length,l.length<y||w<l.length)m="Expected "+(y==w?y==1?"1 argument":y+" arguments":y+"-"+w+" arguments")+" but got "+l.length+".";else{for(y=0;y<l.length;y++)if(w=a[y].optional&&l[y]===void 0,!a[y].M(l[y])&&!w){if(a=a[y],0>y||y>=VE.length)throw new L("internal-error","Argument validator received an unsupported number of arguments.");l=VE[y],m=(m?"":l+" argument ")+(a.name?'"'+a.name+'" ':"")+"must be "+a.K+".";break e}m=null}}if(m)throw new L("argument-error",i+" failed: "+m)}var VE="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ye(i,a){return{name:i||"",K:"a valid string",optional:!!a,M:function(l){return typeof l=="string"}}}function cg(i,a){return{name:i||"",K:"a boolean",optional:!!a,M:function(l){return typeof l=="boolean"}}}function qt(i,a){return{name:i||"",K:"a valid object",optional:!!a,M:A}}function Zs(i,a){return{name:i||"",K:"a function",optional:!!a,M:function(l){return typeof l=="function"}}}function Gr(i,a){return{name:i||"",K:"null",optional:!!a,M:function(l){return l===null}}}function TD(){return{name:"",K:"an HTML element",optional:!1,M:function(i){return!!(i&&i instanceof Element)}}}function SD(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(i){return!!(i&&i instanceof kr)}}}function AD(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(i){return!!(i&&i instanceof De.app.App)}}}function Vi(i){return{name:i?i+"Credential":"credential",K:i?"a valid "+i+" credential":"a valid credential",optional:!1,M:function(a){if(!a)return!1;var l=!i||a.providerId===i;return!(!a.ka||!l)}}}function jE(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(i){return i?!!i.tb:!1}}}function ea(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}}function lg(i,a){return A(i)&&typeof i.type=="string"&&i.type===a&&typeof i.Ha=="function"}function BE(i){return A(i)&&typeof i.uid=="string"}function gf(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||typeof i.type!="string"||typeof i.verify!="function")}}}function Ut(i,a,l,m){return{name:l||"",K:i.K+" or "+a.K,optional:!!m,M:function(y){return i.M(y)||a.M(y)}}}function Rt(i,a){for(var l in a){var m=a[l].name;i[m]=$E(m,i[l],a[l].j)}}function qE(i,a){for(var l in a){var m=a[l].name;m!==l&&Object.defineProperty(i,m,{get:K(function(y){return this[y]},l),set:K(function(y,w,S,x){UE(y,[S],[x],!0),this[w]=x},m,l,a[l].lb),enumerable:!0})}}function Vt(i,a,l,m){i[a]=$E(a,l,m)}function $E(i,a,l){function m(){var S=Array.prototype.slice.call(arguments);return UE(y,l,S),a.apply(this,S)}if(!l)return a;var y=kD(i),w;for(w in a)m[w]=a[w];for(w in a.prototype)m.prototype[w]=a.prototype[w];return m}function kD(i){return i=i.split("."),i[i.length-1]}Rt(kr.prototype,{kb:{name:"applyActionCode",j:[ye("code")]},Sa:{name:"checkActionCode",j:[ye("code")]},ob:{name:"confirmPasswordReset",j:[ye("code"),ye("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ye("email"),ye("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ye("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ye("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Ut(qt(),Zs(),"nextOrObserver"),Zs("opt_error",!0),Zs("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Ut(qt(),Zs(),"nextOrObserver"),Zs("opt_error",!0),Zs("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[ye("email"),Ut(qt("opt_actionCodeSettings",!0),Gr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[ye("email"),qt("actionCodeSettings")]},yb:{name:"setPersistence",j:[ye("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Vi()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Vi()]},Tc:{name:"signInWithCustomToken",j:[ye("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ye("email"),ye("password")]},Vc:{name:"signInWithEmailLink",j:[ye("email"),ye("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ye("phoneNumber"),gf()]},Xc:{name:"signInWithPopup",j:[ea()]},Yc:{name:"signInWithRedirect",j:[ea()]},dd:{name:"updateCurrentUser",j:[Ut(function(i){return{name:"user",K:"an instance of Firebase User",optional:!!i,M:function(a){return!!(a&&a instanceof nr)}}}(),Gr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ye(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ye("url"),qt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ye("code")]}}),qE(kr.prototype,{lc:{name:"languageCode",lb:Ut(ye(),Gr(),"languageCode")},ti:{name:"tenantId",lb:Ut(ye(),Gr(),"tenantId")}}),kr.Persistence=Ks,kr.Persistence.LOCAL="local",kr.Persistence.SESSION="session",kr.Persistence.NONE="none",Rt(nr.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[cg("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[cg("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Vi()]},rb:{name:"linkWithCredential",j:[Vi()]},Dc:{name:"linkWithPhoneNumber",j:[ye("phoneNumber"),gf()]},Ec:{name:"linkWithPopup",j:[ea()]},Fc:{name:"linkWithRedirect",j:[ea()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Vi()]},ub:{name:"reauthenticateWithCredential",j:[Vi()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ye("phoneNumber"),gf()]},Nc:{name:"reauthenticateWithPopup",j:[ea()]},Oc:{name:"reauthenticateWithRedirect",j:[ea()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Ut(qt("opt_actionCodeSettings",!0),Gr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ye(null,!0)]},cd:{name:"unlink",j:[ye("provider")]},Cb:{name:"updateEmail",j:[ye("email")]},Db:{name:"updatePassword",j:[ye("password")]},ed:{name:"updatePhoneNumber",j:[Vi("phone")]},Eb:{name:"updateProfile",j:[qt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[ye("email"),Ut(qt("opt_actionCodeSettings",!0),Gr(null,!0),"opt_actionCodeSettings",!0)]}}),Rt(Js.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Rt(ju.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Rt(We.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),qE(uE.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:cg("appVerificationDisabledForTesting")}}),Rt(km.prototype,{confirm:{name:"confirm",j:[ye("verificationCode")]}}),Vt(qs,"fromJSON",function(i){i=typeof i=="string"?JSON.parse(i):i;for(var a,l=[YR,QR,JR,XR],m=0;m<l.length;m++)if(a=l[m](i))return a;return null},[Ut(ye(),qt(),"json")]),Vt(gr,"credential",function(i,a){return new Mi(i,a)},[ye("email"),ye("password")]),Rt(Mi.prototype,{w:{name:"toJSON",j:[ye(null,!0)]}}),Rt(Mo.prototype,{Ca:{name:"addScope",j:[ye("scope")]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Vt(Mo,"credential",H0,[Ut(ye(),qt(),"token")]),Vt(gr,"credentialWithLink",z0,[ye("email"),ye("emailLink")]),Rt(Fo.prototype,{Ca:{name:"addScope",j:[ye("scope")]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Vt(Fo,"credential",W0,[Ut(ye(),qt(),"token")]),Rt(Uo.prototype,{Ca:{name:"addScope",j:[ye("scope")]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Vt(Uo,"credential",K0,[Ut(ye(),Ut(qt(),Gr()),"idToken"),Ut(ye(),Gr(),"accessToken",!0)]),Rt(Hs.prototype,{Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Vt(Hs,"credential",G0,[Ut(ye(),qt(),"token"),ye("secret",!0)]),Rt(tr.prototype,{Ca:{name:"addScope",j:[ye("scope")]},credential:{name:"credential",j:[Ut(ye(),Ut(qt(),Gr()),"optionsOrIdToken"),Ut(ye(),Gr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Rt(fi.prototype,{w:{name:"toJSON",j:[ye(null,!0)]}}),Rt(Do.prototype,{w:{name:"toJSON",j:[ye(null,!0)]}}),Vt(hi,"credential",X0,[ye("verificationId"),ye("verificationCode")]),Rt(hi.prototype,{gb:{name:"verifyPhoneNumber",j:[Ut(ye(),function(i,a){return{name:i||"phoneInfoOptions",K:"valid phone info options",optional:!!a,M:function(l){return l?l.session&&l.phoneNumber?lg(l.session,bu)&&typeof l.phoneNumber=="string":l.session&&l.multiFactorHint?lg(l.session,Fl)&&BE(l.multiFactorHint):l.session&&l.multiFactorUid?lg(l.session,Fl)&&typeof l.multiFactorUid=="string":l.phoneNumber?typeof l.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),gf()]}}),Rt(Fi.prototype,{w:{name:"toJSON",j:[ye(null,!0)]}}),Rt(L.prototype,{toJSON:{name:"toJSON",j:[ye(null,!0)]}}),Rt(Eu.prototype,{toJSON:{name:"toJSON",j:[ye(null,!0)]}}),Rt(Fp.prototype,{toJSON:{name:"toJSON",j:[ye(null,!0)]}}),Rt(Om.prototype,{toJSON:{name:"toJSON",j:[ye(null,!0)]}}),Rt(Cm.prototype,{Rc:{name:"resolveSignIn",j:[jE()]}}),Rt(xm.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[jE(),ye("displayName",!0)]},bd:{name:"unenroll",j:[Ut({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:BE},ye(),"multiFactorInfoIdentifier")]}}),Rt(ug.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Vt(Sp,"parseLink",A0,[ye("link")]),Vt(tg,"assertion",function(i){return new dE(i)},[Vi("phone")]),function(){if(typeof De<"u"&&De.INTERNAL&&De.INTERNAL.registerComponent){var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ol,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Tp,VERIFY_AND_CHANGE_EMAIL:yu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:kr,AuthCredential:qs,Error:L};Vt(i,"EmailAuthProvider",gr,[]),Vt(i,"FacebookAuthProvider",Mo,[]),Vt(i,"GithubAuthProvider",Fo,[]),Vt(i,"GoogleAuthProvider",Uo,[]),Vt(i,"TwitterAuthProvider",Hs,[]),Vt(i,"OAuthProvider",tr,[ye("providerId")]),Vt(i,"SAMLAuthProvider",$0,[ye("providerId")]),Vt(i,"PhoneAuthProvider",hi,[SD()]),Vt(i,"RecaptchaVerifier",ug,[Ut(ye(),TD(),"recaptchaContainer"),qt("recaptchaParameters",!0),AD()]),Vt(i,"ActionCodeURL",Sp,[]),Vt(i,"PhoneMultiFactorGenerator",tg,[]),De.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return a=a.getProvider("app").getImmediate(),new kr(a)},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(a){a.getProvider("auth-internal").initialize()}}),De.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(a){return a=a.getProvider("auth").getImmediate(),{getUid:F(a.getUid,a),getToken:F(a.nc,a),addAuthTokenListener:F(a.cc,a),removeAuthTokenListener:F(a.Pc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),De.registerVersion("@firebase/auth","0.16.8"),De.INTERNAL.extendNamespace({User:nr})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uv=function(e,t){return uv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},uv(e,t)};function dU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");uv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function kA(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var pU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ge,Dy=Dy||{},Ve=pU||self;function rh(){}function cv(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Gc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function mU(e){return Object.prototype.hasOwnProperty.call(e,Eg)&&e[Eg]||(e[Eg]=++gU)}var Eg="closure_uid_"+(1e9*Math.random()>>>0),gU=0;function vU(e,t,n){return e.call.apply(e.bind,arguments)}function yU(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function dn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?dn=vU:dn=yU,dn.apply(null,arguments)}function Tf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function mn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,o,s){for(var u=Array(arguments.length-2),c=2;c<arguments.length;c++)u[c-2]=arguments[c];return t.prototype[o].apply(r,u)}}function vo(){this.s=this.s,this.o=this.o}var _U=0;vo.prototype.s=!1;vo.prototype.na=function(){!this.s&&(this.s=!0,this.M(),_U!=0)&&mU(this)};vo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var NA=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},CA=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in o&&t.call(n,o[s],s,e)};function bU(e){e:{for(var t=fV,n=e.length,r=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function DI(e){return Array.prototype.concat.apply([],arguments)}function Ly(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ih(e){return/^[\s\xa0]*$/.test(e)}var LI=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function xn(e,t){return e.indexOf(t)!=-1}function Ig(e,t){return e<t?-1:e>t?1:0}var Pn;e:{var MI=Ve.navigator;if(MI){var FI=MI.userAgent;if(FI){Pn=FI;break e}}Pn=""}function My(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function OA(e){var t={};for(var n in e)t[n]=e[n];return t}var UI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function RA(e,t){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(var s=0;s<UI.length;s++)n=UI[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Fy(e){return Fy[" "](e),e}Fy[" "]=rh;function wU(e){var t=TU;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var EU=xn(Pn,"Opera"),Aa=xn(Pn,"Trident")||xn(Pn,"MSIE"),xA=xn(Pn,"Edge"),lv=xA||Aa,PA=xn(Pn,"Gecko")&&!(xn(Pn.toLowerCase(),"webkit")&&!xn(Pn,"Edge"))&&!(xn(Pn,"Trident")||xn(Pn,"MSIE"))&&!xn(Pn,"Edge"),IU=xn(Pn.toLowerCase(),"webkit")&&!xn(Pn,"Edge");function DA(){var e=Ve.document;return e?e.documentMode:void 0}var oh;e:{var Tg="",Sg=function(){var e=Pn;if(PA)return/rv:([^\);]+)(\)|;)/.exec(e);if(xA)return/Edge\/([\d\.]+)/.exec(e);if(Aa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(IU)return/WebKit\/(\S+)/.exec(e);if(EU)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Sg&&(Tg=Sg?Sg[1]:""),Aa){var Ag=DA();if(Ag!=null&&Ag>parseFloat(Tg)){oh=String(Ag);break e}}oh=Tg}var TU={};function SU(){return wU(function(){for(var e=0,t=LI(String(oh)).split("."),n=LI("9").split("."),r=Math.max(t.length,n.length),o=0;e==0&&o<r;o++){var s=t[o]||"",u=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],s[0].length==0&&u[0].length==0)break;e=Ig(s[1].length==0?0:parseInt(s[1],10),u[1].length==0?0:parseInt(u[1],10))||Ig(s[2].length==0,u[2].length==0)||Ig(s[2],u[2]),s=s[3],u=u[3]}while(e==0)}return 0<=e})}var fv;if(Ve.document&&Aa){var VI=DA();fv=VI||parseInt(oh,10)||void 0}else fv=void 0;var AU=fv,kU=function(){if(!Ve.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ve.addEventListener("test",rh,t),Ve.removeEventListener("test",rh,t)}catch{}return e}();function En(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}En.prototype.h=function(){this.defaultPrevented=!0};function Ec(e,t){if(En.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(PA){e:{try{Fy(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:NU[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ec.Z.h.call(this)}}mn(Ec,En);var NU={2:"touch",3:"pen",4:"mouse"};Ec.prototype.h=function(){Ec.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var zc="closure_listenable_"+(1e6*Math.random()|0),CU=0;function OU(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=o,this.key=++CU,this.ca=this.fa=!1}function Yh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Qh(e){this.src=e,this.g={},this.h=0}Qh.prototype.add=function(e,t,n,r,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var u=dv(e,t,r,o);return-1<u?(t=e[u],n||(t.fa=!1)):(t=new OU(t,this.src,s,!!r,o),t.fa=n,e.push(t)),t};function hv(e,t){var n=t.type;if(n in e.g){var r=e.g[n],o=NA(r,t),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(Yh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function dv(e,t,n,r){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return o}return-1}var Uy="closure_lm_"+(1e6*Math.random()|0),kg={};function LA(e,t,n,r,o){if(r&&r.once)return FA(e,t,n,r,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)LA(e,t[s],n,r,o);return null}return n=By(n),e&&e[zc]?e.N(t,n,Gc(r)?!!r.capture:!!r,o):MA(e,t,n,!1,r,o)}function MA(e,t,n,r,o,s){if(!t)throw Error("Invalid event type");var u=Gc(o)?!!o.capture:!!o,c=jy(e);if(c||(e[Uy]=c=new Qh(e)),n=c.add(t,n,r,u,s),n.proxy)return n;if(r=RU(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)kU||(o=u),o===void 0&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(VA(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function RU(){function e(n){return t.call(e.src,e.listener,n)}var t=xU;return e}function FA(e,t,n,r,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)FA(e,t[s],n,r,o);return null}return n=By(n),e&&e[zc]?e.O(t,n,Gc(r)?!!r.capture:!!r,o):MA(e,t,n,!0,r,o)}function UA(e,t,n,r,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)UA(e,t[s],n,r,o);else r=Gc(r)?!!r.capture:!!r,n=By(n),e&&e[zc]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=dv(s,n,r,o),-1<n&&(Yh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=jy(e))&&(t=e.g[t.toString()],e=-1,t&&(e=dv(t,n,r,o)),(n=-1<e?t[e]:null)&&Vy(n))}function Vy(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[zc])hv(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(VA(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=jy(t))?(hv(n,e),n.h==0&&(n.src=null,t[Uy]=null)):Yh(e)}}}function VA(e){return e in kg?kg[e]:kg[e]="on"+e}function xU(e,t){if(e.ca)e=!0;else{t=new Ec(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Vy(e),e=n.call(r,t)}return e}function jy(e){return e=e[Uy],e instanceof Qh?e:null}var Ng="__closure_events_fn_"+(1e9*Math.random()>>>0);function By(e){return typeof e=="function"?e:(e[Ng]||(e[Ng]=function(t){return e.handleEvent(t)}),e[Ng])}function an(){vo.call(this),this.i=new Qh(this),this.P=this,this.I=null}mn(an,vo);an.prototype[zc]=!0;an.prototype.removeEventListener=function(e,t,n,r){UA(this,e,t,n,r)};function pn(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new En(t,e);else if(t instanceof En)t.target=t.target||e;else{var o=t;t=new En(r,e),RA(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var u=t.g=n[s];o=Sf(u,r,!0,t)&&o}if(u=t.g=e,o=Sf(u,r,!0,t)&&o,o=Sf(u,r,!1,t)&&o,n)for(s=0;s<n.length;s++)u=t.g=n[s],o=Sf(u,r,!1,t)&&o}an.prototype.M=function(){if(an.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Yh(n[r]);delete e.g[t],e.h--}}this.I=null};an.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};an.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Sf(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.ca&&u.capture==n){var c=u.listener,f=u.ia||u.src;u.fa&&hv(e.i,u),o=c.call(f,r)!==!1&&o}}return o&&!r.defaultPrevented}var qy=Ve.JSON.stringify;function PU(){var e=BA,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var DU=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=jA.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),jA=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new LU},function(e){return e.reset()}),LU=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function MU(e){Ve.setTimeout(function(){throw e},0)}function $y(e,t){pv||FU(),mv||(pv(),mv=!0),BA.add(e,t)}var pv;function FU(){var e=Ve.Promise.resolve(void 0);pv=function(){e.then(UU)}}var mv=!1,BA=new DU;function UU(){for(var e;e=PU();){try{e.h.call(e.g)}catch(n){MU(n)}var t=jA;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}mv=!1}function Jh(e,t){an.call(this),this.h=e||1,this.g=t||Ve,this.j=dn(this.kb,this),this.l=Date.now()}mn(Jh,an);ge=Jh.prototype;ge.da=!1;ge.S=null;ge.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),pn(this,"tick"),this.da&&(Hy(this),this.start()))}};ge.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Hy(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}ge.M=function(){Jh.Z.M.call(this),Hy(this),delete this.g};function Wy(e,t,n){if(typeof e=="function")n&&(e=dn(e,n));else if(e&&typeof e.handleEvent=="function")e=dn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Ve.setTimeout(e,t||0)}function qA(e){e.g=Wy(function(){e.g=null,e.i&&(e.i=!1,qA(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var VU=function(e){dU(t,e);function t(n,r){var o=e.call(this)||this;return o.m=n,o.j=r,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:qA(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(vo);function Ic(e){vo.call(this),this.h=e,this.g={}}mn(Ic,vo);var jI=[];function $A(e,t,n,r){Array.isArray(n)||(n&&(jI[0]=n.toString()),n=jI);for(var o=0;o<n.length;o++){var s=LA(t,n[o],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function HA(e){My(e.g,function(t,n){this.g.hasOwnProperty(n)&&Vy(t)},e),e.g={}}Ic.prototype.M=function(){Ic.Z.M.call(this),HA(this)};Ic.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Zh(){this.g=!0}Zh.prototype.Aa=function(){this.g=!1};function jU(e,t,n,r,o,s){e.info(function(){if(e.g)if(s)for(var u="",c=s.split("&"),f=0;f<c.length;f++){var d=c[f].split("=");if(1<d.length){var g=d[0];d=d[1];var h=g.split("_");u=2<=h.length&&h[1]=="type"?u+(g+"="+d+"&"):u+(g+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+`
`+n+`
`+u})}function BU(e,t,n,r,o,s,u){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+u})}function la(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+$U(e,n)+(r?" "+r:"")})}function qU(e,t){e.info(function(){return"TIMEOUT: "+t})}Zh.prototype.info=function(){};function $U(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var u=1;u<o.length;u++)o[u]=""}}}}return qy(n)}catch{return t}}var Ts={},BI=null;function ed(){return BI=BI||new an}Ts.Ma="serverreachability";function WA(e){En.call(this,Ts.Ma,e)}mn(WA,En);function Tc(e){var t=ed();pn(t,new WA(t))}Ts.STAT_EVENT="statevent";function KA(e,t){En.call(this,Ts.STAT_EVENT,e),this.stat=t}mn(KA,En);function Mn(e){var t=ed();pn(t,new KA(t,e))}Ts.Na="timingevent";function GA(e,t){En.call(this,Ts.Na,e),this.size=t}mn(GA,En);function Xc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Ve.setTimeout(function(){e()},t)}var td={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},zA={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ky(){}Ky.prototype.h=null;function qI(e){return e.h||(e.h=e.i())}function XA(){}var Yc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Gy(){En.call(this,"d")}mn(Gy,En);function zy(){En.call(this,"c")}mn(zy,En);var gv;function nd(){}mn(nd,Ky);nd.prototype.g=function(){return new XMLHttpRequest};nd.prototype.i=function(){return{}};gv=new nd;function Qc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ic(this),this.P=HU,e=lv?125:void 0,this.W=new Jh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new YA}function YA(){this.i=null,this.g="",this.h=!1}var HU=45e3,vv={},sh={};ge=Qc.prototype;ge.setTimeout=function(e){this.P=e};function yv(e,t,n){e.K=1,e.v=id(Ni(t)),e.s=n,e.U=!0,QA(e,null)}function QA(e,t){e.F=Date.now(),Jc(e),e.A=Ni(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ik(n.h,"t",r),e.C=0,n=e.l.H,e.h=new YA,e.g=Tk(e.l,n?t:null,!e.s),0<e.O&&(e.L=new VU(dn(e.Ia,e,e.g),e.O)),$A(e.V,e.g,"readystatechange",e.gb),t=e.H?OA(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Tc(),jU(e.j,e.u,e.A,e.m,e.X,e.s)}ge.gb=function(e){e=e.target;var t=this.L;t&&_i(e)==3?t.l():this.Ia(e)};ge.Ia=function(e){try{if(e==this.g)e:{var t=_i(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||lv||this.g&&(this.h.h||this.g.ga()||KI(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Tc(3):Tc(2)),rd(this);var o=this.g.ba();this.N=o;t:if(JA(this)){var s=KI(this.g);e="";var u=s.length,c=_i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){is(this),rc(this);var f="";break t}this.h.i=new Ve.TextDecoder}for(n=0;n<u;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:c&&n==u-1});s.splice(0,u),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,BU(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var d,g=this.g;if((d=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ih(d)){var h=d;break t}}h=null}if(o=h)la(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_v(this,o);else{this.i=!1,this.o=3,Mn(12),is(this),rc(this);break e}}this.U?(ZA(this,t,f),lv&&this.i&&t==3&&($A(this.V,this.W,"tick",this.fb),this.W.start())):(la(this.j,this.m,f,null),_v(this,f)),t==4&&is(this),this.i&&!this.I&&(t==4?bk(this.l,this):(this.i=!1,Jc(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,Mn(12)):(this.o=0,Mn(13)),is(this),rc(this)}}}catch{}finally{}};function JA(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function ZA(e,t,n){for(var r=!0,o;!e.I&&e.C<n.length;)if(o=WU(e,n),o==sh){t==4&&(e.o=4,Mn(14),r=!1),la(e.j,e.m,null,"[Incomplete Response]");break}else if(o==vv){e.o=4,Mn(15),la(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else la(e.j,e.m,o,null),_v(e,o);JA(e)&&o!=sh&&o!=vv&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Mn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),r_(t),t.L=!0,Mn(11))):(la(e.j,e.m,n,"[Invalid Chunked Response]"),is(e),rc(e))}ge.fb=function(){if(this.g){var e=_i(this.g),t=this.g.ga();this.C<t.length&&(rd(this),ZA(this,e,t),this.i&&e!=4&&Jc(this))}};function WU(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?sh:(n=Number(t.substring(n,r)),isNaN(n)?vv:(r+=1,r+n>t.length?sh:(t=t.substr(r,n),e.C=r+n,t)))}ge.cancel=function(){this.I=!0,is(this)};function Jc(e){e.Y=Date.now()+e.P,ek(e,e.P)}function ek(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Xc(dn(e.eb,e),t)}function rd(e){e.B&&(Ve.clearTimeout(e.B),e.B=null)}ge.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(qU(this.j,this.A),this.K!=2&&(Tc(),Mn(17)),is(this),this.o=2,rc(this)):ek(this,this.Y-e)};function rc(e){e.l.G==0||e.I||bk(e.l,e)}function is(e){rd(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Hy(e.W),HA(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function _v(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||bv(n.i,e))){if(n.I=e.N,!e.J&&bv(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)lh(n),ad(n);else break e;n_(n),Mn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=Xc(dn(n.ab,n),6e3));if(1>=ak(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else os(n,11)}else if((e.J||n.g==e)&&lh(n),!ih(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var u=s[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));var c=s[4];c!=null&&(n.za=c,n.h.info("SVER="+n.za));var f=s[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var d=e.g;if(d){var g=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var h=r.i;!h.g&&(xn(g,"spdy")||xn(g,"quic")||xn(g,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Qy(h,h.h),h.h=null))}if(r.D){var p=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(r.sa=p,Nt(r.F,r.D,p))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var v=e;if(r.oa=Ik(r,r.H?r.la:null,r.W),v.J){uk(r.i,v);var _=v,E=r.K;E&&_.setTimeout(E),_.B&&(rd(_),Jc(_)),r.g=v}else yk(r);0<n.l.length&&ud(n)}else s[0]!="stop"&&s[0]!="close"||os(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?os(n,7):t_(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Tc(4)}catch{}}function KU(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(cv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Xy(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(cv(e)||typeof e=="string")CA(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(cv(e)||typeof e=="string"){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;r=KU(e),o=r.length;for(var s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}}function Xa(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Xa)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}ge=Xa.prototype;ge.R=function(){Yy(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};ge.T=function(){return Yy(this),this.g.concat()};function Yy(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];gs(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)r=e.g[t],gs(o,r)||(e.g[n++]=r,o[r]=1),t++;e.g.length=n}}ge.get=function(e,t){return gs(this.h,e)?this.h[e]:t};ge.set=function(e,t){gs(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};ge.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var o=n[r],s=this.get(o);e.call(t,s,o,this)}};function gs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var tk=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function GU(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var s=e[n].substring(0,r);o=e[n].substring(r+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function vs(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof vs){this.g=t!==void 0?t:e.g,ah(this,e.j),this.s=e.s,uh(this,e.i),ch(this,e.m),this.l=e.l,t=e.h;var n=new Sc;n.i=t.i,t.g&&(n.g=new Xa(t.g),n.h=t.h),$I(this,n),this.o=e.o}else e&&(n=String(e).match(tk))?(this.g=!!t,ah(this,n[1]||"",!0),this.s=ic(n[2]||""),uh(this,n[3]||"",!0),ch(this,n[4]),this.l=ic(n[5]||"",!0),$I(this,n[6]||"",!0),this.o=ic(n[7]||"")):(this.g=!!t,this.h=new Sc(null,this.g))}vs.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ju(t,HI,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Ju(t,HI,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Ju(n,n.charAt(0)=="/"?JU:QU,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ju(n,eV)),e.join("")};function Ni(e){return new vs(e)}function ah(e,t,n){e.j=n?ic(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function uh(e,t,n){e.i=n?ic(t,!0):t}function ch(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function $I(e,t,n){t instanceof Sc?(e.h=t,tV(e.h,e.g)):(n||(t=Ju(t,ZU)),e.h=new Sc(t,e.g))}function Nt(e,t,n){e.h.set(t,n)}function id(e){return Nt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function zU(e){return e instanceof vs?Ni(e):new vs(e,void 0)}function XU(e,t,n,r){var o=new vs(null,void 0);return e&&ah(o,e),t&&uh(o,t),n&&ch(o,n),r&&(o.l=r),o}function ic(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ju(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,YU),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function YU(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var HI=/[#\/\?@]/g,QU=/[#\?:]/g,JU=/[#\?]/g,ZU=/[#\?@]/g,eV=/#/g;function Sc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function yo(e){e.g||(e.g=new Xa,e.h=0,e.i&&GU(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ge=Sc.prototype;ge.add=function(e,t){yo(this),this.i=null,e=Ya(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function nk(e,t){yo(e),t=Ya(e,t),gs(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,gs(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Yy(e)))}function rk(e,t){return yo(e),t=Ya(e,t),gs(e.g.h,t)}ge.forEach=function(e,t){yo(this),this.g.forEach(function(n,r){CA(n,function(o){e.call(t,o,r,this)},this)},this)};ge.T=function(){yo(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var o=e[r],s=0;s<o.length;s++)n.push(t[r]);return n};ge.R=function(e){yo(this);var t=[];if(typeof e=="string")rk(this,e)&&(t=DI(t,this.g.get(Ya(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=DI(t,e[n])}return t};ge.set=function(e,t){return yo(this),this.i=null,e=Ya(this,e),rk(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};ge.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function ik(e,t,n){nk(e,t),0<n.length&&(e.i=null,e.g.set(Ya(e,t),Ly(n)),e.h+=n.length)}ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var u=o;r[s]!==""&&(u+="="+encodeURIComponent(String(r[s]))),e.push(u)}}return this.i=e.join("&")};function Ya(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function tV(e,t){t&&!e.j&&(yo(e),e.i=null,e.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(nk(this,r),ik(this,o,n))},e)),e.j=t}var nV=function(){function e(t,n){this.h=t,this.g=n}return e}();function ok(e){this.l=e||rV,Ve.PerformanceNavigationTiming?(e=Ve.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Ve.g&&Ve.g.Ea&&Ve.g.Ea()&&Ve.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rV=10;function sk(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function ak(e){return e.h?1:e.g?e.g.size:0}function bv(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Qy(e,t){e.g?e.g.add(t):e.h=t}function uk(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}ok.prototype.cancel=function(){var e,t;if(this.i=ck(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=kA(this.g.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function ck(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var o=kA(e.g.values()),s=o.next();!s.done;s=o.next()){var u=s.value;r=r.concat(u.D)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return Ly(e.i)}function Jy(){}Jy.prototype.stringify=function(e){return Ve.JSON.stringify(e,void 0)};Jy.prototype.parse=function(e){return Ve.JSON.parse(e,void 0)};function iV(){this.g=new Jy}function oV(e,t,n){var r=n||"";try{Xy(e,function(o,s){var u=o;Gc(o)&&(u=qy(o)),t.push(r+s+"="+encodeURIComponent(u))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function sV(e,t){var n=new Zh;if(Ve.Image){var r=new Image;r.onload=Tf(Af,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Tf(Af,n,r,"TestLoadImage: error",!1,t),r.onabort=Tf(Af,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Tf(Af,n,r,"TestLoadImage: timeout",!1,t),Ve.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Af(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch{}}function Zc(e){this.l=e.$b||null,this.j=e.ib||!1}mn(Zc,Ky);Zc.prototype.g=function(){return new od(this.l,this.j)};Zc.prototype.i=function(e){return function(){return e}}({});function od(e,t){an.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Zy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mn(od,an);var Zy=0;ge=od.prototype;ge.open=function(e,t){if(this.readyState!=Zy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ac(this)};ge.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ve).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,el(this)),this.readyState=Zy};ge.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ac(this)),this.g&&(this.readyState=3,Ac(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Ve.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lk(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function lk(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}ge.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?el(this):Ac(this),this.readyState==3&&lk(this)}};ge.Ua=function(e){this.g&&(this.response=this.responseText=e,el(this))};ge.Ta=function(e){this.g&&(this.response=e,el(this))};ge.ha=function(){this.g&&el(this)};function el(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ac(e)}ge.setRequestHeader=function(e,t){this.v.append(e,t)};ge.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};ge.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Ac(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(od.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var aV=Ve.JSON.parse;function Xt(e){an.call(this),this.headers=new Xa,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=fk,this.K=this.L=!1}mn(Xt,an);var fk="",uV=/^https?$/i,cV=["POST","PUT"];ge=Xt.prototype;ge.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():gv.g(),this.C=this.u?qI(this.u):qI(gv),this.g.onreadystatechange=dn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){WI(this,s);return}e=n||"";var o=new Xa(this.headers);r&&Xy(r,function(s,u){o.set(u,s)}),r=bU(o.T()),n=Ve.FormData&&e instanceof Ve.FormData,!(0<=NA(cV,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,u){this.g.setRequestHeader(u,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pk(this),0<this.B&&((this.K=lV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dn(this.pa,this)):this.A=Wy(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){WI(this,s)}};function lV(e){return Aa&&SU()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function fV(e){return e.toLowerCase()=="content-type"}ge.pa=function(){typeof Dy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pn(this,"timeout"),this.abort(8))};function WI(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,hk(e),sd(e)}function hk(e){e.D||(e.D=!0,pn(e,"complete"),pn(e,"error"))}ge.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,pn(this,"complete"),pn(this,"abort"),sd(this))};ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sd(this,!0)),Xt.Z.M.call(this)};ge.Fa=function(){this.s||(this.F||this.v||this.l?dk(this):this.cb())};ge.cb=function(){dk(this)};function dk(e){if(e.h&&typeof Dy<"u"&&(!e.C[1]||_i(e)!=4||e.ba()!=2)){if(e.v&&_i(e)==4)Wy(e.Fa,0,e);else if(pn(e,"readystatechange"),_i(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var o;if(o=t===0){var s=String(e.H).match(tk)[1]||null;if(!s&&Ve.self&&Ve.self.location){var u=Ve.self.location.protocol;s=u.substr(0,u.length-1)}o=!uV.test(s?s.toLowerCase():"")}r=o}if(r)pn(e,"complete"),pn(e,"success");else{e.m=6;try{var c=2<_i(e)?e.g.statusText:""}catch{c=""}e.j=c+" ["+e.ba()+"]",hk(e)}}finally{sd(e)}}}}function sd(e,t){if(e.g){pk(e);var n=e.g,r=e.C[0]?rh:null;e.g=null,e.C=null,t||pn(e,"ready");try{n.onreadystatechange=r}catch{}}}function pk(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ve.clearTimeout(e.A),e.A=null)}function _i(e){return e.g?e.g.readyState:0}ge.ba=function(){try{return 2<_i(this)?this.g.status:-1}catch{return-1}};ge.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ge.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),aV(t)}};function KI(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case fk:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}ge.Da=function(){return this.m};ge.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function hV(e){var t="";return My(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function e_(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=hV(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Nt(e,t,n))}function $u(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function mk(e){this.za=0,this.l=[],this.h=new Zh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=$u("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=$u("baseRetryDelayMs",5e3,e),this.$a=$u("retryDelaySeedMs",1e4,e),this.Ya=$u("forwardChannelMaxRetries",2,e),this.ra=$u("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ok(e&&e.concurrentRequestLimit),this.Ca=new iV,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}ge=mk.prototype;ge.ma=8;ge.G=1;function t_(e){if(gk(e),e.G==3){var t=e.V++,n=Ni(e.F);Nt(n,"SID",e.J),Nt(n,"RID",t),Nt(n,"TYPE","terminate"),tl(e,n),t=new Qc(e,e.h,t,void 0),t.K=2,t.v=id(Ni(n)),n=!1,Ve.navigator&&Ve.navigator.sendBeacon&&(n=Ve.navigator.sendBeacon(t.v.toString(),"")),!n&&Ve.Image&&(new Image().src=t.v,n=!0),n||(t.g=Tk(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Jc(t)}Ek(e)}ge.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function ad(e){e.g&&(r_(e),e.g.cancel(),e.g=null)}function gk(e){ad(e),e.u&&(Ve.clearTimeout(e.u),e.u=null),lh(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Ve.clearTimeout(e.m),e.m=null)}function Cg(e,t){e.l.push(new nV(e.Za++,t)),e.G==3&&ud(e)}function ud(e){sk(e.i)||e.m||(e.m=!0,$y(e.Ha,e),e.C=0)}function dV(e,t){return ak(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Xc(dn(e.Ha,e,t),wk(e,e.C)),e.C++,!0)}ge.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Qc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=OA(n),RA(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=o;break e}if(r===4096||o===this.l.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=vk(this,t,r),o=Ni(this.F),Nt(o,"RID",e),Nt(o,"CVER",22),this.D&&Nt(o,"X-HTTP-Session-Id",this.D),tl(this,o),this.o&&n&&e_(o,this.o,n),Qy(this.i,t),this.Ra&&Nt(o,"TYPE","init"),this.ja?(Nt(o,"$req",r),Nt(o,"SID","null"),t.$=!0,yv(t,o,null)):yv(t,o,r),this.G=2}}else this.G==3&&(e?GI(this,e):this.l.length==0||sk(this.i)||GI(this))};function GI(e,t){var n;t?n=t.m:n=e.V++;var r=Ni(e.F);Nt(r,"SID",e.J),Nt(r,"RID",n),Nt(r,"AID",e.U),tl(e,r),e.o&&e.s&&e_(r,e.o,e.s),n=new Qc(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=vk(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Qy(e.i,n),yv(n,r,t)}function tl(e,t){e.j&&Xy({},function(n,r){Nt(t,r,n)})}function vk(e,t,n){n=Math.min(e.l.length,n);var r=e.j?dn(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var u=["count="+n];s==-1?0<n?(s=o[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);for(var c=!0,f=0;f<n;f++){var d=o[f].h,g=o[f].g;if(d-=s,0>d)s=Math.max(0,o[f].h-100),c=!1;else try{oV(g,u,"req"+d+"_")}catch{r&&r(g)}}if(c){r=u.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function yk(e){e.g||e.u||(e.Y=1,$y(e.Ga,e),e.A=0)}function n_(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Xc(dn(e.Ga,e),wk(e,e.A)),e.A++,!0)}ge.Ga=function(){if(this.u=null,_k(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Xc(dn(this.bb,this),e)}};ge.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Mn(10),ad(this),_k(this))};function r_(e){e.B!=null&&(Ve.clearTimeout(e.B),e.B=null)}function _k(e){e.g=new Qc(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=Ni(e.oa);Nt(t,"RID","rpc"),Nt(t,"SID",e.J),Nt(t,"CI",e.N?"0":"1"),Nt(t,"AID",e.U),tl(e,t),Nt(t,"TYPE","xmlhttp"),e.o&&e.s&&e_(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=id(Ni(t)),n.s=null,n.U=!0,QA(n,e)}ge.ab=function(){this.v!=null&&(this.v=null,ad(this),n_(this),Mn(19))};function lh(e){e.v!=null&&(Ve.clearTimeout(e.v),e.v=null)}function bk(e,t){var n=null;if(e.g==t){lh(e),r_(e),e.g=null;var r=2}else if(bv(e.i,t))n=t.D,uk(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;r=ed(),pn(r,new GA(r,n)),ud(e)}else yk(e);else if(o=t.o,o==3||o==0&&0<e.I||!(r==1&&dV(e,t)||r==2&&n_(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:os(e,5);break;case 4:os(e,10);break;case 3:os(e,6);break;default:os(e,2)}}}function wk(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function os(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=dn(e.jb,e);n||(n=new vs("//www.google.com/images/cleardot.gif"),Ve.location&&Ve.location.protocol=="http"||ah(n,"https"),id(n)),sV(n.toString(),r)}else Mn(2);e.G=0,e.j&&e.j.va(t),Ek(e),gk(e)}ge.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Mn(2)):(this.h.info("Failed to ping google.com"),Mn(1))};function Ek(e){e.G=0,e.I=-1,e.j&&((ck(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Ly(e.l),e.l.length=0),e.j.ua())}function Ik(e,t,n){var r=zU(n);if(r.i!="")t&&uh(r,t+"."+r.i),ch(r,r.m);else{var o=Ve.location;r=XU(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&My(e.aa,function(s,u){Nt(r,u,s)}),t=e.D,n=e.sa,t&&n&&Nt(r,t,n),Nt(r,"VER",e.ma),tl(e,r),r}function Tk(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Xt(new Zc({ib:!0})):new Xt(e.qa),t.L=e.H,t}function Sk(){}ge=Sk.prototype;ge.xa=function(){};ge.wa=function(){};ge.va=function(){};ge.ua=function(){};ge.Oa=function(){};function fh(){if(Aa&&!(10<=Number(AU)))throw Error("Environmental error: no available transport.")}fh.prototype.g=function(e,t){return new fr(e,t)};function fr(e,t){an.call(this),this.g=new mk(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ih(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ih(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Qa(this)}mn(fr,an);fr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),$y(dn(e.hb,e,t))),Mn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Ik(e,null,e.W),ud(e)};fr.prototype.close=function(){t_(this.g)};fr.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Cg(this.g,t)}else this.v?(t={},t.__data__=qy(e),Cg(this.g,t)):Cg(this.g,e)};fr.prototype.M=function(){this.g.j=null,delete this.j,t_(this.g),delete this.g,fr.Z.M.call(this)};function Ak(e){Gy.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}mn(Ak,Gy);function kk(){zy.call(this),this.status=1}mn(kk,zy);function Qa(e){this.g=e}mn(Qa,Sk);Qa.prototype.xa=function(){pn(this.g,"a")};Qa.prototype.wa=function(e){pn(this.g,new Ak(e))};Qa.prototype.va=function(e){pn(this.g,new kk)};Qa.prototype.ua=function(){pn(this.g,"b")};fh.prototype.createWebChannel=fh.prototype.g;fr.prototype.send=fr.prototype.u;fr.prototype.open=fr.prototype.m;fr.prototype.close=fr.prototype.close;td.NO_ERROR=0;td.TIMEOUT=8;td.HTTP_ERROR=6;zA.COMPLETE="complete";XA.EventType=Yc;Yc.OPEN="a";Yc.CLOSE="b";Yc.ERROR="c";Yc.MESSAGE="d";an.prototype.listen=an.prototype.N;Xt.prototype.listenOnce=Xt.prototype.O;Xt.prototype.getLastError=Xt.prototype.La;Xt.prototype.getLastErrorCode=Xt.prototype.Da;Xt.prototype.getStatus=Xt.prototype.ba;Xt.prototype.getResponseJson=Xt.prototype.Qa;Xt.prototype.getResponseText=Xt.prototype.ga;Xt.prototype.send=Xt.prototype.ea;var pV=function(){return new fh},mV=function(){return ed()},Og=td,gV=zA,vV=Ts,zI={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},yV=Zc,kf=XA,_V=Xt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ar=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return r.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();ar.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},te=function(e){function t(n,r){var o=this;return(o=e.call(this,r)||this).code=n,o.message=r,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Re(t,e),t}(Error),Dr=new IA("@firebase/firestore");function wv(){return Dr.logLevel}function ue(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Dr.logLevel<=nt.DEBUG){var r=t.map(i_);Dr.debug.apply(Dr,kt(["Firestore (8.10.1): "+e],r))}}function Kt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Dr.logLevel<=nt.ERROR){var r=t.map(i_);Dr.error.apply(Dr,kt(["Firestore (8.10.1): "+e],r))}}function hh(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Dr.logLevel<=nt.WARN){var r=t.map(i_);Dr.warn.apply(Dr,kt(["Firestore (8.10.1): "+e],r))}}function i_(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Kt(t),new Error(t)}function Me(e,t){e||Te()}function pe(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nk=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var o=bV(40),s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=t.charAt(o[s]%t.length));return r},e}();function Ge(e,t){return e<t?-1:e>t?1:0}function ka(e,t,n){return e.length===t.length&&e.every(function(r,o){return n(r,t[o])})}function Ck(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new te(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new te(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new te(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Ge(this.nanoseconds,t.nanoseconds):Ge(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),He=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new zn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ss(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ok(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rk=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&Te(),r===void 0?r=t.length-n:r>t.length-n&&Te(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),o=0;o<r;o++){var s=t.get(o),u=n.get(o);if(s<u)return-1;if(s>u)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),it=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Re(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=[],s=0,u=n;s<u.length;s++){var c=u[s];if(c.indexOf("//")>=0)throw new te(H.INVALID_ARGUMENT,"Invalid segment ("+c+"). Paths must not contain // in them.");o.push.apply(o,c.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(Rk),wV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Fr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Re(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.isValidIdentifier=function(n){return wV.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],o="",s=0,u=function(){if(o.length===0)throw new te(H.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(o),o=""},c=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new te(H.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new te(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,s+=2}else f==="`"?(c=!c,s++):f!=="."||c?(o+=f,s++):(u(),s++)}if(u(),c)throw new te(H.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(Rk),Na=function(){function e(t){this.fields=t,t.sort(Fr.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return ka(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),Yn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Ge(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Yn.EMPTY_BYTE_STRING=new Yn("");var EV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function po(e){if(Me(!!e),typeof e=="string"){var t=0,n=EV.exec(e);if(Me(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Ht(e.seconds),nanos:Ht(e.nanos)}}function Ht(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ca(e){return typeof e=="string"?Yn.fromBase64String(e):Yn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function xk(e){var t=e.mapValue.fields.__previous_value__;return o_(t)?xk(t):t}function kc(e){var t=po(e.mapValue.fields.__local_write_time__.timestampValue);return new zn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(e){return e==null}function dh(e){return e===0&&1/e==-1/0}function Pk(e){return typeof e=="number"&&Number.isInteger(e)&&!dh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(it.fromString(t))},e.fromName=function(t){return new e(it.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&it.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return it.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new it(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?o_(e)?4:10:Te()}function ui(e,t){var n=ys(e);if(n!==ys(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return kc(e).isEqual(kc(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;var s=po(r.timestampValue),u=po(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return Ca(r.bytesValue).isEqual(Ca(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return Ht(r.geoPointValue.latitude)===Ht(o.geoPointValue.latitude)&&Ht(r.geoPointValue.longitude)===Ht(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ht(r.integerValue)===Ht(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){var s=Ht(r.doubleValue),u=Ht(o.doubleValue);return s===u?dh(s)===dh(u):isNaN(s)&&isNaN(u)}return!1}(e,t);case 9:return ka(e.arrayValue.values||[],t.arrayValue.values||[],ui);case 10:return function(r,o){var s=r.mapValue.fields||{},u=o.mapValue.fields||{};if(XI(s)!==XI(u))return!1;for(var c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!ui(s[c],u[c])))return!1;return!0}(e,t);default:return Te()}}function Nc(e,t){return(e.values||[]).find(function(n){return ui(n,t)})!==void 0}function Oa(e,t){var n=ys(e),r=ys(t);if(n!==r)return Ge(n,r);switch(n){case 0:return 0;case 1:return Ge(e.booleanValue,t.booleanValue);case 2:return function(o,s){var u=Ht(o.integerValue||o.doubleValue),c=Ht(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(e,t);case 3:return YI(e.timestampValue,t.timestampValue);case 4:return YI(kc(e),kc(t));case 5:return Ge(e.stringValue,t.stringValue);case 6:return function(o,s){var u=Ca(o),c=Ca(s);return u.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var u=o.split("/"),c=s.split("/"),f=0;f<u.length&&f<c.length;f++){var d=Ge(u[f],c[f]);if(d!==0)return d}return Ge(u.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var u=Ge(Ht(o.latitude),Ht(s.latitude));return u!==0?u:Ge(Ht(o.longitude),Ht(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var u=o.values||[],c=s.values||[],f=0;f<u.length&&f<c.length;++f){var d=Oa(u[f],c[f]);if(d)return d}return Ge(u.length,c.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var u=o.fields||{},c=Object.keys(u),f=s.fields||{},d=Object.keys(f);c.sort(),d.sort();for(var g=0;g<c.length&&g<d.length;++g){var h=Ge(c[g],d[g]);if(h!==0)return h;var p=Oa(u[c[g]],f[d[g]]);if(p!==0)return p}return Ge(c.length,d.length)}(e.mapValue,t.mapValue);default:throw Te()}}function YI(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ge(e,t);var n=po(e),r=po(t),o=Ge(n.seconds,r.seconds);return o!==0?o:Ge(n.nanos,r.nanos)}function s_(e){return Ev(e)}function Ev(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var o=po(r);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ca(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ae.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var o="[",s=!0,u=0,c=r.values||[];u<c.length;u++)s?s=!1:o+=",",o+=Ev(c[u]);return o+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var o="{",s=!0,u=0,c=Object.keys(r.fields||{}).sort();u<c.length;u++){var f=c[u];s?s=!1:o+=",",o+=f+":"+Ev(r.fields[f])}return o+"}"}(e.mapValue):Te();var t,n}function ph(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Iv(e){return!!e&&"integerValue"in e}function a_(e){return!!e&&"arrayValue"in e}function QI(e){return!!e&&"nullValue"in e}function JI(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $f(e){return!!e&&"mapValue"in e}function oc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ss(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=oc(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=oc(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sr=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!$f(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=oc(n)},e.prototype.setAll=function(t){var n=this,r=Fr.emptyPath(),o={},s=[];t.forEach(function(c,f){if(!r.isImmediateParentOf(f)){var d=n.getFieldsMap(r);n.applyChanges(d,o,s),o={},s=[],r=f.popLast()}c?o[f.lastSegment()]=oc(c):s.push(f.lastSegment())});var u=this.getFieldsMap(r);this.applyChanges(u,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());$f(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return ui(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var o=n.mapValue.fields[t.get(r)];$f(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){Ss(n,function(c,f){return t[c]=f});for(var o=0,s=r;o<s.length;o++){var u=s[o];delete t[u]}},e.prototype.clone=function(){return new e(oc(this.value))},e}();function Dk(e){var t=[];return Ss(e.fields,function(n,r){var o=new Fr([n]);if($f(r)){var s=Dk(r.mapValue).fields;if(s.length===0)t.push(o);else for(var u=0,c=s;u<c.length;u++){var f=c[u];t.push(o.child(f))}}else t.push(o)}),new Na(t)}var In=function(){function e(t,n,r,o,s){this.key=t,this.documentType=n,this.version=r,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,He.min(),sr.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,sr.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,sr.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=sr.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=sr.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),IV=function(e,t,n,r,o,s,u){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=u,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(e,t,n,r,o,s,u){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),new IV(e,t,n,r,o,s,u)}function nl(e){var t=pe(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(o){return o.field.canonicalString()+o.op.toString()+s_(o.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+o.dir}(r)}).join(","),As(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=gh(t.startAt)),t.endAt&&(n+="|ub:",n+=gh(t.endAt)),t.h=n}return t.h}function cd(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!RV(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=e.filters[r],s=t.filters[r],o.op!==s.op||!o.field.isEqual(s.field)||!ui(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!tT(e.startAt,t.startAt)&&tT(e.endAt,t.endAt)}function mh(e){return Ae.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var ur=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=o,s}return Re(t,e),t.create=function(n,r,o){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,o):new TV(n,r,o):r==="array-contains"?new kV(n,o):r==="in"?new NV(n,o):r==="not-in"?new CV(n,o):r==="array-contains-any"?new OV(n,o):new t(n,r,o)},t.l=function(n,r,o){return r==="in"?new SV(n,o):new AV(n,o)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Oa(r,this.value)):r!==null&&ys(this.value)===ys(r)&&this.m(Oa(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Te()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),TV=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,o)||this).key=Ae.fromName(o.referenceValue),s}return Re(t,e),t.prototype.matches=function(n){var r=Ae.comparator(n.key,this.key);return this.m(r)},t}(ur),SV=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"in",r)||this).keys=Lk("in",r),o}return Re(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(ur),AV=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"not-in",r)||this).keys=Lk("not-in",r),o}return Re(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(ur);function Lk(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return Ae.fromName(r.referenceValue)})}var kV=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return Re(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return a_(r)&&Nc(r.arrayValue,this.value)},t}(ur),NV=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return Re(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&Nc(this.value.arrayValue,r)},t}(ur),CV=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return Re(t,e),t.prototype.matches=function(n){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!Nc(this.value.arrayValue,r)},t}(ur),OV=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return Re(t,e),t.prototype.matches=function(n){var r=this,o=n.data.field(this.field);return!(!a_(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return Nc(r.value.arrayValue,s)})},t}(ur),Cc=function(e,t){this.position=e,this.before=t};function gh(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return s_(t)}).join(",")}var ya=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function RV(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function eT(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var s=t[o],u=e.position[o];if(r=s.field.isKeyField()?Ae.comparator(Ae.fromName(u.referenceValue),n.key):Oa(u,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function tT(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ui(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oi=function(e,t,n,r,o,s,u,c){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s="F"),u===void 0&&(u=null),c===void 0&&(c=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=c,this.p=null,this.T=null,this.startAt,this.endAt};function Mk(e,t,n,r,o,s,u,c){return new Oi(e,t,n,r,o,s,u,c)}function rl(e){return new Oi(e)}function Hf(e){return!As(e.limit)&&e.limitType==="F"}function vh(e){return!As(e.limit)&&e.limitType==="L"}function u_(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function c_(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function l_(e){return e.collectionGroup!==null}function Ra(e){var t=pe(e);if(t.p===null){t.p=[];var n=c_(t),r=u_(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new ya(n)),t.p.push(new ya(Fr.keyField(),"asc"));else{for(var o=!1,s=0,u=t.explicitOrderBy;s<u.length;s++){var c=u[s];t.p.push(c),c.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new ya(Fr.keyField(),f))}}}return t.p}function ci(e){var t=pe(e);if(!t.T)if(t.limitType==="F")t.T=ZI(t.path,t.collectionGroup,Ra(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,o=Ra(t);r<o.length;r++){var s=o[r],u=s.dir==="desc"?"asc":"desc";n.push(new ya(s.field,u))}var c=t.endAt?new Cc(t.endAt.position,!t.endAt.before):null,f=t.startAt?new Cc(t.startAt.position,!t.startAt.before):null;t.T=ZI(t.path,t.collectionGroup,n,t.filters,t.limit,c,f)}return t.T}function Fk(e,t,n){return new Oi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function il(e,t){return cd(ci(e),ci(t))&&e.limitType===t.limitType}function Uk(e){return nl(ci(e))+"|lt:"+e.limitType}function Tv(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(o=r).field.canonicalString()+" "+o.op+" "+s_(o.value);var o}).join(", ")+"]"),As(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+gh(t.startAt)),t.endAt&&(n+=", endAt: "+gh(t.endAt)),"Target("+n+")"}(ci(e))+"; limitType="+e.limitType+")"}function ol(e,t){return t.isFoundDocument()&&function(n,r){var o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Ae.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var u=s[o];if(!u.field.isKeyField()&&r.data.field(u.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!eT(n.startAt,Ra(n),r))&&(!n.endAt||!eT(n.endAt,Ra(n),r))}(e,t)}function Vk(e){return function(t,n){for(var r=!1,o=0,s=Ra(e);o<s.length;o++){var u=s[o],c=xV(u,t,n);if(c!==0)return c;r=r||u.field.isKeyField()}return 0}}function xV(e,t,n){var r=e.field.isKeyField()?Ae.comparator(t.key,n.key):function(o,s,u){var c=s.data.field(o),f=u.data.field(o);return c!==null&&f!==null?Oa(c,f):Te()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(t)?"-0":t}}function Bk(e){return{integerValue:""+e}}function qk(e,t){return Pk(t)?Bk(t):jk(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ld=function(){this._=void 0};function PV(e,t,n){return e instanceof xa?function(r,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof _s?Hk(e,t):e instanceof bs?Wk(e,t):function(r,o){var s=$k(r,o),u=nT(s)+nT(r.A);return Iv(s)&&Iv(r.A)?Bk(u):jk(r.R,u)}(e,t)}function DV(e,t,n){return e instanceof _s?Hk(e,t):e instanceof bs?Wk(e,t):n}function $k(e,t){return e instanceof Pa?Iv(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var xa=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Re(t,e),t}(ld),_s=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Re(t,e),t}(ld);function Hk(e,t){for(var n=Kk(t),r=function(u){n.some(function(c){return ui(c,u)})||n.push(u)},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var bs=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Re(t,e),t}(ld);function Wk(e,t){for(var n=Kk(t),r=function(u){n=n.filter(function(c){return!ui(c,u)})},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var Pa=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).R=n,o.A=r,o}return Re(t,e),t}(ld);function nT(e){return Ht(e.integerValue||e.doubleValue)}function Kk(e){return a_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sl=function(e,t){this.field=e,this.transform=t},LV=function(e,t){this.version=e,this.transformResults=t},bn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Wf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var fd=function(){};function MV(e,t,n){e instanceof al?function(r,o,s){var u=r.value.clone(),c=oT(r.fieldTransforms,o,s.transformResults);u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):e instanceof _o?function(r,o,s){if(Wf(r.precondition,o)){var u=oT(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(Gk(r)),c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Sv(e,t,n){e instanceof al?function(r,o,s){if(Wf(r.precondition,o)){var u=r.value.clone(),c=sT(r.fieldTransforms,s,o);u.setAll(c),o.convertToFoundDocument(iT(o),u).setHasLocalMutations()}}(e,t,n):e instanceof _o?function(r,o,s){if(Wf(r.precondition,o)){var u=sT(r.fieldTransforms,s,o),c=o.data;c.setAll(Gk(r)),c.setAll(u),o.convertToFoundDocument(iT(o),c).setHasLocalMutations()}}(e,t,n):function(r,o){Wf(r.precondition,o)&&o.convertToNoDocument(He.min())}(e,t)}function FV(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var s=o[r],u=t.data.field(s.field),c=$k(s.transform,u||null);c!=null&&(n==null&&(n=sr.empty()),n.set(s.field,c))}return n||null}function rT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ka(n,r,function(o,s){return function(u,c){return u.field.isEqual(c.field)&&function(f,d){return f instanceof _s&&d instanceof _s||f instanceof bs&&d instanceof bs?ka(f.elements,d.elements,ui):f instanceof Pa&&d instanceof Pa?ui(f.A,d.A):f instanceof xa&&d instanceof xa}(u.transform,c.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function iT(e){return e.isFoundDocument()?e.version:He.min()}var al=function(e){function t(n,r,o,s){s===void 0&&(s=[]);var u=this;return(u=e.call(this)||this).key=n,u.value=r,u.precondition=o,u.fieldTransforms=s,u.type=0,u}return Re(t,e),t}(fd),_o=function(e){function t(n,r,o,s,u){u===void 0&&(u=[]);var c=this;return(c=e.call(this)||this).key=n,c.data=r,c.fieldMask=o,c.precondition=s,c.fieldTransforms=u,c.type=1,c}return Re(t,e),t}(fd);function Gk(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function oT(e,t,n){var r=new Map;Me(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],u=s.transform,c=t.data.field(s.field);r.set(s.field,DV(u,c,n[o]))}return r}function sT(e,t,n){for(var r=new Map,o=0,s=e;o<s.length;o++){var u=s[o],c=u.transform,f=n.data.field(u.field);r.set(u.field,PV(c,f,t))}return r}var $t,Qe,ul=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=2,o.fieldTransforms=[],o}return Re(t,e),t}(fd),f_=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=3,o.fieldTransforms=[],o}return Re(t,e),t}(fd),UV=function(e){this.count=e};function zk(e){switch(e){case H.OK:return Te();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return Te()}}function Xk(e){if(e===void 0)return Kt("GRPC error has no .code"),H.UNKNOWN;switch(e){case $t.OK:return H.OK;case $t.CANCELLED:return H.CANCELLED;case $t.UNKNOWN:return H.UNKNOWN;case $t.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case $t.INTERNAL:return H.INTERNAL;case $t.UNAVAILABLE:return H.UNAVAILABLE;case $t.UNAUTHENTICATED:return H.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case $t.NOT_FOUND:return H.NOT_FOUND;case $t.ALREADY_EXISTS:return H.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return H.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case $t.ABORTED:return H.ABORTED;case $t.OUT_OF_RANGE:return H.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return H.UNIMPLEMENTED;case $t.DATA_LOSS:return H.DATA_LOSS;default:return Te()}}(Qe=$t||($t={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn=function(){function e(t,n){this.comparator=t,this.root=n||eo.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,eo.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,eo.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Nf(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Nf(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Nf(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Nf(this.root,t,this.comparator,!0)},e}(),Nf=function(){function e(t,n,r,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),eo=function(){function e(t,n,r,o,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=o??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,s){return new e(t??this.key,n??this.value,r??this.color,o??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var o=this,s=r(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();var t=this.left.check();if(t!==this.right.check())throw Te();return t+(this.isRed()?0:1)},e}();eo.EMPTY=null,eo.RED=!0,eo.BLACK=!1,eo.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Te()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Te()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Te()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Te()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Te()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,o,s){return this},e.prototype.insert=function(t,n,r){return new eo(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn=function(){function e(t){this.comparator=t,this.data=new Tn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new aT(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new aT(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),aT=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),VV=new Tn(Ae.comparator);function Lr(){return VV}var jV=new Tn(Ae.comparator);function Av(){return jV}var BV=new Tn(Ae.comparator);function qV(){return BV}var $V=new tn(Ae.comparator);function _t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=$V,r=0,o=e;r<o.length;r++){var s=o[r];n=n.add(s)}return n}var HV=new tn(Ge);function hd(){return HV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h_=function(){function e(t,n,r,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,d_.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(He.min(),r,hd(),Lr(),_t())},e}(),d_=function(){function e(t,n,r,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Yn.EMPTY_BYTE_STRING,n,_t(),_t(),_t())},e}(),Kf=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Yk=function(e,t){this.targetId=e,this.V=t},Qk=function(e,t,n,r){n===void 0&&(n=Yn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},uT=function(){function e(){this.S=0,this.D=lT(),this.C=Yn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=_t(),n=_t(),r=_t();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Te()}}),new d_(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=lT()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),WV=function(){function e(t){this.W=t,this.G=new Map,this.H=Lr(),this.J=cT(),this.Y=new tn(Ge)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var o=r[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,u=t.removedTargetIds;s<u.length;s++)o=u[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var o=n.nt(r);switch(t.state){case 0:n.st(r)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(r);break;case 3:n.st(r)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),o.O(t.resumeToken));break;default:Te()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,o=this.ot(n);if(o){var s=o.target;if(mh(s))if(r===0){var u=new Ae(s.path);this.tt(n,u,In.newNoDocument(u,He.min()))}else Me(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(u,c){var f=n.ot(c);if(f){if(u.current&&mh(f.target)){var d=new Ae(f.target.path);n.H.get(d)!==null||n.at(c,d)||n.tt(c,d,In.newNoDocument(d,t))}u.$&&(r.set(c,u.M()),u.L())}});var o=_t();this.J.forEach(function(u,c){var f=!0;c.forEachWhile(function(d){var g=n.ot(d);return!g||g.purpose===2||(f=!1,!1)}),f&&(o=o.add(u))});var s=new h_(t,r,this.Y,this.H,o);return this.H=Lr(),this.J=cT(),this.Y=new tn(Ge),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new uT,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new tn(Ge),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new uT),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function cT(){return new Tn(Ae.comparator)}function lT(){return new Tn(Ae.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KV={asc:"ASCENDING",desc:"DESCENDING"},GV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zV=function(e,t){this.databaseId=e,this.I=t};function Oc(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Jk(e,t){return e.I?t.toBase64():t.toUint8Array()}function XV(e,t){return Oc(e,t.toTimestamp())}function Fn(e){return Me(!!e),He.fromTimestamp(function(t){var n=po(t);return new zn(n.seconds,n.nanos)}(e))}function p_(e,t){return function(n){return new it(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function Zk(e){var t=it.fromString(e);return Me(sN(t)),t}function Rc(e,t){return p_(e.databaseId,t.path)}function wi(e,t){var n=Zk(t);if(n.get(1)!==e.databaseId.projectId)throw new te(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new te(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ae(tN(n))}function kv(e,t){return p_(e.databaseId,t)}function eN(e){var t=Zk(e);return t.length===4?it.emptyPath():tN(t)}function xc(e){return new it(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function tN(e){return Me(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function fT(e,t,n){return{name:Rc(e,t),fields:n.value.mapValue.fields}}function YV(e,t,n){var r=wi(e,t.name),o=Fn(t.updateTime),s=new sr({mapValue:{fields:t.fields}}),u=In.newFoundDocument(r,o,s);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function yh(e,t){var n;if(t instanceof al)n={update:fT(e,t.key,t.value)};else if(t instanceof ul)n={delete:Rc(e,t.key)};else if(t instanceof _o)n={update:fT(e,t.key,t.data),updateMask:tj(t.fieldMask)};else{if(!(t instanceof f_))return Te();n={verify:Rc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(o,s){var u=s.transform;if(u instanceof xa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof _s)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof bs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Pa)return{fieldPath:s.field.canonicalString(),increment:u.A};throw Te()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:XV(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te()}(e,t.precondition)),n}function hT(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?bn.updateTime(Fn(d.updateTime)):d.exists!==void 0?bn.exists(d.exists):bn.none()}(t.currentDocument):bn.none(),r=t.updateTransforms?t.updateTransforms.map(function(d){return function(g,h){var p=null;if("setToServerValue"in h)Me(h.setToServerValue==="REQUEST_TIME"),p=new xa;else if("appendMissingElements"in h){var v=h.appendMissingElements.values||[];p=new _s(v)}else if("removeAllFromArray"in h){var _=h.removeAllFromArray.values||[];p=new bs(_)}else"increment"in h?p=new Pa(g,h.increment):Te();var E=Fr.fromServerFormat(h.fieldPath);return new sl(E,p)}(e,d)}):[];if(t.update){t.update.name;var o=wi(e,t.update.name),s=new sr({mapValue:{fields:t.update.fields}});if(t.updateMask){var u=function(d){var g=d.fieldPaths||[];return new Na(g.map(function(h){return Fr.fromServerFormat(h)}))}(t.updateMask);return new _o(o,s,u,n,r)}return new al(o,s,n,r)}if(t.delete){var c=wi(e,t.delete);return new ul(c,n)}if(t.verify){var f=wi(e,t.verify);return new f_(f,n)}return Te()}function nN(e,t){return{documents:[kv(e,t.path)]}}function rN(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=kv(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=kv(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(c){if(c.length!==0){var f=c.map(function(d){return function(g){if(g.op==="=="){if(JI(g.value))return{unaryFilter:{field:ra(g.field),op:"IS_NAN"}};if(QI(g.value))return{unaryFilter:{field:ra(g.field),op:"IS_NULL"}}}else if(g.op==="!="){if(JI(g.value))return{unaryFilter:{field:ra(g.field),op:"IS_NOT_NAN"}};if(QI(g.value))return{unaryFilter:{field:ra(g.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ra(g.field),op:JV(g.op),value:g.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(c){if(c.length!==0)return c.map(function(f){return function(d){return{field:ra(d.field),direction:QV(d.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var u=function(c,f){return c.I||As(f)?f:{value:f}}(e,t.limit);return u!==null&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=dT(t.startAt)),t.endAt&&(n.structuredQuery.endAt=dT(t.endAt)),n}function iN(e){var t=eN(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){Me(r===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var u=[];n.where&&(u=oN(n.where));var c=[];n.orderBy&&(c=n.orderBy.map(function(h){return function(p){return new ya(fa(p.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h)}));var f=null;n.limit&&(f=function(h){var p;return As(p=typeof h=="object"?h.value:h)?null:p}(n.limit));var d=null;n.startAt&&(d=pT(n.startAt));var g=null;return n.endAt&&(g=pT(n.endAt)),Mk(t,o,c,u,f,"F",d,g)}function oN(e){return e?e.unaryFilter!==void 0?[ej(e)]:e.fieldFilter!==void 0?[ZV(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return oN(t)}).reduce(function(t,n){return t.concat(n)}):Te():[]}function dT(e){return{before:e.before,values:e.position}}function pT(e){var t=!!e.before,n=e.values||[];return new Cc(n,t)}function QV(e){return KV[e]}function JV(e){return GV[e]}function ra(e){return{fieldPath:e.canonicalString()}}function fa(e){return Fr.fromServerFormat(e.fieldPath)}function ZV(e){return ur.create(fa(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Te()}}(e.fieldFilter.op),e.fieldFilter.value)}function ej(e){switch(e.unaryFilter.op){case"IS_NAN":var t=fa(e.unaryFilter.field);return ur.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=fa(e.unaryFilter.field);return ur.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=fa(e.unaryFilter.field);return ur.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=fa(e.unaryFilter.field);return ur.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Te()}}function tj(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function sN(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=mT(t)),t=nj(e.get(n),t);return mT(t)}function nj(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function mT(e){return e+""}function bi(e){var t=e.length;if(Me(t>=2),t===2)return Me(e.charAt(0)===""&&e.charAt(1)===""),it.emptyPath();for(var n=t-2,r=[],o="",s=0;s<t;){var u=e.indexOf("",s);switch((u<0||u>n)&&Te(),e.charAt(u+1)){case"":var c=e.substring(s,u),f=void 0;o.length===0?f=c:(f=o+=c,o=""),r.push(f);break;case"":o+=e.substring(s,u),o+="\0";break;case"":o+=e.substring(s,u+1);break;default:Te()}s=u+2}return new it(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rj=function(e,t){this.seconds=e,this.nanoseconds=t},ir=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};ir.store="owner",ir.key="owner";var co=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};co.store="mutationQueues",co.keyPath="userId";var Et=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};Et.store="mutations",Et.keyPath="batchId",Et.userMutationsIndex="userMutationsIndex",Et.userMutationsKeyPath=["userId","batchId"];var vn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Mr(n)]},e.key=function(t,n,r){return[t,Mr(n),r]},e}();vn.store="documentMutations",vn.PLACEHOLDER=new vn;var ij=function(e,t){this.path=e,this.readTime=t},oj=function(e,t){this.path=e,this.version=t},Mt=function(e,t,n,r,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=s};Mt.store="remoteDocuments",Mt.readTimeIndex="readTimeIndex",Mt.readTimeIndexPath="readTime",Mt.collectionReadTimeIndex="collectionReadTimeIndex",Mt.collectionReadTimeIndexPath=["parentPath","readTime"];var ni=function(e){this.byteSize=e};ni.store="remoteDocumentGlobal",ni.key="remoteDocumentGlobalKey";var Gn=function(e,t,n,r,o,s,u){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=u};Gn.store="targets",Gn.keyPath="targetId",Gn.queryTargetsIndexName="queryTargetsIndex",Gn.queryTargetsKeyPath=["canonicalId","targetId"];var fn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};fn.store="targetDocuments",fn.keyPath=["targetId","path"],fn.documentTargetsIndex="documentTargetsIndex",fn.documentTargetsKeyPath=["path","targetId"];var or=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};or.key="targetGlobalKey",or.store="targetGlobal";var ls=function(e,t){this.collectionId=e,this.parent=t};ls.store="collectionParents",ls.keyPath=["collectionId","parent"];var Ei=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Ei.store="clientMetadata",Ei.keyPath="clientId";var Da=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Da.store="bundles",Da.keyPath="bundleId";var La=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};La.store="namedQueries",La.keyPath="name";var sj=kt(kt([],kt(kt([],kt(kt([],kt(kt([],[co.store,Et.store,vn.store,Mt.store,Gn.store,ir.store,or.store,fn.store]),[Ei.store])),[ni.store])),[ls.store])),[Da.store,La.store]),aN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",uN=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Qn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},oe=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){r.nextCallback=function(u){r.wrapSuccess(t,u).next(o,s)},r.catchCallback=function(u){r.wrapFailure(n,u).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var o=0,s=0,u=!1;t.forEach(function(c){++o,c.next(function(){++s,u&&s===o&&n()},function(f){return r(f)})}),u=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(u){n=n.next(function(c){return c?e.resolve(c):u()})},o=0,s=t;o<s.length;o++)r(s[o]);return n},e.forEach=function(t,n){var r=this,o=[];return t.forEach(function(s,u){o.push(n.call(r,s,u))}),this.waitFor(o)},e}(),cN=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Qn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new sc(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(o){var s=m_(o.target.error);r.ft.reject(new sc(t,s))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(s){throw new sc(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ue("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new uj(n)},e}(),Ma=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(ms())===12.2&&Kt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return ue("SimpleDb","Removing database:",t),ts(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=ms(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return Q(this,void 0,void 0,function(){var n,r=this;return Y(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(ue("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,u){var c=indexedDB.open(r.name,r.version);c.onsuccess=function(f){var d=f.target.result;s(d)},c.onblocked=function(){u(new sc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=function(f){var d=f.target.error;d.name==="VersionError"?u(new te(H.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u(new sc(t,d))},c.onupgradeneeded=function(f){ue("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;r.wt.Rt(d,c.transaction,f.oldVersion,r.version).next(function(){ue("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,o){return Q(this,void 0,void 0,function(){var s,u,c,f,d;return Y(this,function(g){switch(g.label){case 0:s=n==="readonly",u=0,c=function(){var h,p,v,_,E;return Y(this,function(A){switch(A.label){case 0:++u,A.label=1;case 1:return A.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=A.sent(),h=cN.open(f.db,t,s?"readonly":"readwrite",r),p=o(h).catch(function(b){return h.abort(b),oe.reject(b)}).toPromise(),v={},p.catch(function(){}),[4,h.dt];case 3:return[2,(v.value=(A.sent(),p),v)];case 4:return _=A.sent(),E=_.name!=="FirebaseError"&&u<3,ue("SimpleDb","Transaction failed with error:",_.message,"Retrying:",E),f.close(),E?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,g.label=1;case 1:return[5,c()];case 2:if(typeof(d=g.sent())=="object")return[2,d.value];g.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),aj=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return ts(this.Pt.delete())},e}(),sc=function(e){function t(n,r){var o=this;return(o=e.call(this,H.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",o}return Re(t,e),t}(te);function ks(e){return e.name==="IndexedDbTransactionError"}var uj=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(ue("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(ue("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),ts(r)},e.prototype.add=function(t){return ue("SimpleDb","ADD",this.store.name,t,t),ts(this.store.add(t))},e.prototype.get=function(t){var n=this;return ts(this.store.get(t)).next(function(r){return r===void 0&&(r=null),ue("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return ue("SimpleDb","DELETE",this.store.name,t),ts(this.store.delete(t))},e.prototype.count=function(){return ue("SimpleDb","COUNT",this.store.name),ts(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),o=[];return this.xt(r,function(s,u){o.push(u)}).next(function(){return o})},e.prototype.kt=function(t,n){ue("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var o=this.cursor(r);return this.xt(o,function(s,u,c){return c.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var o=this.cursor(r);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new oe(function(r,o){n.onerror=function(s){var u=m_(s.target.error);o(u)},n.onsuccess=function(s){var u=s.target.result;u?t(u.primaryKey,u.value).next(function(c){c?u.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new oe(function(o,s){t.onerror=function(u){s(u.target.error)},t.onsuccess=function(u){var c=u.target.result;if(c){var f=new aj(c),d=n(c.primaryKey,c.value,f);if(d instanceof oe){var g=d.catch(function(h){return f.done(),oe.reject(h)});r.push(g)}f.isDone?o():f.Dt===null?c.continue():c.continue(f.Dt)}else o()}}).next(function(){return oe.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function ts(e){return new oe(function(t,n){e.onsuccess=function(r){var o=r.target.result;t(o)},e.onerror=function(r){var o=m_(r.target.error);n(o)}})}var gT=!1;function m_(e){var t=Ma._t(ms());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new te("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return gT||(gT=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vT=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=r,o}return Re(t,e),t}(uN);function Jn(e,t){var n=pe(e);return Ma.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g_=function(){function e(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&MV(s,t,r[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(u=r[n]).key.isEqual(t.key)&&Sv(u,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var u;(u=s[o]).key.isEqual(t.key)&&Sv(u,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var o=t.get(r.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(He.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},_t())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&ka(this.mutations,t.mutations,function(n,r){return rT(n,r)})&&ka(this.baseMutations,t.baseMutations,function(n,r){return rT(n,r)})},e}(),cj=function(){function e(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}return e.from=function(t,n,r){Me(t.mutations.length===r.length);for(var o=qV(),s=t.mutations,u=0;u<s.length;u++)o=o.insert(s[u].key,r[u].version);return new e(t,n,r,o)},e}(),dd=function(){function e(t,n,r,o,s,u,c){s===void 0&&(s=He.min()),u===void 0&&(u=He.min()),c===void 0&&(c=Yn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),lN=function(e){this.Lt=e};function Nv(e,t){if(t.document)return YV(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Ae.fromSegments(t.noDocument.path),r=Ua(t.noDocument.readTime),o=In.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=Ae.fromSegments(t.unknownDocument.path);return r=Ua(t.unknownDocument.version),In.newUnknownDocument(s,r)}return Te()}function yT(e,t,n){var r=v_(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(h,p){return{name:Rc(h,p.key),fields:p.data.value.mapValue.fields,updateTime:Oc(h,p.version.toTimestamp())}}(e.Lt,t),u=t.hasCommittedMutations;return new Mt(null,null,s,u,r,o)}if(t.isNoDocument()){var c=t.key.path.toArray(),f=Fa(t.version);return u=t.hasCommittedMutations,new Mt(null,new ij(c,f),null,u,r,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),g=Fa(t.version);return new Mt(new oj(d,g),null,null,!0,r,o)}return Te()}function v_(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function fN(e){var t=new zn(e[0],e[1]);return He.fromTimestamp(t)}function Fa(e){var t=e.toTimestamp();return new rj(t.seconds,t.nanoseconds)}function Ua(e){var t=new zn(e.seconds,e.nanoseconds);return He.fromTimestamp(t)}function aa(e,t){for(var n=(t.baseMutations||[]).map(function(f){return hT(e.Lt,f)}),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var u=t.mutations.map(function(f){return hT(e.Lt,f)}),c=zn.fromMillis(t.localWriteTimeMs);return new g_(t.batchId,c,n,u)}function Zu(e){var t,n,r=Ua(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?Ua(e.lastLimboFreeSnapshotVersion):He.min();return e.query.documents!==void 0?(Me((n=e.query).documents.length===1),t=ci(rl(eN(n.documents[0])))):t=function(s){return ci(iN(s))}(e.query),new dd(t,e.targetId,0,e.lastListenSequenceNumber,r,o,Yn.fromBase64String(e.resumeToken))}function hN(e,t){var n,r=Fa(t.snapshotVersion),o=Fa(t.lastLimboFreeSnapshotVersion);n=mh(t.target)?nN(e.Lt,t.target):rN(e.Lt,t.target);var s=t.resumeToken.toBase64();return new Gn(t.targetId,nl(t.target),r,s,t.sequenceNumber,o,n)}function dN(e){var t=iN({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Fk(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lj=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return _T(t).get(n).next(function(r){if(r)return{id:(o=r).bundleId,createTime:Ua(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return _T(t).put({bundleId:(r=n).id,createTime:Fa(Fn(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return bT(t).get(n).next(function(r){if(r)return{name:(o=r).name,query:dN(o.bundledQuery),readTime:Ua(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return bT(t).put(function(r){return{name:r.name,readTime:Fa(Fn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function _T(e){return Jn(e,Da.store)}function bT(e){return Jn(e,La.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fj=function(){function e(){this.Bt=new y_}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),oe.resolve()},e.prototype.getCollectionParents=function(t,n){return oe.resolve(this.Bt.getEntries(n))},e}(),y_=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new tn(it.comparator),s=!o.has(r);return this.index[n]=o.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new tn(it.comparator)).toArray()},e}(),hj=function(){function e(){this.qt=new y_}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var u={collectionId:o,parent:Mr(s)};return wT(t).put(u)}return oe.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],o=IDBKeyRange.bound([n,""],[Ck(n),""],!1,!0);return wT(t).Nt(o).next(function(s){for(var u=0,c=s;u<c.length;u++){var f=c[u];if(f.collectionId!==n)break;r.push(bi(f.parent))}return r})},e}();function wT(e){return Jn(e,ls.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ET={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yr=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(e,t,n){var r=e.store(Et.store),o=e.store(vn.store),s=[],u=IDBKeyRange.only(n.batchId),c=0,f=r.$t({range:u},function(_,E,A){return c++,A.delete()});s.push(f.next(function(){Me(c===1)}));for(var d=[],g=0,h=n.mutations;g<h.length;g++){var p=h[g],v=vn.key(t,p.key.path,n.batchId);s.push(o.delete(v)),d.push(p.key)}return oe.waitFor(s).next(function(){return d})}function _h(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Te();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yr.DEFAULT_COLLECTION_PERCENTILE=10,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yr.DEFAULT=new Yr(41943040,Yr.DEFAULT_COLLECTION_PERCENTILE,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yr.DISABLED=new Yr(-1,0,0);var dj=function(){function e(t,n,r,o){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,r,o){return Me(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hi(t).$t({index:Et.userMutationsIndex,range:r},function(o,s,u){n=!1,u.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,o){var s=this,u=ua(t),c=Hi(t);return c.add({}).next(function(f){Me(typeof f=="number");for(var d=new g_(f,n,r,o),g=function(b,k,D){var R=D.baseMutations.map(function(F){return yh(b.Lt,F)}),M=D.mutations.map(function(F){return yh(b.Lt,F)});return new Et(k,D.batchId,D.localWriteTime.toMillis(),R,M)}(s.R,s.userId,d),h=[],p=new tn(function(b,k){return Ge(b.canonicalString(),k.canonicalString())}),v=0,_=o;v<_.length;v++){var E=_[v],A=vn.key(s.userId,E.key.path,f);p=p.add(E.key.path.popLast()),h.push(c.put(g)),h.push(u.put(A,vn.PLACEHOLDER))}return p.forEach(function(b){h.push(s.Ut.addToCollectionParentIndex(t,b))}),t.addOnCommittedListener(function(){s.Kt[f]=d.keys()}),oe.waitFor(h).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Hi(t).get(n).next(function(o){return o?(Me(o.userId===r.userId),aa(r.R,o)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?oe.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),u=null;return Hi(t).$t({index:Et.userMutationsIndex,range:s},function(c,f,d){f.userId===r.userId&&(Me(f.batchId>=o),u=aa(r.R,f)),d.done()}).next(function(){return u})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Hi(t).$t({index:Et.userMutationsIndex,range:n,reverse:!0},function(o,s,u){r=s.batchId,u.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hi(t).Nt(Et.userMutationsIndex,r).next(function(o){return o.map(function(s){return aa(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=vn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),u=[];return ua(t).$t({range:s},function(c,f,d){var g=c[0],h=c[1],p=c[2],v=bi(h);if(g===r.userId&&n.path.isEqual(v))return Hi(t).get(p).next(function(_){if(!_)throw Te();Me(_.userId===r.userId),u.push(aa(r.R,_))});d.done()}).next(function(){return u})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new tn(Ge),s=[];return n.forEach(function(u){var c=vn.prefixForPath(r.userId,u.path),f=IDBKeyRange.lowerBound(c),d=ua(t).$t({range:f},function(g,h,p){var v=g[0],_=g[1],E=g[2],A=bi(_);v===r.userId&&u.path.isEqual(A)?o=o.add(E):p.done()});s.push(d)}),oe.waitFor(s).next(function(){return r.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,o=n.path,s=o.length+1,u=vn.prefixForPath(this.userId,o),c=IDBKeyRange.lowerBound(u),f=new tn(Ge);return ua(t).$t({range:c},function(d,g,h){var p=d[0],v=d[1],_=d[2],E=bi(v);p===r.userId&&o.isPrefixOf(E)?E.length===s&&(f=f.add(_)):h.done()}).next(function(){return r.Wt(t,f)})},e.prototype.Wt=function(t,n){var r=this,o=[],s=[];return n.forEach(function(u){s.push(Hi(t).get(u).next(function(c){if(c===null)throw Te();Me(c.userId===r.userId),o.push(aa(r.R,c))}))}),oe.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var r=this;return pN(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),oe.forEach(o,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return oe.resolve();var o=IDBKeyRange.lowerBound(vn.prefixForUser(n.userId)),s=[];return ua(t).$t({range:o},function(u,c,f){if(u[0]===n.userId){var d=bi(u[1]);s.push(d)}else f.done()}).next(function(){Me(s.length===0)})})},e.prototype.containsKey=function(t,n){return mN(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return gN(t).get(this.userId).next(function(r){return r||new co(n.userId,-1,"")})},e}();function mN(e,t,n){var r=vn.prefixForPath(t,n.path),o=r[1],s=IDBKeyRange.lowerBound(r),u=!1;return ua(e).$t({range:s,Ft:!0},function(c,f,d){var g=c[0],h=c[1];c[2],g===t&&h===o&&(u=!0),d.done()}).next(function(){return u})}function Hi(e){return Jn(e,Et.store)}function ua(e){return Jn(e,vn.store)}function gN(e){return Jn(e,co.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bh=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),pj=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var o=new bh(r.highestTargetId);return r.highestTargetId=o.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return He.fromTimestamp(new zn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(o){return o.targetCount+=1,r.ee(n,o),r.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return ia(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(o){return Me(o.targetCount>0),o.targetCount-=1,r.Zt(t,o)})},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return ia(t).$t(function(c,f){var d=Zu(f);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(s++,u.push(o.removeTargetData(t,d)))}).next(function(){return oe.waitFor(u)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return ia(t).$t(function(r,o){var s=Zu(o);n(s)})},e.prototype.Xt=function(t){return IT(t).get(or.key).next(function(n){return Me(n!==null),n})},e.prototype.Zt=function(t,n){return IT(t).put(or.key,n)},e.prototype.te=function(t,n){return ia(t).put(hN(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=nl(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return ia(t).$t({range:o,index:Gn.queryTargetsIndexName},function(u,c,f){var d=Zu(c);cd(n,d.target)&&(s=d,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var o=this,s=[],u=to(t);return n.forEach(function(c){var f=Mr(c.path);s.push(u.put(new fn(r,f))),s.push(o.referenceDelegate.addReference(t,r,c))}),oe.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var o=this,s=to(t);return oe.forEach(n,function(u){var c=Mr(u.path);return oe.waitFor([s.delete([r,c]),o.referenceDelegate.removeReference(t,r,u)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=to(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),o=to(t),s=_t();return o.$t({range:r,Ft:!0},function(u,c,f){var d=bi(u[1]),g=new Ae(d);s=s.add(g)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=Mr(n.path),o=IDBKeyRange.bound([r],[Ck(r)],!1,!0),s=0;return to(t).$t({index:fn.documentTargetsIndex,Ft:!0,range:o},function(u,c,f){var d=u[0];u[1],d!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return ia(t).get(n).next(function(r){return r?Zu(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(e){return Jn(e,Gn.store)}function IT(e){return Jn(e,or.store)}function to(e){return Jn(e,fn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(e){return Q(this,void 0,void 0,function(){return Y(this,function(t){if(e.code!==H.FAILED_PRECONDITION||e.message!==aN)throw e;return ue("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(e,t){var n=e[0],r=e[1],o=t[0],s=t[1],u=Ge(n,o);return u===0?Ge(r,s):u}var mj=function(){function e(t){this.ne=t,this.buffer=new tn(TT),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();TT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),gj=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;ue("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return Q(n,void 0,void 0,function(){var o;return Y(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return ks(o=s.sent())?(ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Ns(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),vj=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return oe.resolve(ar.o);var o=new mj(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(ET)):this.getCacheSize(t).next(function(o){return o<r.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),ET):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,o,s,u,c,f,d,g=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(p){return p>g.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+g.params.maximumSequenceNumbersToCollect+" from "+p),o=g.params.maximumSequenceNumbersToCollect):o=p,u=Date.now(),g.nthSequenceNumber(t,o)}).next(function(p){return r=p,c=Date.now(),g.removeTargets(t,r,n)}).next(function(p){return s=p,f=Date.now(),g.removeOrphanedDocuments(t,r)}).next(function(p){return d=Date.now(),wv()<=nt.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(u-h)+`ms
	Determined least recently used `+o+" in "+(c-u)+`ms
	Removed `+s+" targets in "+(f-c)+`ms
	Removed `+p+" documents in "+(d-f)+`ms
Total Duration: `+(d-h)+"ms"),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:p})})},e}(),yj=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,o){return new vj(r,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(o){return r+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,o){return n(o)})},e.prototype.addReference=function(t,n,r){return Cf(t,r)},e.prototype.removeReference=function(t,n,r){return Cf(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Cf(t,n)},e.prototype._e=function(t,n){return function(r,o){var s=!1;return gN(r).Ot(function(u){return mN(r,u,o).next(function(c){return c&&(s=!0),oe.resolve(!c)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],u=0;return this.we(t,function(c,f){if(f<=n){var d=r._e(t,c).next(function(g){if(!g)return u++,o.getEntry(t,c).next(function(){return o.removeEntry(c),to(t).delete([0,Mr(c.path)])})});s.push(d)}}).next(function(){return oe.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return u})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Cf(t,n)},e.prototype.we=function(t,n){var r,o=to(t),s=ar.o;return o.$t({index:fn.documentTargetsIndex},function(u,c){var f=u[0];u[1];var d=c.path,g=c.sequenceNumber;f===0?(s!==ar.o&&n(new Ae(bi(r)),s),s=g,r=d):s=ar.o}).next(function(){s!==ar.o&&n(new Ae(bi(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Cf(e,t){return to(e).put(function(n,r){return new fn(0,Mr(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ja=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var o=0,s=r;o<s.length;o++){var u=s[o],c=u[0],f=u[1];if(this.equalsFn(c,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),!0;return!1},e.prototype.forEach=function(t){Ss(this.inner,function(n,r){for(var o=0,s=r;o<s.length;o++){var u=s[o],c=u[0],f=u[1];t(c,f)}})},e.prototype.isEmpty=function(){return Ok(this.inner)},e}(),vN=function(){function e(){this.changes=new Ja(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:He.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:In.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?oe.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),_j=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Qi(t).put(Of(n),r)},e.prototype.removeEntry=function(t,n){var r=Qi(t),o=Of(n);return r.delete(o)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,r.me(t,o)})},e.prototype.getEntry=function(t,n){var r=this;return Qi(t).get(Of(n)).next(function(o){return r.ye(n,o)})},e.prototype.ge=function(t,n){var r=this;return Qi(t).get(Of(n)).next(function(o){return{document:r.ye(n,o),size:_h(o)}})},e.prototype.getEntries=function(t,n){var r=this,o=Lr();return this.pe(t,n,function(s,u){var c=r.ye(s,u);o=o.insert(s,c)}).next(function(){return o})},e.prototype.Ee=function(t,n){var r=this,o=Lr(),s=new Tn(Ae.comparator);return this.pe(t,n,function(u,c){var f=r.ye(u,c);o=o.insert(u,f),s=s.insert(u,_h(c))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return oe.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),u=s.getNext();return Qi(t).$t({range:o},function(c,f,d){for(var g=Ae.fromSegments(c);u&&Ae.comparator(u,g)<0;)r(u,null),u=s.getNext();u&&u.isEqual(g)&&(r(u,f),u=s.hasNext()?s.getNext():null),u?d.Ct(u.path.toArray()):d.done()}).next(function(){for(;u;)r(u,null),u=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var o=this,s=Lr(),u=n.path.length+1,c={};if(r.isEqual(He.min())){var f=n.path.toArray();c.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),g=v_(r);c.range=IDBKeyRange.lowerBound([d,g],!0),c.index=Mt.collectionReadTimeIndex}return Qi(t).$t(c,function(h,p,v){if(h.length===u){var _=Nv(o.R,p);n.path.isPrefixOf(_.key.path)?ol(n,_)&&(s=s.insert(_.key,_)):v.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new bj(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return ST(t).get(ni.key).next(function(n){return Me(!!n),n})},e.prototype.me=function(t,n){return ST(t).put(ni.key,n)},e.prototype.ye=function(t,n){if(n){var r=Nv(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(He.min()))return r}return In.newInvalidDocument(t)},e}(),bj=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=r,o.Ae=new Ja(function(s){return s.toString()},function(s,u){return s.isEqual(u)}),o}return Re(t,e),t.prototype.applyChanges=function(n){var r=this,o=[],s=0,u=new tn(function(c,f){return Ge(c.canonicalString(),f.canonicalString())});return this.changes.forEach(function(c,f){var d=r.Ae.get(c);if(f.document.isValidDocument()){var g=yT(r.Ie.R,f.document,r.getReadTime(c));u=u.add(c.path.popLast());var h=_h(g);s+=h-d,o.push(r.Ie.addEntry(n,c,g))}else if(s-=d,r.trackRemovals){var p=yT(r.Ie.R,In.newNoDocument(c,He.min()),r.getReadTime(c));o.push(r.Ie.addEntry(n,c,p))}else o.push(r.Ie.removeEntry(n,c))}),u.forEach(function(c){o.push(r.Ie.Ut.addToCollectionParentIndex(n,c))}),o.push(this.Ie.updateMetadata(n,s)),oe.waitFor(o)},t.prototype.getFromCache=function(n,r){var o=this;return this.Ie.ge(n,r).next(function(s){return o.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var o=this;return this.Ie.Ee(n,r).next(function(s){var u=s.documents;return s.Te.forEach(function(c,f){o.Ae.set(c,f)}),u})},t}(vN);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(e){return Jn(e,ni.store)}function Qi(e){return Jn(e,Mt.store)}function Of(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wj=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,o){var s=this;Me(r<o&&r>=0&&o<=11);var u=new cN("createOrUpgrade",n);r<1&&o>=1&&(function(f){f.createObjectStore(ir.store)}(t),function(f){f.createObjectStore(co.store,{keyPath:co.keyPath}),f.createObjectStore(Et.store,{keyPath:Et.keyPath,autoIncrement:!0}).createIndex(Et.userMutationsIndex,Et.userMutationsKeyPath,{unique:!0}),f.createObjectStore(vn.store)}(t),AT(t),function(f){f.createObjectStore(Mt.store)}(t));var c=oe.resolve();return r<3&&o>=3&&(r!==0&&(function(f){f.deleteObjectStore(fn.store),f.deleteObjectStore(Gn.store),f.deleteObjectStore(or.store)}(t),AT(t)),c=c.next(function(){return function(f){var d=f.store(or.store),g=new or(0,0,He.min().toTimestamp(),0);return d.put(or.key,g)}(u)})),r<4&&o>=4&&(r!==0&&(c=c.next(function(){return function(f,d){return d.store(Et.store).Nt().next(function(g){f.deleteObjectStore(Et.store),f.createObjectStore(Et.store,{keyPath:Et.keyPath,autoIncrement:!0}).createIndex(Et.userMutationsIndex,Et.userMutationsKeyPath,{unique:!0});var h=d.store(Et.store),p=g.map(function(v){return h.put(v)});return oe.waitFor(p)})}(t,u)})),c=c.next(function(){(function(f){f.createObjectStore(Ei.store,{keyPath:Ei.keyPath})})(t)})),r<5&&o>=5&&(c=c.next(function(){return s.Re(u)})),r<6&&o>=6&&(c=c.next(function(){return function(f){f.createObjectStore(ni.store)}(t),s.be(u)})),r<7&&o>=7&&(c=c.next(function(){return s.ve(u)})),r<8&&o>=8&&(c=c.next(function(){return s.Pe(t,u)})),r<9&&o>=9&&(c=c.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var d=f.objectStore(Mt.store);d.createIndex(Mt.readTimeIndex,Mt.readTimeIndexPath,{unique:!1}),d.createIndex(Mt.collectionReadTimeIndex,Mt.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&o>=10&&(c=c.next(function(){return s.Ve(u)})),r<11&&o>=11&&(c=c.next(function(){(function(f){f.createObjectStore(Da.store,{keyPath:Da.keyPath})})(t),function(f){f.createObjectStore(La.store,{keyPath:La.keyPath})}(t)})),c},e.prototype.be=function(t){var n=0;return t.store(Mt.store).$t(function(r,o){n+=_h(o)}).next(function(){var r=new ni(n);return t.store(ni.store).put(ni.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(co.store),o=t.store(Et.store);return r.Nt().next(function(s){return oe.forEach(s,function(u){var c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.Nt(Et.userMutationsIndex,c).next(function(f){return oe.forEach(f,function(d){Me(d.userId===u.userId);var g=aa(n.R,d);return pN(t,u.userId,g).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(fn.store),r=t.store(Mt.store);return t.store(or.store).get(or.key).next(function(o){var s=[];return r.$t(function(u,c){var f=new it(u),d=function(g){return[0,Mr(g)]}(f);s.push(n.get(d).next(function(g){return g?oe.resolve():function(h){return n.put(new fn(0,Mr(h),o.highestListenSequenceNumber))}(f)}))}).next(function(){return oe.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(ls.store,{keyPath:ls.keyPath});var r=n.store(ls.store),o=new y_,s=function(u){if(o.add(u)){var c=u.lastSegment(),f=u.popLast();return r.put({collectionId:c,parent:Mr(f)})}};return n.store(Mt.store).$t({Ft:!0},function(u,c){var f=new it(u);return s(f.popLast())}).next(function(){return n.store(vn.store).$t({Ft:!0},function(u,c){u[0];var f=u[1];u[2];var d=bi(f);return s(d.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(Gn.store);return r.$t(function(o,s){var u=Zu(s),c=hN(n.R,u);return r.put(c)})},e}();function AT(e){e.createObjectStore(fn.store,{keyPath:fn.keyPath}).createIndex(fn.documentTargetsIndex,fn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Gn.store,{keyPath:Gn.keyPath}).createIndex(Gn.queryTargetsIndexName,Gn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(or.store)}var Rg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ej=function(){function e(t,n,r,o,s,u,c,f,d,g){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=u,this.document=c,this.De=d,this.Ce=g,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(h){return Promise.resolve()},!e.yt())throw new te(H.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yj(this,o),this.Le=n+"main",this.R=new lN(f),this.Be=new Ma(this.Le,11,new wj(this.R)),this.qe=new pj(this.referenceDelegate,this.R),this.Ut=new hj,this.Ue=function(h,p){return new _j(h,p)}(this.R,this.Ut),this.Ke=new lj,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,g===!1&&Kt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new te(H.FAILED_PRECONDITION,Rg);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new ar(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return Q(n,void 0,void 0,function(){return Y(this,function(o){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return Q(n,void 0,void 0,function(){return Y(this,function(o){switch(o.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Q(n,void 0,void 0,function(){return Y(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Rf(n).put(new Ei(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(ks(n))return ue("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Hu(t).get(ir.key).next(function(r){return oe.resolve(n.tn(r))})},e.prototype.en=function(t){return Rf(t).delete(this.clientId)},e.prototype.nn=function(){return Q(this,void 0,void 0,function(){var t,n,r,o,s=this;return Y(this,function(u){switch(u.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(c){var f=Jn(c,Ei.store);return f.Nt().next(function(d){var g=s.rn(d,18e5),h=d.filter(function(p){return g.indexOf(p)===-1});return oe.forEach(h,function(p){return f.delete(p.clientId)}).next(function(){return h})})}).catch(function(){return[]})]);case 1:if(t=u.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)o=r[n],this.Qe.removeItem(this.on(o.clientId));u.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?oe.resolve(!0):Hu(t).get(ir.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new te(H.FAILED_PRECONDITION,Rg);return!1}}return!(!n.networkEnabled||!n.inForeground)||Rf(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var u=!n.networkEnabled&&s.networkEnabled,c=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(u||c&&f)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&ue("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return Q(this,void 0,void 0,function(){var t=this;return Y(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ir.store,Ei.store],function(r){var o=new vT(r,ar.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(o){return r.sn(o.updateTimeMs,n)&&!r.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Rf(n).Nt().next(function(r){return t.rn(r,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return dj.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;ue("IndexedDbPersistence","Starting transaction:",t);var s,u=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,u,sj,function(c){return s=new vT(c,o.Ne?o.Ne.next():ar.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw Kt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new te(H.FAILED_PRECONDITION,aN);return r(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return r(s)})}).then(function(c){return s.raiseOnCommittedEvent(),c})},e.prototype.dn=function(t){var n=this;return Hu(t).get(ir.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new te(H.FAILED_PRECONDITION,Rg)})},e.prototype.Ze=function(t){var n=new ir(this.clientId,this.allowTabSynchronization,Date.now());return Hu(t).put(ir.key,n)},e.yt=function(){return Ma.yt()},e.prototype.Xe=function(t){var n=this,r=Hu(t);return r.get(ir.key).next(function(o){return n.tn(o)?(ue("IndexedDbPersistence","Releasing primary lease."),r.delete(ir.key)):oe.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Kt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),CF()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return ue("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(o){return Kt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Kt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Hu(e){return Jn(e,ir.store)}function Rf(e){return Jn(e,Ei.store)}function __(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var yN=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return r.yn(t,n,o)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,u=r;s<u.length;s++)u[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(r,o){for(var s=0,u=n;s<u.length;s++)u[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(o){return r.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return r.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(o){return Ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):l_(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new Ae(n)).next(function(r){var o=Av();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})},e.prototype.In=function(t,n,r){var o=this,s=n.collectionGroup,u=Av();return this.Ut.getCollectionParents(t,s).next(function(c){return oe.forEach(c,function(f){var d=function(g,h){return new Oi(h,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,f.child(s));return o.An(t,d,r).next(function(g){g.forEach(function(h,p){u=u.insert(h,p)})})}).next(function(){return u})})},e.prototype.An=function(t,n,r){var o,s,u=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(c){return o=c,u._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(c){return s=c,u.Rn(t,s,o).next(function(f){o=f;for(var d=0,g=s;d<g.length;d++)for(var h=g[d],p=0,v=h.mutations;p<v.length;p++){var _=v[p],E=_.key,A=o.get(E);A==null&&(A=In.newInvalidDocument(E),o=o.insert(E,A)),Sv(_,A,h.localWriteTime),A.isFoundDocument()||(o=o.remove(E))}})}).next(function(){return o.forEach(function(c,f){ol(n,f)||(o=o.remove(c))}),o})},e.prototype.Rn=function(t,n,r){for(var o=_t(),s=0,u=n;s<u.length;s++)for(var c=0,f=u[s].mutations;c<f.length;c++){var d=f[c];d instanceof _o&&r.get(d.key)===null&&(o=o.add(d.key))}var g=r;return this.Ue.getEntries(t,o).next(function(h){return h.forEach(function(p,v){v.isFoundDocument()&&(g=g.insert(p,v))}),g})},e}(),Ij=function(){function e(t,n,r,o){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=o}return e.Pn=function(t,n){for(var r=_t(),o=_t(),s=0,u=n.docChanges;s<u.length;s++){var c=u[s];switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),_N=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,o){var s=this;return function(u){return u.filters.length===0&&u.limit===null&&u.startAt==null&&u.endAt==null&&(u.explicitOrderBy.length===0||u.explicitOrderBy.length===1&&u.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(He.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(u){var c=s.Cn(n,u);return(Hf(n)||vh(n))&&s.Nn(n.limitType,c,o,r)?s.Dn(t,n):(wv()<=nt.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Tv(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(f){return c.forEach(function(d){f=f.insert(d.key,d)}),f}))})},e.prototype.Cn=function(t,n){var r=new tn(Vk(t));return n.forEach(function(o,s){ol(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,o){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return wv()<=nt.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Tv(n)),this.Sn.getDocumentsMatchingQuery(t,n,He.min())},e}(),Tj=function(){function e(t,n,r,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new Tn(Ge),this.Fn=new Ja(function(s){return nl(s)},cd),this.$n=He.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new yN(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(e,t,n,r){return new Tj(e,t,n,r)}function wN(e,t){return Q(this,void 0,void 0,function(){var n,r,o,s;return Y(this,function(u){switch(u.label){case 0:return n=pe(e),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(c){var f;return n._n.getAllMutationBatches(c).next(function(d){return f=d,r=n.persistence.getMutationQueue(t),o=new yN(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(c)}).next(function(d){for(var g=[],h=[],p=_t(),v=0,_=f;v<_.length;v++){var E=_[v];g.push(E.batchId);for(var A=0,b=E.mutations;A<b.length;A++){var k=b[A];p=p.add(k.key)}}for(var D=0,R=d;D<R.length;D++){var M=R[D];h.push(M.batchId);for(var F=0,K=M.mutations;F<K.length;F++){var V=K[F];p=p.add(V.key)}}return o.pn(c,p).next(function(q){return{Ln:q,removedBatchIds:g,addedBatchIds:h}})})})];case 1:return s=u.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function Sj(e,t){var n=pe(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(u,c,f,d){var g=f.batch,h=g.keys(),p=oe.resolve();return h.forEach(function(v){p=p.next(function(){return d.getEntry(c,v)}).next(function(_){var E=f.docVersions.get(v);Me(E!==null),_.version.compareTo(E)<0&&(g.applyToRemoteDocument(_,f),_.isValidDocument()&&d.addEntry(_,f.commitVersion))})}),p.next(function(){return u._n.removeMutationBatch(c,g)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,o)})})}function EN(e){var t=pe(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function Aj(e,t){var n=pe(e),r=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var u=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var c=[];t.targetChanges.forEach(function(g,h){var p=o.get(h);if(p){c.push(n.qe.removeMatchingKeys(s,g.removedDocuments,h).next(function(){return n.qe.addMatchingKeys(s,g.addedDocuments,h)}));var v=g.resumeToken;if(v.approximateByteSize()>0){var _=p.withResumeToken(v,r).withSequenceNumber(s.currentSequenceNumber);o=o.insert(h,_),function(E,A,b){return Me(A.resumeToken.approximateByteSize()>0),E.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,_,g)&&c.push(n.qe.updateTargetData(s,_))}}});var f=Lr();if(t.documentUpdates.forEach(function(g,h){t.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))}),c.push(kj(s,u,t.documentUpdates,r,void 0).next(function(g){f=g})),!r.isEqual(He.min())){var d=n.qe.getLastRemoteSnapshotVersion(s).next(function(g){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});c.push(d)}return oe.waitFor(c).next(function(){return u.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.kn=o,s})}function kj(e,t,n,r,o){var s=_t();return n.forEach(function(u){return s=s.add(u)}),t.getEntries(e,s).next(function(u){var c=Lr();return n.forEach(function(f,d){var g=u.get(f),h=(o==null?void 0:o.get(f))||r;d.isNoDocument()&&d.version.isEqual(He.min())?(t.removeEntry(f,h),c=c.insert(f,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(d,h),c=c.insert(f,d)):ue("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",d.version)}),c})}function Nj(e,t){var n=pe(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function wh(e,t){var n=pe(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var o;return n.qe.getTargetData(r,t).next(function(s){return s?(o=s,oe.resolve(o)):n.qe.allocateTargetId(r).next(function(u){return o=new dd(t,u,0,r.currentSequenceNumber),n.qe.addTargetData(r,o).next(function(){return o})})})}).then(function(r){var o=n.kn.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function Va(e,t,n){return Q(this,void 0,void 0,function(){var r,o,s,u;return Y(this,function(c){switch(c.label){case 0:r=pe(e),o=r.kn.get(t),s=n?"readwrite":"readwrite-primary",c.label=1;case 1:return c.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(f){return r.persistence.referenceDelegate.removeTarget(f,o)})];case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:if(!ks(u=c.sent()))throw u;return ue("LocalStore","Failed to update sequence numbers for target "+t+": "+u),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(o.target),[2]}})})}function Eh(e,t,n){var r=pe(e),o=He.min(),s=_t();return r.persistence.runTransaction("Execute query","readonly",function(u){return function(c,f,d){var g=pe(c),h=g.Fn.get(d);return h!==void 0?oe.resolve(g.kn.get(h)):g.qe.getTargetData(f,d)}(r,u,ci(t)).next(function(c){if(c)return o=c.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(u,c.targetId).next(function(f){s=f})}).next(function(){return r.xn.getDocumentsMatchingQuery(u,t,n?o:He.min(),n?s:_t())}).next(function(c){return{documents:c,Bn:s}})})}function IN(e,t){var n=pe(e),r=pe(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(u){return u?u.target:null})})}function TN(e){var t=pe(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,o,s){var u=pe(r),c=Lr(),f=v_(s),d=Qi(o),g=IDBKeyRange.lowerBound(f,!0);return d.$t({index:Mt.readTimeIndex,range:g},function(h,p){var v=Nv(u.R,p);c=c.insert(v.key,v),f=p.readTime}).next(function(){return{wn:c,readTime:fN(f)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,o=n.readTime;return t.$n=o,r})}function Cj(e){return Q(this,void 0,void 0,function(){var t;return Y(this,function(n){return[2,(t=pe(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(o){var s=Qi(o),u=He.min();return s.$t({index:Mt.readTimeIndex,reverse:!0},function(c,f,d){f.readTime&&(u=fN(f.readTime)),d.done()}).next(function(){return u})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oj=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return oe.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Fn(r.createTime)}),oe.resolve()},e.prototype.getNamedQuery=function(t,n){return oe.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:dN(r.bundledQuery),readTime:Fn(r.readTime)}}(n)),oe.resolve()},e}(),b_=function(){function e(){this.Wn=new tn(on.Gn),this.zn=new tn(on.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new on(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(o){return r.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new on(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(o){return r.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,r=new Ae(new it([])),o=new on(r,t),s=new on(r,t+1),u=[];return this.zn.forEachInRange([o,s],function(c){n.Yn(c),u.push(c.key)}),u},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new Ae(new it([])),r=new on(n,t),o=new on(n,t+1),s=_t();return this.zn.forEachInRange([r,o],function(u){s=s.add(u.key)}),s},e.prototype.containsKey=function(t){var n=new on(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),on=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return Ae.comparator(t.key,n.key)||Ge(t.ns,n.ns)},e.Hn=function(t,n){return Ge(t.ns,n.ns)||Ae.comparator(t.key,n.key)},e}(),Rj=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new tn(on.Gn)}return e.prototype.checkEmpty=function(t){return oe.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var u=new g_(s,n,r,o);this._n.push(u);for(var c=0,f=o;c<f.length;c++){var d=f[c];this.rs=this.rs.add(new on(d.key,s)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return oe.resolve(u)},e.prototype.lookupMutationBatch=function(t,n){return oe.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,o=this.cs(r),s=o<0?0:o;return oe.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return oe.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return oe.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=new on(n,0),s=new on(n,Number.POSITIVE_INFINITY),u=[];return this.rs.forEachInRange([o,s],function(c){var f=r.os(c.ns);u.push(f)}),oe.resolve(u)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new tn(Ge);return n.forEach(function(s){var u=new on(s,0),c=new on(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([u,c],function(f){o=o.add(f.ns)})}),oe.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,o=r.length+1,s=r;Ae.isDocumentKey(s)||(s=s.child(""));var u=new on(new Ae(s),0),c=new tn(Ge);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===o&&(c=c.add(f.ns)),!0)},u),oe.resolve(this.us(c))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(o){var s=n.os(o);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;Me(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return oe.forEach(n.mutations,function(s){var u=new on(s.key,n.batchId);return o=o.delete(u),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new on(n,0),o=this.rs.firstAfterOrEqual(r);return oe.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,oe.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),xj=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Tn(Ae.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var o=n.key,s=this.docs.get(o),u=s?s.size:0,c=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:c,readTime:r}),this.size+=c-u,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return oe.resolve(r?r.document.clone():In.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,o=Lr();return n.forEach(function(s){var u=r.docs.get(s);o=o.insert(s,u?u.document.clone():In.newInvalidDocument(s))}),oe.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var o=Lr(),s=new Ae(n.path.child("")),u=this.docs.getIteratorFrom(s);u.hasNext();){var c=u.getNext(),f=c.key,d=c.value,g=d.document,h=d.readTime;if(!n.path.isPrefixOf(f.path))break;h.compareTo(r)<=0||ol(n,g)&&(o=o.insert(g.key,g.clone()))}return oe.resolve(o)},e.prototype.fs=function(t,n){return oe.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new Pj(this)},e.prototype.getSize=function(t){return oe.resolve(this.size)},e}(),Pj=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return Re(t,e),t.prototype.applyChanges=function(n){var r=this,o=[];return this.changes.forEach(function(s,u){u.document.isValidDocument()?o.push(r.Ie.addEntry(n,u.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),oe.waitFor(o)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(vN),Dj=function(){function e(t){this.persistence=t,this.ds=new Ja(function(n){return nl(n)},cd),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.ws=0,this._s=new b_,this.targetCount=0,this.ys=bh.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,o){return n(o)}),oe.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return oe.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return oe.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),oe.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),oe.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new bh(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,oe.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),oe.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,oe.resolve()},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return this.ds.forEach(function(c,f){f.sequenceNumber<=n&&r.get(f.targetId)===null&&(o.ds.delete(c),u.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),oe.waitFor(u).next(function(){return s})},e.prototype.getTargetCount=function(t){return oe.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return oe.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),oe.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(u){s.push(o.markPotentiallyOrphaned(t,u))}),oe.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),oe.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return oe.resolve(r)},e.prototype.containsKey=function(t,n){return oe.resolve(this._s.containsKey(n))},e}(),Lj=function(){function e(t,n){var r=this;this.gs={},this.Ne=new ar(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Dj(this),this.Ut=new fj,this.Ue=function(o,s){return new xj(o,function(u){return r.referenceDelegate.ps(u)})}(this.Ut),this.R=new lN(n),this.Ke=new Oj(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new Rj(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;ue("MemoryPersistence","Starting transaction:",t);var s=new Mj(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(u){return o.referenceDelegate.Ts(s).next(function(){return u})}).toPromise().then(function(u){return s.raiseOnCommittedEvent(),u})},e.prototype.Is=function(t,n){return oe.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),Mj=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return Re(t,e),t}(uN),Fj=function(){function e(t){this.persistence=t,this.As=new b_,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Te()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),oe.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),oe.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),oe.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(u){return r.vs.add(u.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.vs,function(o){var s=Ae.fromPath(o);return n.Ps(t,s).next(function(u){u||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(o){o?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return oe.or([function(){return oe.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),ln=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(e,t){return"firestore_clients_"+e+"_"+t}function NT(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function xg(e,t){return"firestore_targets_"+e+"_"+t}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");var CT=function(){function e(t,n,r,o){this.user=t,this.batchId=n,this.state=r,this.error=o}return e.Vs=function(t,n,r){var o,s=JSON.parse(r),u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new te(s.error.code,s.error.message)),u?new e(t,n,s.state,o):(Kt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Pg=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(r=new te(o.error.code,o.error.message)),s?new e(t,o.state,r):(Kt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),OT=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),o=typeof r=="object"&&r.activeTargetIds instanceof Array,s=hd(),u=0;o&&u<r.activeTargetIds.length;++u)o=Pk(r.activeTargetIds[u]),s=s.add(r.activeTargetIds[u]);return o?new e(t,s):(Kt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Uj=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Kt("SharedClientState","Failed to parse online state: "+t),null)},e}(),Cv=function(){function e(){this.activeTargetIds=hd()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Dg=function(){function e(t,n,r,o,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Tn(Ge),this.started=!1,this.$s=[];var u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=kT(this.persistenceKey,this.Ns),this.Ms=function(c){return"firestore_sequence_number_"+c}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Cv),this.Ls=new RegExp("^firestore_clients_"+u+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+u+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+u+"_(\\d+)$"),this.Us=function(c){return"firestore_online_state_"+c}(this.persistenceKey),this.Ks=function(c){return"firestore_bundle_loaded_"+c}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return Q(this,void 0,void 0,function(){var t,n,r,o,s,u,c,f,d,g,h,p=this;return Y(this,function(v){switch(v.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=v.sent(),n=0,r=t;n<r.length;n++)(o=r[n])!==this.Ns&&(s=this.getItem(kT(this.persistenceKey,o)))&&(u=OT.Vs(o,s))&&(this.Fs=this.Fs.insert(u.clientId,u));for(this.Qs(),(c=this.storage.getItem(this.Us))&&(f=this.js(c))&&this.Ws(f),d=0,g=this.$s;d<g.length;d++)h=g[d],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",function(){return p.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(xg(this.persistenceKey,t));if(r){var o=Pg.Vs(t,r);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(xg(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,r.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return ue("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){ue("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){ue("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Kt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Q(n,void 0,void 0,function(){var o,s,u,c,f,d;return Y(this,function(g){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return o=this.ti(r.key),[2,this.ei(o,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(u=this.si(r.key,r.newValue)))return[2,this.ii(u)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(c=this.ri(r.key,r.newValue)))return[2,this.oi(c)]}else if(r.key===this.Us){if(r.newValue!==null&&(f=this.js(r.newValue)))return[2,this.Ws(f)]}else if(r.key===this.Ms)(d=function(h){var p=ar.o;if(h!=null)try{var v=JSON.parse(h);Me(typeof v=="number"),p=v}catch(_){Kt("SharedClientState","Failed to read sequence number from WebStorage",_)}return p}(r.newValue))!==ar.o&&this.sequenceNumberHandler(d);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var o=new CT(this.currentUser,t,n,r),s=NT(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=NT(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var o=xg(this.persistenceKey,t),s=new Pg(t,n,r);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return OT.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),o=Number(r[1]),s=r[2]!==void 0?r[2]:null;return CT.Vs(new ln(s),o,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),o=Number(r[1]);return Pg.Vs(o,n)},e.prototype.js=function(t){return Uj.Vs(t)},e.prototype.ii=function(t){return Q(this,void 0,void 0,function(){return Y(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ue("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),u=this.Gs(o),c=[],f=[];return u.forEach(function(d){s.has(d)||c.push(d)}),s.forEach(function(d){u.has(d)||f.push(d)}),this.syncEngine.hi(c,f).then(function(){r.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=hd();return t.forEach(function(r,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),SN=function(){function e(){this.li=new Cv,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Cv,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),Vj=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),RT=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),jj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Bj=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),qj=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return Re(t,e),t.prototype.Fi=function(n,r,o,s){return new Promise(function(u,c){var f=new _V;f.listenOnce(gV.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Og.NO_ERROR:var g=f.getResponseJson();ue("Connection","XHR received:",JSON.stringify(g)),u(g);break;case Og.TIMEOUT:ue("Connection",'RPC "'+n+'" timed out'),c(new te(H.DEADLINE_EXCEEDED,"Request time out"));break;case Og.HTTP_ERROR:var h=f.getStatus();if(ue("Connection",'RPC "'+n+'" failed with status:',h,"response text:",f.getResponseText()),h>0){var p=f.getResponseJson().error;if(p&&p.status&&p.message){var v=function(_){var E=_.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(E)>=0?E:H.UNKNOWN}(p.status);c(new te(v,p.message))}else c(new te(H.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new te(H.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ue("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(s);f.send(r,"POST",d,o,15)})},t.prototype.Oi=function(n,r){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=pV(),u=mV(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new yV({})),this.ki(c.initMessageHeaders,r),EF()||SF()||AF()||kF()||NF()||TF()||(c.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");ue("Connection","Creating WebChannel: "+f,c);var d=s.createWebChannel(f,c),g=!1,h=!1,p=new Bj({Ei:function(_){h?ue("Connection","Not sending because WebChannel is closed:",_):(g||(ue("Connection","Opening WebChannel transport."),d.open(),g=!0),ue("Connection","WebChannel sending:",_),d.send(_))},Ti:function(){return d.close()}}),v=function(_,E,A){_.listen(E,function(b){try{A(b)}catch(k){setTimeout(function(){throw k},0)}})};return v(d,kf.EventType.OPEN,function(){h||ue("Connection","WebChannel transport opened.")}),v(d,kf.EventType.CLOSE,function(){h||(h=!0,ue("Connection","WebChannel transport closed"),p.Vi())}),v(d,kf.EventType.ERROR,function(_){h||(h=!0,hh("Connection","WebChannel transport errored:",_),p.Vi(new te(H.UNAVAILABLE,"The operation could not be completed")))}),v(d,kf.EventType.MESSAGE,function(_){var E;if(!h){var A=_.data[0];Me(!!A);var b=A,k=b.error||((E=b[0])===null||E===void 0?void 0:E.error);if(k){ue("Connection","WebChannel received error:",k);var D=k.status,R=function(F){var K=$t[F];if(K!==void 0)return Xk(K)}(D),M=k.message;R===void 0&&(R=H.INTERNAL,M="Unknown error status: "+D+" with message "+k.message),h=!0,p.Vi(new te(R,M)),d.close()}else ue("Connection","WebChannel received:",A),p.Si(A)}}),v(u,vV.STAT_EVENT,function(_){_.stat===zI.PROXY?ue("Connection","Detected buffering proxy"):_.stat===zI.NOPROXY&&ue("Connection","Detected no buffering proxy")}),setTimeout(function(){p.Pi()},0),p},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,o){var s=this.xi(t,n);ue("RestConnection","Sending: ",s,r);var u={};return this.ki(u,o),this.Fi(t,s,u,r).then(function(c){return ue("RestConnection","Received: ",c),c},function(c){throw hh("RestConnection",t+" failed with error: ",c,"url: ",s,"request:",r),c})},e.prototype.$i=function(t,n,r,o){return this.Ni(t,n,r,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=jj[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(){return typeof window<"u"?window:null}function Gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(e){return new zV(e,!0)}var w_=function(){function e(t,n,r,o,s){r===void 0&&(r=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-o);s>0&&ue("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),kN=function(){function e(t,n,r,o,s,u){this.Se=t,this.zi=r,this.Hi=o,this.Ji=s,this.listener=u,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new w_(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return Q(this,void 0,void 0,function(){return Y(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return Q(this,void 0,void 0,function(){return Y(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return Q(this,void 0,void 0,function(){return Y(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Kt(n.toString()),Kt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===H.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(o){t.Yi===r&&t.lr(o)},function(o){n(function(){var s=new te(H.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){r(function(){return n.dr(o)})}),this.stream.onMessage(function(o){r(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Q(t,void 0,void 0,function(){return Y(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return ue("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),$j=function(e){function t(n,r,o,s,u){var c=this;return(c=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,o,u)||this).R=s,c}return Re(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,u){var c;if("targetChange"in u){u.targetChange;var f=function(A){return A==="NO_CHANGE"?0:A==="ADD"?1:A==="REMOVE"?2:A==="CURRENT"?3:A==="RESET"?4:Te()}(u.targetChange.targetChangeType||"NO_CHANGE"),d=u.targetChange.targetIds||[],g=function(A,b){return A.I?(Me(b===void 0||typeof b=="string"),Yn.fromBase64String(b||"")):(Me(b===void 0||b instanceof Uint8Array),Yn.fromUint8Array(b||new Uint8Array))}(s,u.targetChange.resumeToken),h=(p=u.targetChange.cause)&&function(A){var b=A.code===void 0?H.UNKNOWN:Xk(A.code);return new te(b,A.message||"")}(p);c=new Qk(f,d,g,h||null)}else if("documentChange"in u){u.documentChange,(f=u.documentChange).document,f.document.name,f.document.updateTime,d=wi(s,f.document.name),g=Fn(f.document.updateTime);var p=new sr({mapValue:{fields:f.document.fields}}),v=(h=In.newFoundDocument(d,g,p),f.targetIds||[]),_=f.removedTargetIds||[];c=new Kf(v,_,h.key,h)}else if("documentDelete"in u)u.documentDelete,(f=u.documentDelete).document,d=wi(s,f.document),g=f.readTime?Fn(f.readTime):He.min(),p=In.newNoDocument(d,g),h=f.removedTargetIds||[],c=new Kf([],h,p.key,p);else if("documentRemove"in u)u.documentRemove,(f=u.documentRemove).document,d=wi(s,f.document),g=f.removedTargetIds||[],c=new Kf([],g,d,null);else{if(!("filter"in u))return Te();u.filter;var E=u.filter;E.targetId,f=E.count||0,d=new UV(f),g=E.targetId,c=new Yk(g,d)}return c}(this.R,n),o=function(s){if(!("targetChange"in s))return He.min();var u=s.targetChange;return u.targetIds&&u.targetIds.length?He.min():u.readTime?Fn(u.readTime):He.min()}(n);return this.listener._r(r,o)},t.prototype.mr=function(n){var r={};r.database=xc(this.R),r.addTarget=function(s,u){var c,f=u.target;return(c=mh(f)?{documents:nN(s,f)}:{query:rN(s,f)}).targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=Jk(s,u.resumeToken):u.snapshotVersion.compareTo(He.min())>0&&(c.readTime=Oc(s,u.snapshotVersion.toTimestamp())),c}(this.R,n);var o=function(s,u){var c=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Te()}}(0,u.purpose);return c==null?null:{"goog-listen-tags":c}}(this.R,n);o&&(r.labels=o),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=xc(this.R),r.removeTarget=n,this.cr(r)},t}(kN),Hj=function(e){function t(n,r,o,s,u){var c=this;return(c=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,o,u)||this).R=s,c.gr=!1,c}return Re(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Me(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,u){return s&&s.length>0?(Me(u!==void 0),s.map(function(c){return function(f,d){var g=f.updateTime?Fn(f.updateTime):Fn(d);return g.isEqual(He.min())&&(g=Fn(d)),new LV(g,f.transformResults||[])}(c,u)})):[]}(n.writeResults,n.commitTime),o=Fn(n.commitTime);return this.listener.Tr(o,r)}return Me(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=xc(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return yh(r.R,s)})};this.cr(o)},t}(kN),Wj=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=o,s.Rr=!1,s}return Re(t,e),t.prototype.br=function(){if(this.Rr)throw new te(H.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.Ni(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===H.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new te(H.UNKNOWN,u.toString())})},t.prototype.$i=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.$i(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===H.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new te(H.UNKNOWN,u.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),Kj=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Kt(n),this.Vr=!1):ue("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),Gj=function(e,t,n,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(u){n.enqueueAndForget(function(){return Q(s,void 0,void 0,function(){return Y(this,function(c){switch(c.label){case 0:return bo(this)?(ue("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return Q(this,void 0,void 0,function(){var d;return Y(this,function(g){switch(g.label){case 0:return(d=pe(f)).Or.add(4),[4,Za(d)];case 1:return g.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,cl(d)];case 2:return g.sent(),[2]}})})}(this)]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})}),this.Br=new Kj(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(e){return Q(this,void 0,void 0,function(){var t,n;return Y(this,function(r){switch(r.label){case 0:if(!bo(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Za(e){return Q(this,void 0,void 0,function(){var t,n;return Y(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function md(e,t){var n=pe(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),T_(n)?I_(n):tu(n).er()&&E_(n,t))}function Pc(e,t){var n=pe(e),r=tu(n);n.$r.delete(t),r.er()&&NN(n,t),n.$r.size===0&&(r.er()?r.ir():bo(n)&&n.Br.set("Unknown"))}function E_(e,t){e.qr.U(t.targetId),tu(e).mr(t)}function NN(e,t){e.qr.U(t),tu(e).yr(t)}function I_(e){e.qr=new WV({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),tu(e).start(),e.Br.Sr()}function T_(e){return bo(e)&&!tu(e).tr()&&e.$r.size>0}function bo(e){return pe(e).Or.size===0}function CN(e){e.qr=void 0}function zj(e){return Q(this,void 0,void 0,function(){return Y(this,function(t){return e.$r.forEach(function(n,r){E_(e,n)}),[2]})})}function Xj(e,t){return Q(this,void 0,void 0,function(){return Y(this,function(n){return CN(e),T_(e)?(e.Br.Nr(t),I_(e)):e.Br.set("Unknown"),[2]})})}function Yj(e,t,n){return Q(this,void 0,void 0,function(){var r,o,s;return Y(this,function(u){switch(u.label){case 0:if(e.Br.set("Online"),!(t instanceof Qk&&t.state===2&&t.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(c,f){return Q(this,void 0,void 0,function(){var d,g,h,p;return Y(this,function(v){switch(v.label){case 0:d=f.cause,g=0,h=f.targetIds,v.label=1;case 1:return g<h.length?(p=h[g],c.$r.has(p)?[4,c.remoteSyncer.rejectListen(p,d)]:[3,3]):[3,5];case 2:v.sent(),c.$r.delete(p),c.qr.removeTarget(p),v.label=3;case 3:v.label=4;case 4:return g++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),ue("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Ih(e,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Kf?e.qr.X(t):t instanceof Yk?e.qr.rt(t):e.qr.et(t),n.isEqual(He.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,EN(e.localStore)];case 8:return o=u.sent(),n.compareTo(o)>=0?[4,function(c,f){var d=c.qr.ut(f);return d.targetChanges.forEach(function(g,h){if(g.resumeToken.approximateByteSize()>0){var p=c.$r.get(h);p&&c.$r.set(h,p.withResumeToken(g.resumeToken,f))}}),d.targetMismatches.forEach(function(g){var h=c.$r.get(g);if(h){c.$r.set(g,h.withResumeToken(Yn.EMPTY_BYTE_STRING,h.snapshotVersion)),NN(c,g);var p=new dd(h.target,g,1,h.sequenceNumber);E_(c,p)}}),c.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return ue("RemoteStore","Failed to raise snapshot:",s=u.sent()),[4,Ih(e,s)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function Ih(e,t,n){return Q(this,void 0,void 0,function(){var r=this;return Y(this,function(o){switch(o.label){case 0:if(!ks(t))throw t;return e.Or.add(1),[4,Za(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return EN(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return Q(r,void 0,void 0,function(){return Y(this,function(s){switch(s.label){case 0:return ue("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,cl(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function ON(e,t){return t().catch(function(n){return Ih(e,n,t)})}function eu(e){return Q(this,void 0,void 0,function(){var t,n,r,o,s;return Y(this,function(u){switch(u.label){case 0:t=pe(e),n=mo(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,u.label=1;case 1:if(!function(c){return bo(c)&&c.Fr.length<10}(t))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,Nj(t.localStore,r)];case 3:return(o=u.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=o.batchId,function(c,f){c.Fr.push(f);var d=mo(c);d.er()&&d.pr&&d.Er(f.mutations)}(t,o),[3,6]);case 4:return s=u.sent(),[4,Ih(t,s)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return RN(t)&&xN(t),[2]}})})}function RN(e){return bo(e)&&!mo(e).tr()&&e.Fr.length>0}function xN(e){mo(e).start()}function Qj(e){return Q(this,void 0,void 0,function(){return Y(this,function(t){return mo(e).Ar(),[2]})})}function Jj(e){return Q(this,void 0,void 0,function(){var t,n,r,o;return Y(this,function(s){for(t=mo(e),n=0,r=e.Fr;n<r.length;n++)o=r[n],t.Er(o.mutations);return[2]})})}function Zj(e,t,n){return Q(this,void 0,void 0,function(){var r,o;return Y(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),o=cj.from(r,t,n),[4,ON(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,eu(e)];case 2:return s.sent(),[2]}})})}function e2(e,t){return Q(this,void 0,void 0,function(){return Y(this,function(n){switch(n.label){case 0:return t&&mo(e).pr?[4,function(r,o){return Q(this,void 0,void 0,function(){var s,u;return Y(this,function(c){switch(c.label){case 0:return zk(u=o.code)&&u!==H.ABORTED?(s=r.Fr.shift(),mo(r).sr(),[4,ON(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return c.sent(),[4,eu(r)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return RN(e)&&xN(e),[2]}})})}function Ov(e,t){return Q(this,void 0,void 0,function(){var n;return Y(this,function(r){switch(r.label){case 0:return n=pe(e),t?(n.Or.delete(2),[4,cl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Za(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function tu(e){var t=this;return e.Ur||(e.Ur=function(n,r,o){var s=pe(n);return s.br(),new $j(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:zj.bind(null,e),Ri:Xj.bind(null,e),_r:Yj.bind(null,e)}),e.Mr.push(function(n){return Q(t,void 0,void 0,function(){return Y(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),T_(e)?I_(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),CN(e),r.label=3;case 3:return[2]}})})})),e.Ur}function mo(e){var t=this;return e.Kr||(e.Kr=function(n,r,o){var s=pe(n);return s.br(),new Hj(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:Qj.bind(null,e),Ri:e2.bind(null,e),Ir:Jj.bind(null,e),Tr:Zj.bind(null,e)}),e.Mr.push(function(n){return Q(t,void 0,void 0,function(){return Y(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,eu(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(ue("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var t2=function(){function e(t,n,r,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new Qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(u){})}return e.createAndSchedule=function(t,n,r,o,s){var u=new e(t,n,Date.now()+r,o,s);return u.start(r),u},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(H.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function nu(e,t){if(Kt("AsyncQueue",t+": "+e),ks(e))return new te(H.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PN=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||Ae.comparator(n.key,r.key)}:function(n,r){return Ae.comparator(n.key,r.key)},this.keyedMap=Av(),this.sortedSet=new Tn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),xT=function(){function e(){this.Qr=new Tn(Ae.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):Te():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Th=function(){function e(t,n,r,o,s,u,c,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,r,o){var s=[];return n.forEach(function(u){s.push({type:0,doc:u})}),new e(t,n,PN.emptySet(n),s,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&il(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0},e}(),n2=function(){this.Wr=void 0,this.listeners=[]},r2=function(){this.queries=new Ja(function(e){return Uk(e)},il),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(e,t){return Q(this,void 0,void 0,function(){var n,r,o,s,u,c,f;return Y(this,function(d){switch(d.label){case 0:if(n=pe(e),r=t.query,o=!1,(s=n.queries.get(r))||(o=!0,s=new n2),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),u=s,[4,n.onListen(r)];case 2:return u.Wr=d.sent(),[3,4];case 3:return c=d.sent(),f=nu(c,"Initialization of query '"+Tv(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&k_(n),[2]}})})}function A_(e,t){return Q(this,void 0,void 0,function(){var n,r,o,s,u;return Y(this,function(c){return n=pe(e),r=t.query,o=!1,(s=n.queries.get(r))&&(u=s.listeners.indexOf(t))>=0&&(s.listeners.splice(u,1),o=s.listeners.length===0),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function i2(e,t){for(var n=pe(e),r=!1,o=0,s=t;o<s.length;o++){var u=s[o],c=u.query,f=n.queries.get(c);if(f){for(var d=0,g=f.listeners;d<g.length;d++)g[d].Hr(u)&&(r=!0);f.Wr=u}}r&&k_(n)}function o2(e,t,n){var r=pe(e),o=r.queries.get(t);if(o)for(var s=0,u=o.listeners;s<u.length;s++)u[s].onError(n);r.queries.delete(t)}function k_(e){e.Gr.forEach(function(t){t.next()})}var N_=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,o=t.docChanges;r<o.length;r++){var s=o[r];s.type!==3&&n.push(s)}t=new Th(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var u=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),u=!0):this.eo(t,this.onlineState)&&(this.no(t),u=!0),this.Xr=t,u},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Th.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DN=function(e){this.key=e},LN=function(e){this.key=e},MN=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=_t(),this.mutatedKeys=_t(),this.lo=Vk(t),this.fo=new PN(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,o=n?n.mo:new xT,s=n?n.fo:this.fo,u=n?n.mutatedKeys:this.mutatedKeys,c=s,f=!1,d=Hf(this.query)&&s.size===this.query.limit?s.last():null,g=vh(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(p,v){var _=s.get(p),E=ol(r.query,v)?v:null,A=!!_&&r.mutatedKeys.has(_.key),b=!!E&&(E.hasLocalMutations||r.mutatedKeys.has(E.key)&&E.hasCommittedMutations),k=!1;_&&E?_.data.isEqual(E.data)?A!==b&&(o.track({type:3,doc:E}),k=!0):r.yo(_,E)||(o.track({type:2,doc:E}),k=!0,(d&&r.lo(E,d)>0||g&&r.lo(E,g)<0)&&(f=!0)):!_&&E?(o.track({type:0,doc:E}),k=!0):_&&!E&&(o.track({type:1,doc:_}),k=!0,(d||g)&&(f=!0)),k&&(E?(c=c.add(E),u=b?u.add(p):u.delete(p)):(c=c.delete(p),u=u.delete(p)))}),Hf(this.query)||vh(this.query))for(;c.size>this.query.limit;){var h=Hf(this.query)?c.last():c.first();c=c.delete(h.key),u=u.delete(h.key),o.track({type:1,doc:h})}return{fo:c,mo:o,Nn:f,mutatedKeys:u}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var u=t.mo.jr();u.sort(function(g,h){return function(p,v){var _=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return _(p)-_(v)}(g.type,h.type)||o.lo(g.doc,h.doc)}),this.po(r);var c=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,u.length!==0||d?{snapshot:new Th(this.query,t.fo,s,u,t.mutatedKeys,f===0,d,!1),To:c}:{To:c}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new xT,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=_t(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var r=[];return n.forEach(function(o){t.ho.has(o)||r.push(new LN(o))}),this.ho.forEach(function(o){n.has(o)||r.push(new DN(o))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=_t();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Th.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),s2=function(e,t,n){this.query=e,this.targetId=t,this.view=n},a2=function(e){this.key=e,this.bo=!1},u2=function(){function e(t,n,r,o,s,u){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.vo={},this.Po=new Ja(function(c){return Uk(c)},il),this.Vo=new Map,this.So=new Set,this.Do=new Tn(Ae.comparator),this.Co=new Map,this.No=new b_,this.xo={},this.ko=new Map,this.Fo=bh.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function c2(e,t){return Q(this,void 0,void 0,function(){var n,r,o,s,u,c;return Y(this,function(f){switch(f.label){case 0:return n=P_(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,wh(n.localStore,ci(t))];case 2:return u=f.sent(),c=n.sharedClientState.addLocalQueryTarget(u.targetId),r=u.targetId,[4,C_(n,t,r,c==="current")];case 3:o=f.sent(),n.isPrimaryClient&&md(n.remoteStore,u),f.label=4;case 4:return[2,o]}})})}function C_(e,t,n,r){return Q(this,void 0,void 0,function(){var o,s,u,c,f,d;return Y(this,function(g){switch(g.label){case 0:return e.Oo=function(h,p,v){return function(_,E,A,b){return Q(this,void 0,void 0,function(){var k,D,R;return Y(this,function(M){switch(M.label){case 0:return k=E.view._o(A),k.Nn?[4,Eh(_.localStore,E.query,!1).then(function(F){var K=F.documents;return E.view._o(K,k)})]:[3,2];case 1:k=M.sent(),M.label=2;case 2:return D=b&&b.targetChanges.get(E.targetId),R=E.view.applyChanges(k,_.isPrimaryClient,D),[2,(Rv(_,E.targetId,R.To),R.snapshot)]}})})}(e,h,p,v)},[4,Eh(e.localStore,t,!0)];case 1:return o=g.sent(),s=new MN(t,o.Bn),u=s._o(o.documents),c=d_.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),f=s.applyChanges(u,e.isPrimaryClient,c),Rv(e,n,f.To),d=new s2(t,n,s),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function l2(e,t){return Q(this,void 0,void 0,function(){var n,r,o;return Y(this,function(s){switch(s.label){case 0:return n=pe(e),r=n.Po.get(t),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(u){return!il(u,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Va(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Pc(n.remoteStore,r.targetId),ja(n,r.targetId)}).catch(Ns)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return ja(n,r.targetId),[4,Va(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function f2(e,t,n){return Q(this,void 0,void 0,function(){var r,o,s,u;return Y(this,function(c){switch(c.label){case 0:r=D_(e),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,function(f,d){var g,h=pe(f),p=zn.now(),v=d.reduce(function(_,E){return _.add(E.key)},_t());return h.persistence.runTransaction("Locally write mutations","readwrite",function(_){return h.Mn.pn(_,v).next(function(E){g=E;for(var A=[],b=0,k=d;b<k.length;b++){var D=k[b],R=FV(D,g.get(D.key));R!=null&&A.push(new _o(D.key,R,Dk(R.value.mapValue),bn.exists(!0)))}return h._n.addMutationBatch(_,p,A,d)})}).then(function(_){return _.applyToLocalDocumentSet(g),{batchId:_.batchId,changes:g}})}(r.localStore,t)];case 2:return o=c.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(f,d,g){var h=f.xo[f.currentUser.toKey()];h||(h=new Tn(Ge)),h=h.insert(d,g),f.xo[f.currentUser.toKey()]=h}(r,o.batchId,n),[4,wo(r,o.changes)];case 3:return c.sent(),[4,eu(r.remoteStore)];case 4:return c.sent(),[3,6];case 5:return s=c.sent(),u=nu(s,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function FN(e,t){return Q(this,void 0,void 0,function(){var n,r;return Y(this,function(o){switch(o.label){case 0:n=pe(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Aj(n.localStore,t)];case 2:return r=o.sent(),t.targetChanges.forEach(function(s,u){var c=n.Co.get(u);c&&(Me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.bo=!0:s.modifiedDocuments.size>0?Me(c.bo):s.removedDocuments.size>0&&(Me(c.bo),c.bo=!1))}),[4,wo(n,r,t)];case 3:return o.sent(),[3,6];case 4:return[4,Ns(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function PT(e,t,n){var r=pe(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var o=[];r.Po.forEach(function(s,u){var c=u.view.zr(t);c.snapshot&&o.push(c.snapshot)}),function(s,u){var c=pe(s);c.onlineState=u;var f=!1;c.queries.forEach(function(d,g){for(var h=0,p=g.listeners;h<p.length;h++)p[h].zr(u)&&(f=!0)}),f&&k_(c)}(r.eventManager,t),o.length&&r.vo._r(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function h2(e,t,n){return Q(this,void 0,void 0,function(){var r,o,s,u,c,f;return Y(this,function(d){switch(d.label){case 0:return(r=pe(e)).sharedClientState.updateQueryState(t,"rejected",n),o=r.Co.get(t),(s=o&&o.key)?(u=(u=new Tn(Ae.comparator)).insert(s,In.newNoDocument(s,He.min())),c=_t().add(s),f=new h_(He.min(),new Map,new tn(Ge),u,c),[4,FN(r,f)]):[3,2];case 1:return d.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),x_(r),[3,4];case 2:return[4,Va(r.localStore,t,!1).then(function(){return ja(r,t,n)}).catch(Ns)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function d2(e,t){return Q(this,void 0,void 0,function(){var n,r,o;return Y(this,function(s){switch(s.label){case 0:n=pe(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Sj(n.localStore,t)];case 2:return o=s.sent(),R_(n,r,null),O_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,wo(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,Ns(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function p2(e,t,n){return Q(this,void 0,void 0,function(){var r,o;return Y(this,function(s){switch(s.label){case 0:r=pe(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(u,c){var f=pe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var g;return f._n.lookupMutationBatch(d,c).next(function(h){return Me(h!==null),g=h.keys(),f._n.removeMutationBatch(d,h)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,g)})})}(r.localStore,t)];case 2:return o=s.sent(),R_(r,t,n),O_(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,wo(r,o)];case 3:return s.sent(),[3,6];case 4:return[4,Ns(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function m2(e,t){return Q(this,void 0,void 0,function(){var n,r,o,s,u;return Y(this,function(c){switch(c.label){case 0:bo((n=pe(e)).remoteStore)||ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,function(f){var d=pe(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(g){return d._n.getHighestUnacknowledgedBatchId(g)})}(n.localStore)];case 2:return(r=c.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(r)||[]).push(t),n.ko.set(r,o),[3,4]);case 3:return s=c.sent(),u=nu(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(u),[3,4];case 4:return[2]}})})}function O_(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function R_(e,t,n){var r=pe(e),o=r.xo[r.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),r.xo[r.currentUser.toKey()]=o}}function ja(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var s=o[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(u){e.No.containsKey(u)||UN(e,u)})}function UN(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Pc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),x_(e))}function Rv(e,t,n){for(var r=0,o=n;r<o.length;r++){var s=o[r];s instanceof DN?(e.No.addReference(s.key,t),g2(e,s)):s instanceof LN?(ue("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||UN(e,s.key)):Te()}}function g2(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(ue("SyncEngine","New document in limbo: "+n),e.So.add(r),x_(e))}function x_(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Ae(it.fromString(t)),r=e.Fo.next();e.Co.set(r,new a2(n)),e.Do=e.Do.insert(n,r),md(e.remoteStore,new dd(ci(rl(n.path)),r,2,ar.o))}}function wo(e,t,n){return Q(this,void 0,void 0,function(){var r,o,s,u;return Y(this,function(c){switch(c.label){case 0:return r=pe(e),o=[],s=[],u=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(f,d){u.push(r.Oo(d,t,n).then(function(g){if(g){r.isPrimaryClient&&r.sharedClientState.updateQueryState(d.targetId,g.fromCache?"not-current":"current"),o.push(g);var h=Ij.Pn(d.targetId,g);s.push(h)}}))}),[4,Promise.all(u)]);case 1:return c.sent(),r.vo._r(o),[4,function(f,d){return Q(this,void 0,void 0,function(){var g,h,p,v,_,E,A,b,k;return Y(this,function(D){switch(D.label){case 0:g=pe(f),D.label=1;case 1:return D.trys.push([1,3,,4]),[4,g.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(R){return oe.forEach(d,function(M){return oe.forEach(M.bn,function(F){return g.persistence.referenceDelegate.addReference(R,M.targetId,F)}).next(function(){return oe.forEach(M.vn,function(F){return g.persistence.referenceDelegate.removeReference(R,M.targetId,F)})})})})];case 2:return D.sent(),[3,4];case 3:if(!ks(h=D.sent()))throw h;return ue("LocalStore","Failed to update sequence numbers: "+h),[3,4];case 4:for(p=0,v=d;p<v.length;p++)_=v[p],E=_.targetId,_.fromCache||(A=g.kn.get(E),b=A.snapshotVersion,k=A.withLastLimboFreeSnapshotVersion(b),g.kn=g.kn.insert(E,k));return[2]}})})}(r.localStore,s)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function v2(e,t){return Q(this,void 0,void 0,function(){var n,r;return Y(this,function(o){switch(o.label){case 0:return(n=pe(e)).currentUser.isEqual(t)?[3,3]:(ue("SyncEngine","User change. New user:",t.toKey()),[4,wN(n.localStore,t)]);case 1:return r=o.sent(),n.currentUser=t,function(s,u){s.ko.forEach(function(c){c.forEach(function(f){f.reject(new te(H.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,wo(n,r.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function y2(e,t){var n=pe(e),r=n.Co.get(t);if(r&&r.bo)return _t().add(r.key);var o=_t(),s=n.Vo.get(t);if(!s)return o;for(var u=0,c=s;u<c.length;u++){var f=c[u],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function _2(e,t){return Q(this,void 0,void 0,function(){var n,r,o;return Y(this,function(s){switch(s.label){case 0:return[4,Eh((n=pe(e)).localStore,t.query,!0)];case 1:return r=s.sent(),o=t.view.Ao(r),[2,(n.isPrimaryClient&&Rv(n,t.targetId,o.To),o)]}})})}function b2(e){return Q(this,void 0,void 0,function(){var t;return Y(this,function(n){return[2,TN((t=pe(e)).localStore).then(function(r){return wo(t,r)})]})})}function w2(e,t,n,r){return Q(this,void 0,void 0,function(){var o,s;return Y(this,function(u){switch(u.label){case 0:return[4,function(c,f){var d=pe(c),g=pe(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(h){return g.jt(h,f).next(function(p){return p?d.Mn.pn(h,p):oe.resolve(null)})})}((o=pe(e)).localStore,t)];case 1:return(s=u.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,eu(o.remoteStore)];case 2:return u.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(R_(o,t,r||null),O_(o,t),function(c,f){pe(pe(c)._n).Gt(f)}(o.localStore,t)):Te(),u.label=4;case 4:return[4,wo(o,s)];case 5:return u.sent(),[3,7];case 6:ue("SyncEngine","Cannot apply mutation batch with id: "+t),u.label=7;case 7:return[2]}})})}function E2(e,t){return Q(this,void 0,void 0,function(){var n,r,o,s,u,c,f,d;return Y(this,function(g){switch(g.label){case 0:return P_(n=pe(e)),D_(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,DT(n,r.toArray())]);case 1:return o=g.sent(),n.$o=!0,[4,Ov(n.remoteStore,!0)];case 2:for(g.sent(),s=0,u=o;s<u.length;s++)c=u[s],md(n.remoteStore,c);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(h,p){n.sharedClientState.isLocalQueryTarget(p)?f.push(p):d=d.then(function(){return ja(n,p),Va(n.localStore,p,!0)}),Pc(n.remoteStore,p)}),[4,d]);case 4:return g.sent(),[4,DT(n,f)];case 5:return g.sent(),function(h){var p=pe(h);p.Co.forEach(function(v,_){Pc(p.remoteStore,_)}),p.No.ts(),p.Co=new Map,p.Do=new Tn(Ae.comparator)}(n),n.$o=!1,[4,Ov(n.remoteStore,!1)];case 6:g.sent(),g.label=7;case 7:return[2]}})})}function DT(e,t,n){return Q(this,void 0,void 0,function(){var r,o,s,u,c,f,d,g,h,p,v,_,E,A;return Y(this,function(b){switch(b.label){case 0:r=pe(e),o=[],s=[],u=0,c=t,b.label=1;case 1:return u<c.length?(f=c[u],d=void 0,(g=r.Vo.get(f))&&g.length!==0?[4,wh(r.localStore,ci(g[0]))]:[3,7]):[3,13];case 2:d=b.sent(),h=0,p=g,b.label=3;case 3:return h<p.length?(v=p[h],_=r.Po.get(v),[4,_2(r,_)]):[3,6];case 4:(E=b.sent()).snapshot&&s.push(E.snapshot),b.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,IN(r.localStore,f)];case 8:return A=b.sent(),[4,wh(r.localStore,A)];case 9:return d=b.sent(),[4,C_(r,VN(A),f,!1)];case 10:b.sent(),b.label=11;case 11:o.push(d),b.label=12;case 12:return u++,[3,1];case 13:return[2,(r.vo._r(s),o)]}})})}function VN(e){return Mk(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function I2(e){var t=pe(e);return pe(pe(t.localStore).persistence).fn()}function T2(e,t,n,r){return Q(this,void 0,void 0,function(){var o,s,u;return Y(this,function(c){switch(c.label){case 0:return(o=pe(e)).$o?(ue("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,TN(o.localStore)];case 3:return s=c.sent(),u=h_.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,wo(o,s,u)];case 4:return c.sent(),[3,8];case 5:return[4,Va(o.localStore,t,!0)];case 6:return c.sent(),ja(o,t,r),[3,8];case 7:Te(),c.label=8;case 8:return[2]}})})}function S2(e,t,n){return Q(this,void 0,void 0,function(){var r,o,s,u,c,f,d,g,h,p;return Y(this,function(v){switch(v.label){case 0:if(!(r=P_(e)).$o)return[3,10];o=0,s=t,v.label=1;case 1:return o<s.length?(u=s[o],r.Vo.has(u)?(ue("SyncEngine","Adding an already active target "+u),[3,5]):[4,IN(r.localStore,u)]):[3,6];case 2:return c=v.sent(),[4,wh(r.localStore,c)];case 3:return f=v.sent(),[4,C_(r,VN(c),f.targetId,!1)];case 4:v.sent(),md(r.remoteStore,f),v.label=5;case 5:return o++,[3,1];case 6:d=function(_){return Y(this,function(E){switch(E.label){case 0:return r.Vo.has(_)?[4,Va(r.localStore,_,!1).then(function(){Pc(r.remoteStore,_),ja(r,_)}).catch(Ns)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}})},g=0,h=n,v.label=7;case 7:return g<h.length?(p=h[g],[5,d(p)]):[3,10];case 8:v.sent(),v.label=9;case 9:return g++,[3,7];case 10:return[2]}})})}function P_(e){var t=pe(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=FN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=y2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=h2.bind(null,t),t.vo._r=i2.bind(null,t.eventManager),t.vo.Mo=o2.bind(null,t.eventManager),t}function D_(e){var t=pe(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=d2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=p2.bind(null,t),t}var jN=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return Q(this,void 0,void 0,function(){return Y(this,function(n){switch(n.label){case 0:return this.R=pd(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return bN(this.persistence,new _N,t.initialUser,this.R)},e.prototype.qo=function(t){return new Lj(Fj.bs,this.R)},e.prototype.Bo=function(t){return new SN},e.prototype.terminate=function(){return Q(this,void 0,void 0,function(){return Y(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),BN=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=o,s.synchronizeTabs=!1,s}return Re(t,e),t.prototype.initialize=function(n){return Q(this,void 0,void 0,function(){var r=this;return Y(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,Cj(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,D_(this.Qo.syncEngine)];case 4:return o.sent(),[4,eu(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return bN(this.persistence,new _N,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new gj(r,n.asyncQueue)},t.prototype.qo=function(n){var r=__(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Yr.withCacheSize(this.cacheSizeBytes):Yr.DEFAULT;return new Ej(this.synchronizeTabs,r,n.clientId,o,n.asyncQueue,AN(),Gf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new SN},t}(jN),A2=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r,!1)||this).Qo=n,o.cacheSizeBytes=r,o.synchronizeTabs=!0,o}return Re(t,e),t.prototype.initialize=function(n){return Q(this,void 0,void 0,function(){var r,o=this;return Y(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof Dg?(this.sharedClientState.syncEngine={ui:w2.bind(null,r),ai:T2.bind(null,r),hi:S2.bind(null,r),fn:I2.bind(null,r),ci:b2.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(u){return Q(o,void 0,void 0,function(){return Y(this,function(c){switch(c.label){case 0:return[4,E2(this.Qo.syncEngine,u)];case 1:return c.sent(),this.gcScheduler&&(u&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):u||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=AN();if(!Dg.yt(r))throw new te(H.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=__(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Dg(r,n.asyncQueue,o,n.clientId,n.initialUser)},t}(BN),xv=function(){function e(){}return e.prototype.initialize=function(t,n){return Q(this,void 0,void 0,function(){var r=this;return Y(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return PT(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=v2.bind(null,this.syncEngine),[4,Ov(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new r2},e.prototype.createDatastore=function(t){var n,r=pd(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new qj(n));return function(s,u,c){return new Wj(s,u,c)}(t.credentials,o,r)},e.prototype.createRemoteStore=function(t){var n,r,o,s,u,c=this;return n=this.localStore,r=this.datastore,o=t.asyncQueue,s=function(f){return PT(c.syncEngine,f,0)},u=RT.yt()?new RT:new Vj,new Gj(n,r,o,s,u)},e.prototype.createSyncEngine=function(t,n){return function(r,o,s,u,c,f,d){var g=new u2(r,o,s,u,c,f);return d&&(g.$o=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return Q(this,void 0,void 0,function(){var n;return Y(this,function(r){switch(r.label){case 0:return n=pe(t),ue("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Za(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gd=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),k2=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return Q(this,void 0,void 0,function(){var n,r=this;return Y(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new te(H.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,u){return Q(this,void 0,void 0,function(){var c,f,d,g,h,p;return Y(this,function(v){switch(v.label){case 0:return c=pe(s),f=xc(c.R)+"/documents",d={documents:u.map(function(_){return Rc(c.R,_)})},[4,c.$i("BatchGetDocuments",f,d)];case 1:return g=v.sent(),h=new Map,g.forEach(function(_){var E=function(A,b){return"found"in b?function(k,D){Me(!!D.found),D.found.name,D.found.updateTime;var R=wi(k,D.found.name),M=Fn(D.found.updateTime),F=new sr({mapValue:{fields:D.found.fields}});return In.newFoundDocument(R,M,F)}(A,b):"missing"in b?function(k,D){Me(!!D.missing),Me(!!D.readTime);var R=wi(k,D.missing),M=Fn(D.readTime);return In.newNoDocument(R,M)}(A,b):Te()}(c.R,_);h.set(E.key.toString(),E)}),p=[],[2,(u.forEach(function(_){var E=h.get(_.toString());Me(!!E),p.push(E)}),p)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new ul(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return Q(this,void 0,void 0,function(){var t,n=this;return Y(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var u=Ae.fromPath(s);n.mutations.push(new f_(u,n.precondition(u)))}),[4,function(o,s){return Q(this,void 0,void 0,function(){var u,c,f;return Y(this,function(d){switch(d.label){case 0:return u=pe(o),c=xc(u.R)+"/documents",f={writes:s.map(function(g){return yh(u.R,g)})},[4,u.Ni("Commit",c,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Te();n=He.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new te(H.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?bn.updateTime(n):bn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(He.min()))throw new te(H.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bn.updateTime(n)}return bn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),N2=function(){function e(t,n,r,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=o,this.ec=5,this.Zi=new w_(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Q(t,void 0,void 0,function(){var n,r,o=this;return Y(this,function(s){return n=new k2(this.datastore),(r=this.sc(n))&&r.then(function(u){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(u)}).catch(function(c){o.ic(c)})})}).catch(function(u){o.ic(u)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!As(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!zk(n)}return!1},e}(),C2=function(){function e(t,n,r){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ln.UNAUTHENTICATED,this.clientId=Nk.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return Q(o,void 0,void 0,function(){return Y(this,function(u){switch(u.label){case 0:return ue("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return u.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return Q(this,void 0,void 0,function(){return Y(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new te(H.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Q(t,void 0,void 0,function(){var r,o;return Y(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),o=nu(r,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(e,t){return Q(this,void 0,void 0,function(){var n,r,o=this;return Y(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(u){return Q(o,void 0,void 0,function(){return Y(this,function(c){switch(c.label){case 0:return r.isEqual(u)?[3,2]:[4,wN(t.localStore,u)];case 1:c.sent(),r=u,c.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function $N(e,t){return Q(this,void 0,void 0,function(){var n,r;return Y(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,L_(e)];case 1:return n=o.sent(),ue("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(u,c){return Q(this,void 0,void 0,function(){var f,d;return Y(this,function(g){switch(g.label){case 0:return(f=pe(u)).asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials"),d=bo(f),f.Or.add(3),[4,Za(f)];case 1:return g.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(c)];case 2:return g.sent(),f.Or.delete(3),[4,cl(f)];case 3:return g.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function L_(e){return Q(this,void 0,void 0,function(){return Y(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ue("FirestoreClient","Using default OfflineComponentProvider"),[4,qN(e,new jN)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function vd(e){return Q(this,void 0,void 0,function(){return Y(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ue("FirestoreClient","Using default OnlineComponentProvider"),[4,$N(e,new xv)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function LT(e){return L_(e).then(function(t){return t.persistence})}function HN(e){return L_(e).then(function(t){return t.localStore})}function MT(e){return vd(e).then(function(t){return t.remoteStore})}function WN(e){return vd(e).then(function(t){return t.syncEngine})}function Ba(e){return Q(this,void 0,void 0,function(){var t,n;return Y(this,function(r){switch(r.label){case 0:return[4,vd(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=c2.bind(null,t.syncEngine),n.onUnlisten=l2.bind(null,t.syncEngine),n)]}})})}function FT(e,t,n){var r=this;n===void 0&&(n={});var o=new Qn;return e.asyncQueue.enqueueAndForget(function(){return Q(r,void 0,void 0,function(){var s;return Y(this,function(u){switch(u.label){case 0:return s=function(c,f,d,g,h){var p=new gd({next:function(_){f.enqueueAndForget(function(){return A_(c,v)});var E=_.docs.has(d);!E&&_.fromCache?h.reject(new te(H.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&g&&g.source==="server"?h.reject(new te(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),v=new N_(rl(d.path),p,{includeMetadataChanges:!0,so:!0});return S_(c,v)},[4,Ba(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function UT(e,t,n){var r=this;n===void 0&&(n={});var o=new Qn;return e.asyncQueue.enqueueAndForget(function(){return Q(r,void 0,void 0,function(){var s;return Y(this,function(u){switch(u.label){case 0:return s=function(c,f,d,g,h){var p=new gd({next:function(_){f.enqueueAndForget(function(){return A_(c,v)}),_.fromCache&&g.source==="server"?h.reject(new te(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),v=new N_(d,p,{includeMetadataChanges:!0,so:!0});return S_(c,v)},[4,Ba(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var O2=function(e,t,n,r,o,s,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.useFetchStreams=c},Sh=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),VT=new Map,KN=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},jT=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(ln.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),R2=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),x2=function(){function e(t){var n=this;this.currentUser=ln.UNAUTHENTICATED,this.oc=new Qn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(o){ue("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return r(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?r(o):(ue("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(o){return t.cc!==n?(ue("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Me(typeof o.accessToken=="string"),new KN(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Q(r,void 0,void 0,function(){return Y(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Me(t===null||typeof t=="string"),new ln(t)},e}(),P2=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=ln.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),D2=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new P2(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(ln.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(e,t,n){if(!n)throw new te(H.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function F_(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new te(H.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function GN(e,t,n,r){if(t===!0&&r===!0)throw new te(H.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function BT(e){if(!Ae.isDocumentKey(e))throw new te(H.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function qT(e){if(Ae.isDocumentKey(e))throw new te(H.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function yd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":Te()}function st(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new te(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=yd(e);throw new te(H.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function $T(e,t){if(t<=0)throw new te(H.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HT=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new te(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new te(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,GN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Dc=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HT({}),this._settingsFrozen=!1,t instanceof Sh?(this._databaseId=t,this._credentials=new jT):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new te(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sh(r.options.projectId)}(t),this._credentials=new x2(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new te(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new te(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HT(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new jT;switch(n.type){case"gapi":var r=n.client;return Me(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new D2(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new te(H.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=VT.get(t))&&(ue("ComponentProvider","Removing Datastore"),VT.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Pt=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new lo(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),lr=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),lo=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,rl(o))||this)._path=o,s.type="collection",s}return Re(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Pt(this.firestore,null,new Ae(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(lr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=gt(e),M_("collection","path",t),e instanceof Dc)return qT(n=it.fromString.apply(it,kt([t],r))),new lo(e,null,n);if(!(e instanceof Pt||e instanceof lo))throw new te(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return qT(n=it.fromString.apply(it,kt([e.path],r)).child(it.fromString(t))),new lo(e.firestore,null,n)}function zf(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=gt(e),arguments.length===1&&(t=Nk.u()),M_("doc","path",t),e instanceof Dc)return BT(n=it.fromString.apply(it,kt([t],r))),new Pt(e,null,new Ae(n));if(!(e instanceof Pt||e instanceof lo))throw new te(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return BT(n=e._path.child(it.fromString.apply(it,kt([t],r)))),new Pt(e.firestore,e instanceof lo?e.converter:null,new Ae(n))}function XN(e,t){return e=gt(e),t=gt(t),(e instanceof Pt||e instanceof lo)&&(t instanceof Pt||t instanceof lo)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function YN(e,t){return e=gt(e),t=gt(t),e instanceof lr&&t instanceof lr&&e.firestore===t.firestore&&il(e._query,t._query)&&e.converter===t.converter}var L2=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new w_(this,"async_queue_retry"),this.Ic=function(){var r=Gf();r&&ue("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=Gf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=Gf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new Qn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return Q(this,void 0,void 0,function(){var t,n=this;return Y(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ks(t=r.sent()))throw t;return ue("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,Kt("INTERNAL UNHANDLED ERROR: ",function(s){var u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=t2.createAndSchedule(this,t,n,r,function(u){return o.vc(u)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&Te()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return Q(this,void 0,void 0,function(){var t;return Y(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(u,c){return u.targetTimeMs-c.targetTimeMs});for(var r=0,o=n.mc;r<o.length;r++){var s=o[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function qa(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,o=0,s=["next","error","complete"];o<s.length;o++){var u=s[o];if(u in r&&typeof r[u]=="function")return!0}return!1}(e)}var M2=-1,en=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).type="firestore",o._queue=new L2,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Re(t,e),t.prototype._terminate=function(){return this._firestoreClient||QN(this),this._firestoreClient.terminate()},t}(Dc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(e){return e._firestoreClient||QN(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function QN(e){var t,n=e._freezeSettings(),r=function(o,s,u,c){return new O2(o,s,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new C2(e._credentials,e._queue,r)}function WT(e,t,n){var r=this,o=new Qn;return e.asyncQueue.enqueue(function(){return Q(r,void 0,void 0,function(){var s;return Y(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,qN(e,n)];case 1:return u.sent(),[4,$N(e,t)];case 2:return u.sent(),o.resolve(),[3,4];case 3:if(!function(c){return c.name==="FirebaseError"?c.code===H.FAILED_PRECONDITION||c.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(s=u.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function KT(e){if(e._initialized||e._terminated)throw new te(H.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new te(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),ws=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Yn.fromBase64String(t))}catch(n){throw new te(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Yn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Cs=function(e){this._methodName=e},_d=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new te(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new te(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Ge(this._lat,t._lat)||Ge(this._long,t._long)},e}(),F2=/^__.*__$/,U2=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new _o(t,this.data,this.fieldMask,n,this.fieldTransforms):new al(t,this.data,n,this.fieldTransforms)},e}(),JN=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new _o(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}var eC=function(){function e(t,n,r,o,s,u){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Ah(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(ZN(this.Nc)&&F2.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),V2=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||pd(t)}return e.prototype.Uc=function(t,n,r,o){return o===void 0&&(o=!1),new eC({Nc:t,methodName:n,qc:r,path:Fr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Os(e){var t=e._freezeSettings(),n=pd(e._databaseId);return new V2(e._databaseId,!!t.ignoreUndefinedProperties,n)}function bd(e,t,n,r,o,s){s===void 0&&(s={});var u=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);B_("Data must be an object, but it was:",u,r);var c,f,d=rC(r,u);if(s.merge)c=new Na(u.fieldMask),f=u.fieldTransforms;else if(s.mergeFields){for(var g=[],h=0,p=s.mergeFields;h<p.length;h++){var v=Pv(t,p[h],n);if(!u.contains(v))throw new te(H.INVALID_ARGUMENT,"Field '"+v+"' is specified in your field mask but missing from your input data.");oC(g,v)||g.push(v)}c=new Na(g),f=u.fieldTransforms.filter(function(_){return c.covers(_.field)})}else c=null,f=u.fieldTransforms;return new U2(new sr(d),c,f)}var U_=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Re(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Cs);function tC(e,t,n){return new eC({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var j2=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Re(t,e),t.prototype._toFieldTransform=function(n){return new sl(n.path,new xa)},t.prototype.isEqual=function(n){return n instanceof t},t}(Cs),B2=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return Re(t,e),t.prototype._toFieldTransform=function(n){var r=tC(this,n,!0),o=this.Kc.map(function(u){return Rs(u,r)}),s=new _s(o);return new sl(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Cs),q2=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return Re(t,e),t.prototype._toFieldTransform=function(n){var r=tC(this,n,!0),o=this.Kc.map(function(u){return Rs(u,r)}),s=new bs(o);return new sl(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Cs),$2=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Qc=r,o}return Re(t,e),t.prototype._toFieldTransform=function(n){var r=new Pa(n.R,qk(n.R,this.Qc));return new sl(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Cs);function V_(e,t,n,r){var o=e.Uc(1,t,n);B_("Data must be an object, but it was:",o,r);var s=[],u=sr.empty();Ss(r,function(f,d){var g=q_(t,f,n);d=gt(d);var h=o.Oc(g);if(d instanceof U_)s.push(g);else{var p=Rs(d,h);p!=null&&(s.push(g),u.set(g,p))}});var c=new Na(s);return new JN(u,c,o.fieldTransforms)}function j_(e,t,n,r,o,s){var u=e.Uc(1,t,n),c=[Pv(t,r,n)],f=[o];if(s.length%2!=0)throw new te(H.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<s.length;d+=2)c.push(Pv(t,s[d])),f.push(s[d+1]);for(var g=[],h=sr.empty(),p=c.length-1;p>=0;--p)if(!oC(g,c[p])){var v=c[p],_=f[p];_=gt(_);var E=u.Oc(v);if(_ instanceof U_)g.push(v);else{var A=Rs(_,E);A!=null&&(g.push(v),h.set(v,A))}}var b=new Na(g);return new JN(h,b,u.fieldTransforms)}function nC(e,t,n,r){return r===void 0&&(r=!1),Rs(n,e.Uc(r?4:3,t))}function Rs(e,t){if(iC(e=gt(e)))return B_("Unsupported field value:",t,e),rC(e,t);if(e instanceof Cs)return function(n,r){if(!ZN(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var o=[],s=0,u=0,c=n;u<c.length;u++){var f=Rs(c[u],r.Mc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=gt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return qk(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=zn.fromDate(n);return{timestampValue:Oc(r.R,o)}}if(n instanceof zn)return o=new zn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Oc(r.R,o)};if(n instanceof _d)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ws)return{bytesValue:Jk(r.R,n._byteString)};if(n instanceof Pt){o=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:p_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+yd(n))}(e,t)}function rC(e,t){var n={};return Ok(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ss(e,function(r,o){var s=Rs(o,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function iC(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof zn||e instanceof _d||e instanceof ws||e instanceof Pt||e instanceof Cs)}function B_(e,t,n){if(!iC(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var r=yd(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Pv(e,t,n){if((t=gt(t))instanceof ri)return t._internalPath;if(typeof t=="string")return q_(e,t);throw Ah("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var H2=new RegExp("[~\\*/\\[\\]]");function q_(e,t,n){if(t.search(H2)>=0)throw Ah("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(ri.bind.apply(ri,kt([void 0],t.split("."))))()._internalPath}catch{throw Ah("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Ah(e,t,n,r,o){var s=r&&!r.isEmpty(),u=o!==void 0,c="Function "+t+"() called with invalid data";n&&(c+=" (via `toFirestore()`)");var f="";return(s||u)&&(f+=" (found",s&&(f+=" in field "+r),u&&(f+=" in document "+o),f+=")"),new te(H.INVALID_ARGUMENT,(c+=". ")+e+f)}function oC(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lc=function(){function e(t,n,r,o,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Pt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new W2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(kh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),W2=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Re(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Lc);function kh(e,t){return typeof t=="string"?q_(e,t):t instanceof ri?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ss=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),Ii=function(e){function t(n,r,o,s,u,c){var f=this;return(f=e.call(this,n,r,o,s,c)||this)._firestore=n,f._firestoreImpl=n,f.metadata=u,f}return Re(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var o=this._document.data.field(kh("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}},t}(Lc),ac=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Re(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(Ii),no=function(){function e(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new ss(o.hasPendingWrites,o.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(o){t.call(n,new ac(r._firestore,r._userDataWriter,o.key,o,new ss(r._snapshot.mutatedKeys.has(o.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(c){return{type:"added",doc:new ac(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ss(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(c){return o||c.type!==3}).map(function(c){var f=new ac(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ss(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,g=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(g=(u=u.add(c.doc)).indexOf(c.doc.key)),{type:K2(c.type),doc:f,oldIndex:d,newIndex:g}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function K2(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}function sC(e,t){return e instanceof Ii&&t instanceof Ii?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof no&&t instanceof no&&e._firestore===t._firestore&&YN(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(e){if(vh(e)&&e.explicitOrderBy.length===0)throw new te(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ll=function(){};function Wi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var s=o[r];e=s._apply(e)}return e}var G2=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=o,s.type="where",s}return Re(t,e),t.prototype._apply=function(n){var r=Os(n.firestore),o=function(s,u,c,f,d,g,h){var p;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new te(H.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+g+"' queries on FieldPath.documentId().");if(g==="in"||g==="not-in"){QT(h,g);for(var v=[],_=0,E=h;_<E.length;_++){var A=E[_];v.push(YT(f,s,A))}p={arrayValue:{values:v}}}else p=YT(f,s,h)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||QT(h,g),p=nC(c,"where",h,g==="in"||g==="not-in");var b=ur.create(d,g,p);return function(k,D){if(D.g()){var R=c_(k);if(R!==null&&!R.isEqual(D.field))throw new te(H.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+R.toString()+"' and '"+D.field.toString()+"'");var M=u_(k);M!==null&&cC(k,D.field,M)}var F=function(K,V){for(var q=0,L=K.filters;q<L.length;q++){var we=L[q];if(V.indexOf(we.op)>=0)return we.op}return null}(k,function(K){switch(K){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(D.op));if(F!==null)throw F===D.op?new te(H.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+D.op.toString()+"' filter."):new te(H.INVALID_ARGUMENT,"Invalid query. You cannot use '"+D.op.toString()+"' filters with '"+F.toString()+"' filters.")}(s,b),b}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new lr(n.firestore,n.converter,function(s,u){var c=s.filters.concat([u]);return new Oi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),c,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(ll),z2=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).jc=n,o.zc=r,o.type="orderBy",o}return Re(t,e),t.prototype._apply=function(n){var r=function(o,s,u){if(o.startAt!==null)throw new te(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new te(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new ya(s,u);return function(f,d){if(u_(f)===null){var g=c_(f);g!==null&&cC(f,g,d.field)}}(o,c),c}(n._query,this.jc,this.zc);return new lr(n.firestore,n.converter,function(o,s){var u=o.explicitOrderBy.concat([s]);return new Oi(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,r))},t}(ll),GT=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return Re(t,e),t.prototype._apply=function(n){return new lr(n.firestore,n.converter,Fk(n._query,this.Hc,this.Jc))},t}(ll),zT=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return Re(t,e),t.prototype._apply=function(n){var r=uC(n,this.type,this.Yc,this.Xc);return new lr(n.firestore,n.converter,function(o,s){return new Oi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,r))},t}(ll),XT=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return Re(t,e),t.prototype._apply=function(n){var r=uC(n,this.type,this.Yc,this.Xc);return new lr(n.firestore,n.converter,function(o,s){return new Oi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,r))},t}(ll);function uC(e,t,n,r){if(n[0]=gt(n[0]),n[0]instanceof Lc)return function(s,u,c,f,d){if(!f)throw new te(H.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var g=[],h=0,p=Ra(s);h<p.length;h++){var v=p[h];if(v.field.isKeyField())g.push(ph(u,f.key));else{var _=f.data.field(v.field);if(o_(_))throw new te(H.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var E=v.field.canonicalString();throw new te(H.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+E+"' (used as the orderBy) does not exist.")}g.push(_)}}return new Cc(g,d)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=Os(e.firestore);return function(s,u,c,f,d,g){var h=s.explicitOrderBy;if(d.length>h.length)throw new te(H.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var p=[],v=0;v<d.length;v++){var _=d[v];if(h[v].field.isKeyField()){if(typeof _!="string")throw new te(H.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!l_(s)&&_.indexOf("/")!==-1)throw new te(H.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var E=s.path.child(it.fromString(_));if(!Ae.isDocumentKey(E))throw new te(H.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");var A=new Ae(E);p.push(ph(u,A))}else{var b=nC(c,f,_);p.push(b)}}return new Cc(p,g)}(e._query,e.firestore._databaseId,o,t,n,r)}function YT(e,t,n){if(typeof(n=gt(n))=="string"){if(n==="")throw new te(H.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!l_(t)&&n.indexOf("/")!==-1)throw new te(H.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(it.fromString(n));if(!Ae.isDocumentKey(r))throw new te(H.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ph(e,new Ae(r))}if(n instanceof Pt)return ph(e,n._key);throw new te(H.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+yd(n)+".")}function QT(e,t){if(!Array.isArray(e)||e.length===0)throw new te(H.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new te(H.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function cC(e,t,n){if(!n.isEqual(t))throw new te(H.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $_=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),ys(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ht(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ca(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Te()}},e.prototype.convertObject=function(t,n){var r=this,o={};return Ss(t.fields,function(s,u){o[s]=r.convertValue(u,n)}),o},e.prototype.convertGeoPoint=function(t){return new _d(Ht(t.latitude),Ht(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(o){return r.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=xk(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kc(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=po(t);return new zn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=it.fromString(t);Me(sN(r));var o=new Sh(r.get(1),r.get(3)),s=new Ae(r.popFirst(5));return o.isEqual(n)||Kt("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var X2=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Re(t,e),t.prototype.convertBytes=function(n){return new ws(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Pt(this.firestore,null,r)},t}($_),Y2=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Os(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var o=ro(t,this._firestore),s=wd(o.converter,n,r),u=bd(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,r);return this._mutations.push(u.toMutation(o._key,bn.none())),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var u,c=ro(t,this._firestore);return u=typeof(n=gt(n))=="string"||n instanceof ri?j_(this._dataReader,"WriteBatch.update",c._key,n,r,o):V_(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(u.toMutation(c._key,bn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=ro(t,this._firestore);return this._mutations=this._mutations.concat(new ul(n._key,bn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new te(H.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(e,t){if((e=gt(e)).firestore!==t)throw new te(H.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fs=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Re(t,e),t.prototype.convertBytes=function(n){return new ws(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Pt(this.firestore,null,r)},t}($_);function JT(e,t,n){e=st(e,Pt);var r=st(e.firestore,en),o=wd(e.converter,t,n);return fl(r,[bd(Os(r),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,bn.none())])}function ZT(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=st(e,Pt);var s=st(e.firestore,en),u=Os(s);return fl(s,[(typeof(t=gt(t))=="string"||t instanceof ri?j_(u,"updateDoc",e._key,t,n,r):V_(u,"updateDoc",e._key,t)).toMutation(e._key,bn.exists(!0))])}function lC(e){for(var t,n,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=gt(e);var u={includeMetadataChanges:!1},c=0;typeof o[c]!="object"||qa(o[c])||(u=o[c],c++);var f,d,g,h={includeMetadataChanges:u.includeMetadataChanges};if(qa(o[c])){var p=o[c];o[c]=(t=p.next)===null||t===void 0?void 0:t.bind(p),o[c+1]=(n=p.error)===null||n===void 0?void 0:n.bind(p),o[c+2]=(r=p.complete)===null||r===void 0?void 0:r.bind(p)}if(e instanceof Pt)d=st(e.firestore,en),g=rl(e._key.path),f={next:function(E){o[c]&&o[c](Dv(d,e,E))},error:o[c+1],complete:o[c+2]};else{var v=st(e,lr);d=st(v.firestore,en),g=v._query;var _=new fs(d);f={next:function(E){o[c]&&o[c](new no(d,_,v,E))},error:o[c+1],complete:o[c+2]},aC(e._query)}return function(E,A,b,k){var D=this,R=new gd(k),M=new N_(A,R,b);return E.asyncQueue.enqueueAndForget(function(){return Q(D,void 0,void 0,function(){var F;return Y(this,function(K){switch(K.label){case 0:return F=S_,[4,Ba(E)];case 1:return[2,F.apply(void 0,[K.sent(),M])]}})})}),function(){R.Wo(),E.asyncQueue.enqueueAndForget(function(){return Q(D,void 0,void 0,function(){var F;return Y(this,function(K){switch(K.label){case 0:return F=A_,[4,Ba(E)];case 1:return[2,F.apply(void 0,[K.sent(),M])]}})})})}}(yn(d),g,h,f)}function fl(e,t){return function(n,r){var o=this,s=new Qn;return n.asyncQueue.enqueueAndForget(function(){return Q(o,void 0,void 0,function(){var u;return Y(this,function(c){switch(c.label){case 0:return u=f2,[4,WN(n)];case 1:return[2,u.apply(void 0,[c.sent(),r,s])]}})})}),s.promise}(yn(e),t)}function Dv(e,t,n){var r=n.docs.get(t._key),o=new fs(e);return new Ii(e,o,t._key,r,new ss(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q2=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this)._firestore=n,o}return Re(t,e),t.prototype.get=function(n){var r=this,o=ro(n,this._firestore),s=new fs(this._firestore);return e.prototype.get.call(this,n).then(function(u){return new Ii(r._firestore,s,o._key,u._document,new ss(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Os(t)}return e.prototype.get=function(t){var n=this,r=ro(t,this._firestore),o=new X2(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return Te();var u=s[0];if(u.isFoundDocument())return new Lc(n._firestore,o,u.key,u,r.converter);if(u.isNoDocument())return new Lc(n._firestore,o,r._key,null,r.converter);throw Te()})},e.prototype.set=function(t,n,r){var o=ro(t,this._firestore),s=wd(o.converter,n,r),u=bd(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,u),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u,c=ro(t,this._firestore);return u=typeof(n=gt(n))=="string"||n instanceof ri?j_(this._dataReader,"Transaction.update",c._key,n,r,o):V_(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,u),this},e.prototype.delete=function(t){var n=ro(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(){if(typeof Uint8Array>"u")throw new te(H.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function tS(){if(typeof atob>"u")throw new te(H.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var fC=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return tS(),new e(ws.fromBase64String(t))},e.fromUint8Array=function(t){return eS(),new e(ws.fromUint8Array(t))},e.prototype.toBase64=function(){return tS(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return eS(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),J2=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,o){KT(r=st(r,en));var s=yn(r),u=r._freezeSettings(),c=new xv;return WT(s,c,new BN(c,u.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){KT(n=st(n,en));var r=yn(n),o=n._freezeSettings(),s=new xv;return WT(r,s,new A2(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new te(H.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Qn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return Q(r,void 0,void 0,function(){var s;return Y(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,function(c){return Q(this,void 0,void 0,function(){var f;return Y(this,function(d){switch(d.label){case 0:return Ma.yt()?(f=c+"main",[4,Ma.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(__(n._databaseId,n._persistenceKey))];case 1:return u.sent(),o.resolve(),[3,3];case 2:return s=u.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),hC=function(){function e(t,n,r){var o=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Sh||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||hh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(o,s,u,c){var f;c===void 0&&(c={});var d=(o=st(o,Dc))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==s&&hh("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:s+":"+u,ssl:!1})),c.mockUserToken){var g,h;if(typeof c.mockUserToken=="string")g=c.mockUserToken,h=ln.MOCK_USER;else{g=_A(c.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var p=c.mockUserToken.sub||c.mockUserToken.user_id;if(!p)throw new te(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ln(p)}o._credentials=new R2(new KN(g,h))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return Q(n,void 0,void 0,function(){var r,o;return Y(this,function(s){switch(s.label){case 0:return[4,LT(t)];case 1:return r=s.sent(),[4,MT(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!0),function(u){var c=pe(u);return c.Or.delete(0),cl(c)}(o))]}})})})}(yn(st(this._delegate,en)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return Q(n,void 0,void 0,function(){var r,o;return Y(this,function(s){switch(s.label){case 0:return[4,LT(t)];case 1:return r=s.sent(),[4,MT(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!1),function(u){return Q(this,void 0,void 0,function(){var c;return Y(this,function(f){switch(f.label){case 0:return(c=pe(u)).Or.add(0),[4,Za(c)];case 1:return f.sent(),c.Br.set("Offline"),[2]}})})}(o))]}})})})}(yn(st(this._delegate,en)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&GN("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new Qn;return t.asyncQueue.enqueueAndForget(function(){return Q(n,void 0,void 0,function(){var o;return Y(this,function(s){switch(s.label){case 0:return o=m2,[4,WN(t)];case 1:return[2,o.apply(void 0,[s.sent(),r])]}})})}),r.promise}(yn(st(this._delegate,en)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(o,s){var u=this,c=new gd(s);return o.asyncQueue.enqueueAndForget(function(){return Q(u,void 0,void 0,function(){var f;return Y(this,function(d){switch(d.label){case 0:return f=function(g,h){pe(g).Gr.add(h),h.next()},[4,Ba(o)];case 1:return[2,f.apply(void 0,[d.sent(),c])]}})})}),function(){c.Wo(),o.asyncQueue.enqueueAndForget(function(){return Q(u,void 0,void 0,function(){var f;return Y(this,function(d){switch(d.label){case 0:return f=function(g,h){pe(g).Gr.delete(h)},[4,Ba(o)];case 1:return[2,f.apply(void 0,[d.sent(),c])]}})})})}}(yn(n=st(n,en)),qa(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new te(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Nh(this,zN(this._delegate,t))}catch(n){throw On(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new hs(this,zf(this._delegate,t))}catch(n){throw On(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Td(this,function(n,r){if(n=st(n,Dc),M_("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new te(H.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new lr(n,null,function(o){return new Oi(it.emptyPath(),o)}(r))}(this._delegate,t))}catch(n){throw On(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,o){return function(s,u){var c=this,f=new Qn;return s.asyncQueue.enqueueAndForget(function(){return Q(c,void 0,void 0,function(){var d;return Y(this,function(g){switch(g.label){case 0:return[4,function(h){return vd(h).then(function(p){return p.datastore})}(s)];case 1:return d=g.sent(),new N2(s.asyncQueue,d,u,f).run(),[2]}})})}),f.promise}(yn(r),function(s){return o(new Q2(r,s))})}(this._delegate,function(r){return t(new dC(n,r))})},e.prototype.batch=function(){var t=this;return yn(this._delegate),new pC(new Y2(this._delegate,function(n){return fl(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new te(H.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new te(H.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Ed=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Re(t,e),t.prototype.convertBytes=function(n){return new fC(new ws(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return hs.eu(r,this.firestore,null)},t}($_);function Z2(e){var t;t=e,Dr.setLogLevel(t)}var dC=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Ed(t)}return e.prototype.get=function(t){var n=this,r=as(t);return this._delegate.get(r).then(function(o){return new Mc(n._firestore,new Ii(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,r.converter))})},e.prototype.set=function(t,n,r){var o=as(t);return r?(F_("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var c=as(t);return arguments.length===2?this._delegate.update(c,n):(o=this._delegate).update.apply(o,kt([c,n,r],s)),this},e.prototype.delete=function(t){var n=as(t);return this._delegate.delete(n),this},e}(),pC=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var o=as(t);return r?(F_("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var c=as(t);return arguments.length===2?this._delegate.update(c,n):(o=this._delegate).update.apply(o,kt([c,n,r],s)),this},e.prototype.delete=function(t){var n=as(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Id=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new ac(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Fc(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var s=o.get(n);return s||(s=new e(t,new Ed(t),n),o.set(n,s)),s},e}();Id.su=new WeakMap;var hs=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Ed(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new te(H.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Pt(n._delegate,r,new Ae(t)))},e.eu=function(t,n,r){return new e(n,new Pt(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Nh(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Nh(this.firestore,zN(this._delegate,t))}catch(n){throw On(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=gt(t))instanceof Pt&&XN(this._delegate,t)},e.prototype.set=function(t,n){n=F_("DocumentReference.set",n);try{return n?JT(this._delegate,t,n):JT(this._delegate,t)}catch(r){throw On(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];try{return arguments.length===1?ZT(this._delegate,t):ZT.apply(void 0,kt([this._delegate,t,n],r))}catch(s){throw On(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return fl(st((t=this._delegate).firestore,en),[new ul(t._key,bn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=mC(n),s=gC(n,function(u){return new Mc(t.firestore,new Ii(t.firestore._delegate,t._userDataWriter,u._key,u._document,u.metadata,t._delegate.converter))});return lC(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=st(r,Pt);var o=st(r.firestore,en),s=yn(o),u=new fs(o);return function(c,f){var d=this,g=new Qn;return c.asyncQueue.enqueueAndForget(function(){return Q(d,void 0,void 0,function(){var h;return Y(this,function(p){switch(p.label){case 0:return h=function(v,_,E){return Q(this,void 0,void 0,function(){var A,b;return Y(this,function(k){switch(k.label){case 0:return k.trys.push([0,2,,3]),[4,function(D,R){var M=pe(D);return M.persistence.runTransaction("read document","readonly",function(F){return M.Mn.mn(F,R)})}(v,_)];case 1:return(b=k.sent()).isFoundDocument()?E.resolve(b):b.isNoDocument()?E.resolve(null):E.reject(new te(H.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return A=k.sent(),b=nu(A,"Failed to get document '"+_+" from cache"),E.reject(b),[3,3];case 3:return[2]}})})},[4,HN(c)];case 1:return[2,h.apply(void 0,[p.sent(),f,g])]}})})}),g.promise}(s,r._key).then(function(c){return new Ii(o,u,r._key,c,new ss(c!==null&&c.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=st(r,Pt);var o=st(r.firestore,en);return FT(yn(o),r._key,{source:"server"}).then(function(s){return Dv(o,r,s)})}(this._delegate):function(r){r=st(r,Pt);var o=st(r.firestore,en);return FT(yn(o),r._key).then(function(s){return Dv(o,r,s)})}(this._delegate)).then(function(r){return new Mc(n.firestore,new Ii(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Id.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function On(e,t,n){return e.message=e.message.replace(t,n),e}function mC(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!qa(r))return r}return{}}function gC(e,t){var n,r,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=qa(e[0])?e[0]:qa(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(r=o.complete)===null||r===void 0?void 0:r.bind(o)}}var Mc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new hs(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return sC(this._delegate,t._delegate)},e}(),Fc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Re(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Mc),Td=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Ed(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Wi(this._delegate,function(o,s,u){var c=s,f=kh("where",o);return new G2(f,c,u)}(t,n,r)))}catch(o){throw On(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Wi(this._delegate,function(r,o){o===void 0&&(o="asc");var s=o,u=kh("orderBy",r);return new z2(u,s)}(t,n)))}catch(r){throw On(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Wi(this._delegate,function(n){return $T("limit",n),new GT("limit",n,"F")}(t)))}catch(n){throw On(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Wi(this._delegate,function(n){return $T("limitToLast",n),new GT("limitToLast",n,"L")}(t)))}catch(n){throw On(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Wi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new zT("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw On(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Wi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new zT("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw On(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Wi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new XT("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw On(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Wi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new XT("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw On(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return YN(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=st(r,lr);var o=st(r.firestore,en),s=yn(o),u=new fs(o);return function(c,f){var d=this,g=new Qn;return c.asyncQueue.enqueueAndForget(function(){return Q(d,void 0,void 0,function(){var h;return Y(this,function(p){switch(p.label){case 0:return h=function(v,_,E){return Q(this,void 0,void 0,function(){var A,b,k,D,R;return Y(this,function(M){switch(M.label){case 0:return M.trys.push([0,2,,3]),[4,Eh(v,_,!0)];case 1:return R=M.sent(),A=new MN(_,R.Bn),b=A._o(R.documents),k=A.applyChanges(b,!1),E.resolve(k.snapshot),[3,3];case 2:return D=M.sent(),R=nu(D,"Failed to execute query '"+_+" against cache"),E.reject(R),[3,3];case 3:return[2]}})})},[4,HN(c)];case 1:return[2,h.apply(void 0,[p.sent(),f,g])]}})})}),g.promise}(s,r._query).then(function(c){return new no(o,u,r,c)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=st(r,lr);var o=st(r.firestore,en),s=yn(o),u=new fs(o);return UT(s,r._query,{source:"server"}).then(function(c){return new no(o,u,r,c)})}(this._delegate):function(r){r=st(r,lr);var o=st(r.firestore,en),s=yn(o),u=new fs(o);return aC(r._query),UT(s,r._query).then(function(c){return new no(o,u,r,c)})}(this._delegate)).then(function(r){return new Lv(n.firestore,new no(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=mC(n),s=gC(n,function(u){return new Lv(t.firestore,new no(t.firestore._delegate,t._userDataWriter,t._delegate,u._snapshot))});return lC(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Id.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),eB=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Fc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Lv=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Td(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Fc(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new eB(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(o){t.call(n,new Fc(r._firestore,o))})},e.prototype.isEqual=function(t){return sC(this._delegate,t._delegate)},e}(),Nh=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).firestore=n,o._delegate=r,o}return Re(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new hs(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new hs(this.firestore,n===void 0?zf(this._delegate):zf(this._delegate,n))}catch(r){throw On(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(o,s){var u=st(o.firestore,en),c=zf(o),f=wd(o.converter,s);return fl(u,[bd(Os(o.firestore),"addDoc",c._key,f,o.converter!==null,{}).toMutation(c._key,bn.exists(!1))]).then(function(){return c})}(this._delegate,n).then(function(o){return new hs(r.firestore,o)})},t.prototype.isEqual=function(n){return XN(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Id.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Td);function as(e){return st(e,Pt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tB=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(ri.bind.apply(ri,kt([void 0],t)))}return e.documentId=function(){return new e(Fr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=gt(t))instanceof ri&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),nB=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new j2("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new U_("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new B2("arrayUnion",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new q2("arrayRemove",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new $2("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),rB={Firestore:hC,GeoPoint:_d,Timestamp:zn,Blob:fC,Transaction:dC,WriteBatch:pC,DocumentReference:hs,DocumentSnapshot:Mc,Query:Td,QueryDocumentSnapshot:Fc,QuerySnapshot:Lv,CollectionReference:Nh,FieldPath:tB,FieldValue:nB,setLogLevel:Z2,CACHE_SIZE_UNLIMITED:M2};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iB(e){(function(t,n){t.INTERNAL.registerComponent(new Kc("firestore",function(r){var o=r.getProvider("app").getImmediate();return n(o,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},rB)))})(e,function(t,n){return new hC(t,new en(t,n),new J2)}),e.registerVersion("@firebase/firestore","2.4.1")}iB(De);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vC="firebasestorage.googleapis.com",yC="storageBucket",oB=2*60*1e3,sB=10*60*1e3,Yt=function(e){Re(t,e);function t(n,r){var o=e.call(this,Lg(n),"Firebase Storage: "+r+" ("+Lg(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return Lg(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(wA);function Lg(e){return"storage/"+e}function H_(){var e="An unknown error occurred, please check the error payload for server response.";return new Yt("unknown",e)}function aB(e){return new Yt("object-not-found","Object '"+e+"' does not exist.")}function uB(e){return new Yt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function cB(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Yt("unauthenticated",e)}function lB(){return new Yt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function fB(e){return new Yt("unauthorized","User does not have permission to access '"+e+"'.")}function hB(){return new Yt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function _C(){return new Yt("canceled","User canceled the upload/download.")}function dB(e){return new Yt("invalid-url","Invalid URL '"+e+"'.")}function pB(e){return new Yt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function mB(){return new Yt("no-default-bucket","No default bucket found. Did you set the '"+yC+"' property when initializing the app?")}function bC(){return new Yt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function gB(){return new Yt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function vB(){return new Yt("no-download-url","The given file does not have any download URLs.")}function _a(e){return new Yt("invalid-argument",e)}function wC(){return new Yt("app-deleted","The Firebase app was deleted.")}function EC(e){return new Yt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function uc(e,t){return new Yt("invalid-format","String does not match format '"+e+"': "+t)}function xf(e){throw new Yt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _r={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Mg=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function IC(e,t){switch(e){case _r.RAW:return new Mg(TC(t));case _r.BASE64:case _r.BASE64URL:return new Mg(SC(e,t));case _r.DATA_URL:return new Mg(bB(t),wB(t))}throw H_()}function TC(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var s=r,u=e.charCodeAt(++n);r=65536|(s&1023)<<10|u&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function _B(e){var t;try{t=decodeURIComponent(e)}catch{throw uc(_r.DATA_URL,"Malformed data URL.")}return TC(t)}function SC(e,t){switch(e){case _r.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var o=n?"-":"_";throw uc(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case _r.BASE64URL:{var s=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(s||u){var o=s?"+":"/";throw uc(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var c;try{c=yB(t)}catch{throw uc(e,"Invalid character found")}for(var f=new Uint8Array(c.length),d=0;d<c.length;d++)f[d]=c.charCodeAt(d);return f}var AC=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw uc(_r.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=EB(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function bB(e){var t=new AC(e);return t.base64?SC(_r.BASE64,t.rest):_B(t.rest)}function wB(e){var t=new AC(e);return t.contentType}function EB(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IB={STATE_CHANGED:"state_changed"},Rn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Fg(e){switch(e){case"running":case"pausing":case"canceling":return Rn.RUNNING;case"paused":return Rn.PAUSED;case"success":return Rn.SUCCESS;case"canceled":return Rn.CANCELED;case"error":return Rn.ERROR;default:return Rn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ds;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ds||(ds={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TB=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ds.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=ds.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=ds.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,o){if(this.sent_)throw xf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw xf("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw xf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw xf("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function SB(){return new TB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AB=function(){function e(){}return e.prototype.createConnection=function(){return SB()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var br=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw pB(t)},e.makeFromUrl=function(t,n){var r=null,o="([A-Za-z0-9.\\-_]+)";function s(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}var u="(/(.*))?$",c=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function d(q){q.path_=decodeURIComponent(q.path)}for(var g="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp("^https?://"+h+"/"+g+"/b/"+o+"/o"+p,"i"),_={bucket:1,path:3},E=n===vC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",b=new RegExp("^https?://"+E+"/"+o+"/"+A,"i"),k={bucket:1,path:2},D=[{regex:c,indices:f,postModify:s},{regex:v,indices:_,postModify:d},{regex:b,indices:k,postModify:d}],R=0;R<D.length;R++){var M=D[R],F=M.regex.exec(t);if(F){var K=F[M.indices.bucket],V=F[M.indices.path];V||(V=""),r=new e(K,V),M.postModify(r);break}}if(r==null)throw dB(t);return r},e}(),kB=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(e,t,n){var r=1,o=null,s=!1,u=0;function c(){return u===2}var f=!1;function d(){for(var _=[],E=0;E<arguments.length;E++)_[E]=arguments[E];f||(f=!0,t.apply(null,_))}function g(_){o=setTimeout(function(){o=null,e(h,c())},_)}function h(_){for(var E=[],A=1;A<arguments.length;A++)E[A-1]=arguments[A];if(!f){if(_){d.call.apply(d,kt([null,_],E));return}var b=c()||s;if(b){d.call.apply(d,kt([null,_],E));return}r<64&&(r*=2);var k;u===1?(u=2,k=0):k=(r+Math.random())*1e3,g(k)}}var p=!1;function v(_){p||(p=!0,!f&&(o!==null?(_||(u=2),clearTimeout(o),g(0)):_||(u=1)))}return g(0),setTimeout(function(){s=!0,v(!0)},n),v}function CB(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OB(e){return e!==void 0}function RB(e){return typeof e=="function"}function xB(e){return typeof e=="object"&&!Array.isArray(e)}function Sd(e){return typeof e=="string"||e instanceof String}function nS(e){return W_()&&e instanceof Blob}function W_(){return typeof Blob<"u"}function Mv(e,t,n,r){if(r<t)throw _a("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw _a("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],o=t;return r==null&&(o="https://"+t),o+"/v0"+e}function kC(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var o=t(r)+"="+t(e[r]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PB=function(){function e(t,n,r,o,s,u,c,f,d,g,h){var p=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=u.slice(),this.callback_=c,this.errorCallback_=f,this.progressCallback_=g,this.timeout_=d,this.pool_=h,this.promise_=new Promise(function(v,_){p.resolve_=v,p.reject_=_,p.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new Pf(!1,null,!0));return}var u=t.pool_.createConnection();t.pendingConnection_=u;function c(f){var d=f.loaded,g=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(d,g)}t.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&u.removeUploadProgressListener(c),t.pendingConnection_=null;var f=u.getErrorCode()===ds.NO_ERROR,d=u.getStatus();if(!f||t.isRetryStatusCode_(d)){var g=u.getErrorCode()===ds.ABORT;o(!1,new Pf(!1,null,g));return}var h=t.successCodes_.indexOf(d)!==-1;o(!0,new Pf(h,u))})}function r(o,s){var u=t.resolve_,c=t.reject_,f=s.connection;if(s.wasSuccessCode)try{var d=t.callback_(f,f.getResponseText());OB(d)?u(d):u()}catch(h){c(h)}else if(f!==null){var g=H_();g.serverResponse=f.getResponseText(),t.errorCallback_?c(t.errorCallback_(f,g)):c(g)}else if(s.canceled){var g=t.appDelete_?wC():_C();c(g)}else{var g=hB();c(g)}}this.canceled_?r(!1,new Pf(!1,null,!0)):this.backoffId_=NB(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&CB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],o=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),Pf=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function DB(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function LB(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function MB(e,t){t&&(e["X-Firebase-GMPID"]=t)}function FB(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function UB(e,t,n,r,o,s){var u=kC(e.urlParams),c=e.url+u,f=Object.assign({},e.headers);return MB(f,t),DB(f,n),LB(f,s),FB(f,r),new PB(c,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function jB(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=VB();if(n!==void 0){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}else{if(W_())return new Blob(e);throw new Yt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function BB(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K_=function(){function e(t,n){var r=0,o="";nS(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(nS(this.data_)){var r=this.data_,o=BB(r,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(W_()){var r=t.map(function(f){return f instanceof e?f.data_:f});return new e(jB.apply(null,r))}else{var o=t.map(function(f){return Sd(f)?IC(_r.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var u=new Uint8Array(s),c=0;return o.forEach(function(f){for(var d=0;d<f.length;d++)u[c++]=f[d]}),new e(u,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(e){var t;try{t=JSON.parse(e)}catch{return null}return xB(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function $B(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function NC(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(e,t){return t}var kn=function(){function e(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||HB}return e}(),Df=null;function WB(e){return!Sd(e)||e.length<2?e:NC(e)}function Ad(){if(Df)return Df;var e=[];e.push(new kn("bucket")),e.push(new kn("generation")),e.push(new kn("metageneration")),e.push(new kn("name","fullPath",!0));function t(s,u){return WB(u)}var n=new kn("name");n.xform=t,e.push(n);function r(s,u){return u!==void 0?Number(u):u}var o=new kn("size");return o.xform=r,e.push(o),e.push(new kn("timeCreated")),e.push(new kn("updated")),e.push(new kn("md5Hash",null,!0)),e.push(new kn("cacheControl",null,!0)),e.push(new kn("contentDisposition",null,!0)),e.push(new kn("contentEncoding",null,!0)),e.push(new kn("contentLanguage",null,!0)),e.push(new kn("contentType",null,!0)),e.push(new kn("metadata","customMetadata",!0)),Df=e,Df}function KB(e,t){function n(){var r=e.bucket,o=e.fullPath,s=new br(r,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function GB(e,t,n){var r={};r.type="file";for(var o=n.length,s=0;s<o;s++){var u=n[s];r[u.local]=u.xform(r,t[u.server])}return KB(r,e),r}function CC(e,t,n){var r=G_(t);if(r===null)return null;var o=r;return GB(e,o,n)}function zB(e,t,n){var r=G_(t);if(r===null||!Sd(r.downloadTokens))return null;var o=r.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,u=o.split(","),c=u.map(function(f){var d=e.bucket,g=e.fullPath,h="/b/"+s(d)+"/o/"+s(g),p=Eo(h,n),v=kC({alt:"media",token:f});return p+v});return c[0]}function z_(e,t){for(var n={},r=t.length,o=0;o<r;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rS="prefixes",iS="items";function XB(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[rS])for(var o=0,s=n[rS];o<s.length;o++){var u=s[o],c=u.replace(/\/$/,""),f=e._makeStorageReference(new br(t,c));r.prefixes.push(f)}if(n[iS])for(var d=0,g=n[iS];d<g.length;d++){var h=g[d],f=e._makeStorageReference(new br(t,h.name));r.items.push(f)}return r}function YB(e,t,n){var r=G_(n);if(r===null)return null;var o=r;return XB(e,t,o)}var Ri=function(){function e(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(e){if(!e)throw H_()}function kd(e,t){function n(r,o){var s=CC(e,o,t);return ii(s!==null),s}return n}function QB(e,t){function n(r,o){var s=YB(e,t,o);return ii(s!==null),s}return n}function JB(e,t){function n(r,o){var s=CC(e,o,t);return ii(s!==null),zB(s,o,e.host)}return n}function ru(e){function t(n,r){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=lB():o=cB():n.getStatus()===402?o=uB(e.bucket):n.getStatus()===403?o=fB(e.path):o=r,o.serverResponse=r.serverResponse,o}return t}function Nd(e){var t=ru(e);function n(r,o){var s=t(r,o);return r.getStatus()===404&&(s=aB(e.path)),s.serverResponse=o.serverResponse,s}return n}function OC(e,t,n){var r=t.fullServerUrl(),o=Eo(r,e.host),s="GET",u=e.maxOperationRetryTime,c=new Ri(o,s,kd(e,n),u);return c.errorHandler=Nd(t),c}function ZB(e,t,n,r,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),o&&(s.maxResults=o);var u=t.bucketOnlyServerUrl(),c=Eo(u,e.host),f="GET",d=e.maxOperationRetryTime,g=new Ri(c,f,QB(e,t.bucket),d);return g.urlParams=s,g.errorHandler=ru(t),g}function eq(e,t,n){var r=t.fullServerUrl(),o=Eo(r,e.host),s="GET",u=e.maxOperationRetryTime,c=new Ri(o,s,JB(e,n),u);return c.errorHandler=Nd(t),c}function tq(e,t,n,r){var o=t.fullServerUrl(),s=Eo(o,e.host),u="PATCH",c=z_(n,r),f={"Content-Type":"application/json; charset=utf-8"},d=e.maxOperationRetryTime,g=new Ri(s,u,kd(e,r),d);return g.headers=f,g.body=c,g.errorHandler=Nd(t),g}function nq(e,t){var n=t.fullServerUrl(),r=Eo(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function u(f,d){}var c=new Ri(r,o,u,s);return c.successCodes=[200,204],c.errorHandler=Nd(t),c}function rq(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function RC(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=rq(null,t)),r}function iq(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function c(){for(var D="",R=0;R<2;R++)D=D+Math.random().toString().slice(2);return D}var f=c();u["Content-Type"]="multipart/related; boundary="+f;var d=RC(t,r,o),g=z_(d,n),h="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,p=`\r
--`+f+"--",v=K_.getBlob(h,r,p);if(v===null)throw bC();var _={name:d.fullPath},E=Eo(s,e.host),A="POST",b=e.maxUploadRetryTime,k=new Ri(E,A,kd(e,n),b);return k.urlParams=_,k.headers=u,k.body=v.uploadData(),k.errorHandler=ru(t),k}var Ch=function(){function e(t,n,r,o){this.current=t,this.total=n,this.finalized=!!r,this.metadata=o||null}return e}();function X_(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{ii(!1)}var r=t||["active"];return ii(!!n&&r.indexOf(n)!==-1),n}function oq(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u=RC(t,r,o),c={name:u.fullPath},f=Eo(s,e.host),d="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},h=z_(u,n),p=e.maxUploadRetryTime;function v(E){X_(E);var A;try{A=E.getResponseHeader("X-Goog-Upload-URL")}catch{ii(!1)}return ii(Sd(A)),A}var _=new Ri(f,d,v,p);return _.urlParams=c,_.headers=g,_.body=h,_.errorHandler=ru(t),_}function sq(e,t,n,r){var o={"X-Goog-Upload-Command":"query"};function s(d){var g=X_(d,["active","final"]),h=null;try{h=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ii(!1)}h||ii(!1);var p=Number(h);return ii(!isNaN(p)),new Ch(p,r.size(),g==="final")}var u="POST",c=e.maxUploadRetryTime,f=new Ri(n,u,s,c);return f.headers=o,f.errorHandler=ru(t),f}var oS=256*1024;function aq(e,t,n,r,o,s,u,c){var f=new Ch(0,0);if(u?(f.current=u.current,f.total=u.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw gB();var d=f.total-f.current,g=d;o>0&&(g=Math.min(g,o));var h=f.current,p=h+g,v=g===d?"upload, finalize":"upload",_={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":""+f.current},E=r.slice(h,p);if(E===null)throw bC();function A(R,M){var F=X_(R,["active","final"]),K=f.current+g,V=r.size(),q;return F==="final"?q=kd(t,s)(R,M):q=null,new Ch(K,V,F==="final",q)}var b="POST",k=t.maxUploadRetryTime,D=new Ri(n,b,A,k);return D.headers=_,D.body=E.uploadData(),D.progressCallback=c||null,D.errorHandler=ru(e),D}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uq=function(){function e(t,n,r){var o=RB(t)||n!=null||r!=null;if(o)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xC=function(){function e(t,n,r){var o=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=Ad(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,u){o._resolve=s,o._reject=u,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var o=r[0],s=r[1];switch(n._state){case"running":t(o,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var o=oq(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._uploadUrl=u,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,o){var s=sq(t._ref.storage,t._ref._location,n,t._blob),u=t._ref.storage._makeRequest(s,r,o);t._request=u,u.getPromise().then(function(c){c=c,t._request=void 0,t._updateProgress(c.current),t._needToFetchStatus=!1,c.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=oS*this._chunkMultiplier,r=new Ch(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,u){var c;try{c=aq(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(d){t._error=d,t._transition("error");return}var f=t._ref.storage._makeRequest(c,s,u);t._request=f,f.getPromise().then(function(d){t._increaseMultiplier(),t._request=void 0,t._updateProgress(d.current),d.finalized?(t._metadata=d.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=oS*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var o=OC(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var o=iq(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=_C(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=Fg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,o){var s=this,u=new uq(n,r,o);return this._addObserver(u),function(){s._removeObserver(u)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(Fg(this._state)){case Rn.SUCCESS:oa(this._resolve.bind(null,this.snapshot))();break;case Rn.CANCELED:case Rn.ERROR:var n=this._reject;oa(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=Fg(this._state);switch(n){case Rn.RUNNING:case Rn.PAUSED:t.next&&oa(t.next.bind(t,this.snapshot))();break;case Rn.SUCCESS:t.complete&&oa(t.complete.bind(t))();break;case Rn.CANCELED:case Rn.ERROR:t.error&&oa(t.error.bind(t,this._error))();break;default:t.error&&oa(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cd=function(){function e(t,n){this._service=t,n instanceof br?this._location=n:this._location=br.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new br(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return NC(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=qB(this._location.path);if(t===null)return null;var n=new br(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw EC(t)},e}();function cq(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new xC(e,new K_(t),n)}function lq(e){var t={prefixes:[],items:[]};return PC(e,t).then(function(){return t})}function PC(e,t,n){return Q(this,void 0,void 0,function(){var r,o,s,u;return Y(this,function(c){switch(c.label){case 0:return r={pageToken:n},[4,DC(e,r)];case 1:return o=c.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(u=t.items).push.apply(u,o.items),o.nextPageToken==null?[3,3]:[4,PC(e,t,o.nextPageToken)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function DC(e,t){return Q(this,void 0,void 0,function(){var n,r;return Y(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&Mv("options.maxResults",1,1e3,t.maxResults),n=t||{},r=ZB(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,o.sent().getPromise()]}})})}function fq(e){return Q(this,void 0,void 0,function(){var t;return Y(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=OC(e.storage,e._location,Ad()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function hq(e,t){return Q(this,void 0,void 0,function(){var n;return Y(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=tq(e.storage,e._location,t,Ad()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function dq(e){return Q(this,void 0,void 0,function(){var t;return Y(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=eq(e.storage,e._location,Ad()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw vB();return r})]}})})}function pq(e){return Q(this,void 0,void 0,function(){var t;return Y(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=nq(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function LC(e,t){var n=$B(e._location.path,t),r=new br(e._location.bucket,n);return new Cd(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(e){return/^[A-Za-z]+:\/\//.test(e)}function mq(e,t){return new Cd(e,t)}function MC(e,t){if(e instanceof Od){var n=e;if(n._bucket==null)throw mB();var r=new Cd(n,n._bucket);return t!=null?MC(r,t):r}else return t!==void 0?LC(e,t):e}function gq(e,t){if(t&&Fv(t)){if(e instanceof Od)return mq(e,t);throw _a("To use ref(service, url), the first argument must be a Storage instance.")}else return MC(e,t)}function sS(e,t){var n=t==null?void 0:t[yC];return n==null?null:br.makeFromBucketSpec(n,e)}function vq(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var o=r.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:_A(o,e.app.options.projectId))}var Od=function(){function e(t,n,r,o,s,u){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=o,this._url=s,this._firebaseVersion=u,this._bucket=null,this._host=vC,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oB,this._maxUploadRetryTime=sB,this._requests=new Set,s!=null?this._bucket=br.makeFromBucketSpec(s,this._host):this._bucket=sS(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=br.makeFromBucketSpec(this._url,t):this._bucket=sS(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Mv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Mv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return Q(this,void 0,void 0,function(){var t,n;return Y(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return Q(this,void 0,void 0,function(){var t,n;return Y(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Cd(this,t)},e.prototype._makeRequest=function(t,n,r){var o=this;if(this._deleted)return new kB(wC());var s=UB(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return o._requests.delete(s)},function(){return o._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return Q(this,void 0,void 0,function(){var n,r,o;return Y(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],o=n[1],[2,this._makeRequest(t,r,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yq(e,t,n){return e=gt(e),cq(e,t,n)}function _q(e){return e=gt(e),fq(e)}function bq(e,t){return e=gt(e),hq(e,t)}function wq(e,t){return e=gt(e),DC(e,t)}function Eq(e){return e=gt(e),lq(e)}function Iq(e){return e=gt(e),dq(e)}function Tq(e){return e=gt(e),pq(e)}function aS(e,t){return e=gt(e),gq(e,t)}function Sq(e,t){return LC(e,t)}function Aq(e,t,n,r){r===void 0&&(r={}),vq(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lf=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uS=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Lf(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(o){if(t)return t(new Lf(o,r,r._ref))},n)},e.prototype.on=function(t,n,r,o){var s=this,u=void 0;return n&&(typeof n=="function"?u=function(c){return n(new Lf(c,s,s._ref))}:u={next:n.next?function(c){return n.next(new Lf(c,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,u,r||void 0,o||void 0)},e}(),cS=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new Uc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new Uc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=Sq(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new uS(yq(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=_r.RAW),this._throwIfRoot("putString");var o=IC(n,t),s=Ta({},r);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new uS(new xC(this._delegate,new K_(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return Eq(this._delegate).then(function(n){return new cS(n,t.storage)})},e.prototype.list=function(t){var n=this;return wq(this._delegate,t||void 0).then(function(r){return new cS(r,n.storage)})},e.prototype.getMetadata=function(){return _q(this._delegate)},e.prototype.updateMetadata=function(t){return bq(this._delegate,t)},e.prototype.getDownloadURL=function(){return Iq(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),Tq(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw EC(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kq=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(Fv(t))throw _a("ref() expected a child path but got a URL, use refFromURL instead.");return new Uc(aS(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!Fv(t))throw _a("refFromURL() expected a full URL but got a child path, use ref() instead.");try{br.makeFromUrl(t,this._delegate.host)}catch{throw _a("refFromUrl() expected a valid full URL but got an invalid one.")}return new Uc(aS(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),Aq(this._delegate,t,n,r)},e}(),Nq="@firebase/storage",Cq="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oq="storage";function Rq(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),u=new kq(r,new Od(r,o,s,new AB,n,De.SDK_VERSION));return u}function xq(e){var t={TaskState:Rn,TaskEvent:IB,StringFormat:_r,Storage:Od,Reference:Uc};e.INTERNAL.registerComponent(new Kc(Oq,Rq,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(Nq,Cq)}xq(De);const Pq={apiKey:"AIzaSyBFu0Zs7YiEF1nRLJLF0Ptb2VqeUWE5los",authDomain:"music-project-27189.firebaseapp.com",projectId:"music-project-27189",storageBucket:"music-project-27189.appspot.com",appId:"1:401343737441:web:27f44859bd27d090ad4420"};De.initializeApp(Pq);const oi=De.auth(),Y_=De.firestore(),FC=De.storage(),Dq=Y_.collection("users"),Ti=Y_.collection("songs"),lS=Y_.collection("comments"),iu=Cy("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await oi.createUserWithEmailAndPassword(e.email,e.password);await Dq.doc(t.user.uid).set({name:e.name,email:e.email,age:e.age,country:e.country}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0},async authenticate(e){await oi.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await oi.signOut(),this.userLoggedIn=!1}}}),hr=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},Lq={name:"AppHeader",computed:{...mF(sv,iu),currentLocale(){return this.$i18n.locale==="af"?"Afrikaans":"English"}},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen,console.log(this.modalStore.isOpen)},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})},changeLocale(){this.$i18n.locale=this.$i18n.locale==="af"?"en":"af"}}},Mq={id:"header",class:"bg-gray-700"},Fq={class:"container mx-auto flex justify-start items-center py-5 px-4"},Uq={class:"flex flex-grow items-center"},Vq={class:"flex flex-row mt-1"},jq={key:0},Bq={class:"ml-auto"};function qq(e,t,n,r,o,s){const u=Ot("router-link");return ze(),ct("header",Mq,[W("nav",Fq,[xe(u,{"exact-active-class":"no-active",to:{name:"home"},class:"text-white font-bold uppercase text-2xl mr-4"},{default:Ln(()=>[uo("Music")]),_:1}),W("div",Uq,[W("ul",Vq,[W("li",null,[xe(u,{to:{name:"about"},class:"px-2 text-white"},{default:Ln(()=>[uo("About")]),_:1})]),e.userStore.userLoggedIn?(ze(),ct(Wt,{key:1},[W("li",null,[xe(u,{class:"px-2 text-white",to:{name:"manage"}},{default:Ln(()=>[uo("Manage")]),_:1})]),W("li",null,[W("a",{class:"px-2 text-white",href:"#",onClick:t[1]||(t[1]=(...c)=>s.signOut&&s.signOut(...c))},"Logout")])],64)):(ze(),ct("li",jq,[W("a",{class:"px-2 text-white",href:"#",onClick:t[0]||(t[0]=(...c)=>s.toggleAuthModal&&s.toggleAuthModal(...c))},"Login / Register")]))]),W("ul",Bq,[W("li",null,[W("a",{class:"px-2 text-white",href:"#",onClick:t[2]||(t[2]=(...c)=>s.changeLocale&&s.changeLocale(...c))},Tt(s.currentLocale),1)])])])])])}const $q=hr(Lq,[["render",qq]]),Hq={name:"LoginForm",data(){return{loginSchema:{email:"required|email",password:"required|min:9|max:100"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_msg:"Please Wait!! We are logging you in..."}},methods:{...Xh(iu,["authenticate"]),async login(e){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-blue-500",this.login_alert_msg="Please Wait!! We are logging you in...";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="Invalid login details!!!";return}this.login_alert_variant="bg-green-500",this.login_alert_msg="Success! You are now logged in",window.location.reload()}}},Wq={class:"mb-3"},Kq=W("label",{class:"inline-block mb-2"},"Email",-1),Gq={class:"mb-3"},zq=W("label",{class:"inline-block mb-2"},"Password",-1),Xq=["disabled"];function Yq(e,t,n,r,o,s){const u=Ot("vee-field"),c=Ot("ErrorMessage"),f=Ot("vee-form");return ze(),ct(Wt,null,[o.login_show_alert?(ze(),ct("div",{key:0,class:Dn(["text-white text-center font-bold p-4 mb-4",o.login_alert_variant])},Tt(o.login_alert_msg),3)):Ea("",!0),xe(f,{"validation-schema":o.loginSchema,onSubmit:s.login},{default:Ln(()=>[W("div",Wq,[Kq,xe(u,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),xe(c,{class:"text-red-600",name:"email"})]),W("div",Gq,[zq,xe(u,{name:"password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),xe(c,{class:"text-red-600",name:"password"})]),W("button",{type:"submit",class:"block w-full bg-solid-purple text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:o.login_in_submission}," Submit ",8,Xq)]),_:1},8,["validation-schema","onSubmit"])],64)}const Qq=hr(Hq,[["render",Yq]]),Jq={name:"RegisterForm",data(){return{schema:{name:"required|min:3|max:100|alphaSpaces",email:"required|min:3|max:100|email",age:"required|minVal:18|maxVal:100",password:"required|min:9|max:100|excluded:password",confirm_password:"passwords_mismatch:@password",country:"required|country_excluded:Antartica",tos:"tos"},userData:{country:"USA"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please Wait!! Your account is being created"}},methods:{...Xh(iu,{createUser:"register"}),async register(e){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please Wait!! Your account is being created";try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_variant="bg-red-500",this.reg_alert_msg="An unexpected error occured. Please try again later";return}this.reg_alert_variant="bg-green-500",this.reg_alert_msg="Success!! Your account has been created",window.location.reload()}}},Zq={class:"mb-3"},e$=W("label",{class:"inline-block mb-2"},"Name",-1),t$={class:"mb-3"},n$=W("label",{class:"inline-block mb-2"},"Email",-1),r$={class:"mb-3"},i$=W("label",{class:"inline-block mb-2"},"Age",-1),o$={class:"mb-3"},s$=W("label",{class:"inline-block mb-2"},"Password",-1),a$={class:"mb-3"},u$=W("label",{class:"inline-block mb-2"},"Confirm Password",-1),c$={class:"mb-3"},l$=W("label",{class:"inline-block mb-2"},"Country",-1),f$=W("option",{value:"USA"},"USA",-1),h$=W("option",{value:"Mexico"},"Mexico",-1),d$=W("option",{value:"Germany"},"Germany",-1),p$=W("option",{value:"Antartica"},"Antartica",-1),m$={class:"mb-3 pl-6"},g$={href:"#"},v$=["disabled"];function y$(e,t,n,r,o,s){const u=Ot("vee-field"),c=Ot("ErrorMessage"),f=Ot("i18nt"),d=Ot("vee-form");return ze(),ct(Wt,null,[o.reg_show_alert?(ze(),ct("div",{key:0,class:Dn(["text-white text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},Tt(o.reg_alert_msg),3)):Ea("",!0),xe(d,{"validation-schema":o.schema,onSubmit:s.register,"initial-values":o.userData},{default:Ln(()=>[W("div",Zq,[e$,xe(u,{name:"name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),xe(c,{class:"text-red-600",name:"name"})]),W("div",t$,[n$,xe(u,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),xe(c,{class:"text-red-600",name:"email"})]),W("div",r$,[i$,xe(u,{name:"age",type:"number",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),xe(c,{class:"text-red-600",name:"age"})]),W("div",o$,[s$,xe(u,{name:"password",bails:!1},{default:Ln(({field:g,errors:h})=>[W("input",uA({type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"},g),null,16),(ze(!0),ct(Wt,null,Hc(h,p=>(ze(),ct("div",{class:"text-red-600",key:p},Tt(p),1))),128))]),_:1})]),W("div",a$,[u$,xe(u,{name:"confirm_password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),xe(c,{class:"text-red-600",name:"confirm_password"})]),W("div",c$,[l$,xe(u,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:Ln(()=>[f$,h$,d$,p$]),_:1}),xe(c,{class:"text-red-600",name:"country"})]),W("div",m$,[xe(u,{name:"tos",value:"1",type:"checkbox",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),xe(f,{class:"inline-block",keypath:"register.accept",tag:"label"},{default:Ln(()=>[W("a",g$,Tt(e.$t("register.tos")),1)]),_:1}),xe(c,{class:"text-red-600 block",name:"tos"})]),W("button",{type:"submit",class:"block w-full bg-solid-purple text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:o.reg_in_submission}," Submit ",8,v$)]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const _$=hr(Jq,[["render",y$]]),b$={name:"Auth",components:{AppLoginForm:Qq,AppRegisterForm:_$},data(){return{tab:"login"}},computed:{...Oy(sv,["hiddenClass"]),...vA(sv,{modalVisibility:"isOpen"})}},w$={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},E$=W("div",{class:"fixed inset-0 transition-opacity"},[W("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),I$=W("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"",-1),T$={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},S$={class:"py-4 text-left px-6"},A$={class:"flex justify-between items-center pb-4"},k$=W("p",{class:"text-2xl font-bold"},"Your Account",-1),N$=W("i",{class:"fas fa-times"},null,-1),C$=[N$],O$={class:"flex flex-wrap mb-4"},R$={class:"flex-auto text-center"},x$={class:"flex-auto text-center"};function P$(e,t,n,r,o,s){const u=Ot("app-login-form"),c=Ot("app-register-form");return ze(),ct("div",{class:Dn(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[W("div",w$,[E$,I$,W("div",T$,[W("div",S$,[W("div",A$,[k$,W("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=f=>e.modalVisibility=!1)},C$)]),W("ul",O$,[W("li",R$,[W("a",{class:Dn(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.tab==="login","hover:text-blue-600":o.tab==="register"}]),href:"#",onClick:t[1]||(t[1]=f=>o.tab="login")},"Login",2)]),W("li",x$,[W("a",{class:Dn(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.tab==="register","hover:text-blue-600":o.tab==="login"}]),href:"#",onClick:t[2]||(t[2]=f=>o.tab="register")},"Register",2)])]),o.tab==="login"?(ze(),ps(u,{key:0})):(ze(),ps(c,{key:1}))])])])],2)}const D$=hr(b$,[["render",P$]]);var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Uv={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var h=this||n;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var p=this||n;if(h=parseFloat(h),p.ctx||g(),typeof h<"u"&&h>=0&&h<=1){if(p._volume=h,p._muted)return p;p.usingWebAudio&&p.masterGain.gain.setValueAtTime(h,n.ctx.currentTime);for(var v=0;v<p._howls.length;v++)if(!p._howls[v]._webAudio)for(var _=p._howls[v]._getSoundIds(),E=0;E<_.length;E++){var A=p._howls[v]._soundById(_[E]);A&&A._node&&(A._node.volume=A._volume*h)}return p}return p._volume},mute:function(h){var p=this||n;p.ctx||g(),p._muted=h,p.usingWebAudio&&p.masterGain.gain.setValueAtTime(h?0:p._volume,n.ctx.currentTime);for(var v=0;v<p._howls.length;v++)if(!p._howls[v]._webAudio)for(var _=p._howls[v]._getSoundIds(),E=0;E<_.length;E++){var A=p._howls[v]._soundById(_[E]);A&&A._node&&(A._node.muted=h?!0:A._muted)}return p},stop:function(){for(var h=this||n,p=0;p<h._howls.length;p++)h._howls[p].stop();return h},unload:function(){for(var h=this||n,p=h._howls.length-1;p>=0;p--)h._howls[p].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,g()),h},codecs:function(h){return(this||n)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||n;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var p=new Audio;typeof p.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var p=new Audio;p.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||n,p=null;try{p=typeof Audio<"u"?new Audio:null}catch{return h}if(!p||typeof p.canPlayType!="function")return h;var v=p.canPlayType("audio/mpeg;").replace(/^no$/,""),_=h._navigator?h._navigator.userAgent:"",E=_.match(/OPR\/([0-6].)/g),A=E&&parseInt(E[0].split("/")[1],10)<33,b=_.indexOf("Safari")!==-1&&_.indexOf("Chrome")===-1,k=_.match(/Version\/(.*?) /),D=b&&k&&parseInt(k[1],10)<15;return h._codecs={mp3:!!(!A&&(v||p.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!v,opus:!!p.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!p.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!p.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(p.canPlayType('audio/wav; codecs="1"')||p.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!p.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!p.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(p.canPlayType("audio/x-m4a;")||p.canPlayType("audio/m4a;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(p.canPlayType("audio/x-m4b;")||p.canPlayType("audio/m4b;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(p.canPlayType("audio/x-mp4;")||p.canPlayType("audio/mp4;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!D&&p.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!D&&p.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!p.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(p.canPlayType("audio/x-flac;")||p.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||n;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var p=function(v){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var _=new Audio;_._unlocked=!0,h._releaseHtml5Audio(_)}catch{h.noAudio=!0;break}for(var E=0;E<h._howls.length;E++)if(!h._howls[E]._webAudio)for(var A=h._howls[E]._getSoundIds(),b=0;b<A.length;b++){var k=h._howls[E]._soundById(A[b]);k&&k._node&&!k._node._unlocked&&(k._node._unlocked=!0,k._node.load())}h._autoResume();var D=h.ctx.createBufferSource();D.buffer=h._scratchBuffer,D.connect(h.ctx.destination),typeof D.start>"u"?D.noteOn(0):D.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),D.onended=function(){D.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",p,!0),document.removeEventListener("touchend",p,!0),document.removeEventListener("click",p,!0),document.removeEventListener("keydown",p,!0);for(var R=0;R<h._howls.length;R++)h._howls[R]._emit("unlock")}};return document.addEventListener("touchstart",p,!0),document.addEventListener("touchend",p,!0),document.addEventListener("click",p,!0),document.addEventListener("keydown",p,!0),h}},_obtainHtml5Audio:function(){var h=this||n;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var p=new Audio().play();return p&&typeof Promise<"u"&&(p instanceof Promise||typeof p.then=="function")&&p.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var p=this||n;return h._unlocked&&p._html5AudioPool.push(h),p},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!n.usingWebAudio)){for(var p=0;p<h._howls.length;p++)if(h._howls[p]._webAudio){for(var v=0;v<h._howls[p]._sounds.length;v++)if(!h._howls[p]._sounds[v]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(h.autoSuspend){h._suspendTimer=null,h.state="suspending";var _=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(_,_)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!n.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var p=0;p<h._howls.length;p++)h._howls[p]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var n=new t,r=function(h){var p=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}p.init(h)};r.prototype={init:function(h){var p=this;return n.ctx||g(),p._autoplay=h.autoplay||!1,p._format=typeof h.format!="string"?h.format:[h.format],p._html5=h.html5||!1,p._muted=h.mute||!1,p._loop=h.loop||!1,p._pool=h.pool||5,p._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,p._rate=h.rate||1,p._sprite=h.sprite||{},p._src=typeof h.src!="string"?h.src:[h.src],p._volume=h.volume!==void 0?h.volume:1,p._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},p._duration=0,p._state="unloaded",p._sounds=[],p._endTimers={},p._queue=[],p._playLock=!1,p._onend=h.onend?[{fn:h.onend}]:[],p._onfade=h.onfade?[{fn:h.onfade}]:[],p._onload=h.onload?[{fn:h.onload}]:[],p._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],p._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],p._onpause=h.onpause?[{fn:h.onpause}]:[],p._onplay=h.onplay?[{fn:h.onplay}]:[],p._onstop=h.onstop?[{fn:h.onstop}]:[],p._onmute=h.onmute?[{fn:h.onmute}]:[],p._onvolume=h.onvolume?[{fn:h.onvolume}]:[],p._onrate=h.onrate?[{fn:h.onrate}]:[],p._onseek=h.onseek?[{fn:h.onseek}]:[],p._onunlock=h.onunlock?[{fn:h.onunlock}]:[],p._onresume=[],p._webAudio=n.usingWebAudio&&!p._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(p),p._autoplay&&p._queue.push({event:"play",action:function(){p.play()}}),p._preload&&p._preload!=="none"&&p.load(),p},load:function(){var h=this,p=null;if(n.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var v=0;v<h._src.length;v++){var _,E;if(h._format&&h._format[v])_=h._format[v];else{if(E=h._src[v],typeof E!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}_=/^data:audio\/([^;,]+);/i.exec(E),_||(_=/\.([^.]+)$/.exec(E.split("?",1)[0])),_&&(_=_[1].toLowerCase())}if(_||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),_&&n.codecs(_)){p=h._src[v];break}}if(!p){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=p,h._state="loading",window.location.protocol==="https:"&&p.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new o(h),h._webAudio&&u(h),h},play:function(h,p){var v=this,_=null;if(typeof h=="number")_=h,h=null;else{if(typeof h=="string"&&v._state==="loaded"&&!v._sprite[h])return null;if(typeof h>"u"&&(h="__default",!v._playLock)){for(var E=0,A=0;A<v._sounds.length;A++)v._sounds[A]._paused&&!v._sounds[A]._ended&&(E++,_=v._sounds[A]._id);E===1?h=null:_=null}}var b=_?v._soundById(_):v._inactiveSound();if(!b)return null;if(_&&!h&&(h=b._sprite||"__default"),v._state!=="loaded"){b._sprite=h,b._ended=!1;var k=b._id;return v._queue.push({event:"play",action:function(){v.play(k)}}),k}if(_&&!b._paused)return p||v._loadQueue("play"),b._id;v._webAudio&&n._autoResume();var D=Math.max(0,b._seek>0?b._seek:v._sprite[h][0]/1e3),R=Math.max(0,(v._sprite[h][0]+v._sprite[h][1])/1e3-D),M=R*1e3/Math.abs(b._rate),F=v._sprite[h][0]/1e3,K=(v._sprite[h][0]+v._sprite[h][1])/1e3;b._sprite=h,b._ended=!1;var V=function(){b._paused=!1,b._seek=D,b._start=F,b._stop=K,b._loop=!!(b._loop||v._sprite[h][2])};if(D>=K){v._ended(b);return}var q=b._node;if(v._webAudio){var L=function(){v._playLock=!1,V(),v._refreshBuffer(b);var Se=b._muted||v._muted?0:b._volume;q.gain.setValueAtTime(Se,n.ctx.currentTime),b._playStart=n.ctx.currentTime,typeof q.bufferSource.start>"u"?b._loop?q.bufferSource.noteGrainOn(0,D,86400):q.bufferSource.noteGrainOn(0,D,R):b._loop?q.bufferSource.start(0,D,86400):q.bufferSource.start(0,D,R),M!==1/0&&(v._endTimers[b._id]=setTimeout(v._ended.bind(v,b),M)),p||setTimeout(function(){v._emit("play",b._id),v._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?L():(v._playLock=!0,v.once("resume",L),v._clearTimer(b._id))}else{var we=function(){q.currentTime=D,q.muted=b._muted||v._muted||n._muted||q.muted,q.volume=b._volume*n.volume(),q.playbackRate=b._rate;try{var Se=q.play();if(Se&&typeof Promise<"u"&&(Se instanceof Promise||typeof Se.then=="function")?(v._playLock=!0,V(),Se.then(function(){v._playLock=!1,q._unlocked=!0,p?v._loadQueue():v._emit("play",b._id)}).catch(function(){v._playLock=!1,v._emit("playerror",b._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),b._ended=!0,b._paused=!0})):p||(v._playLock=!1,V(),v._emit("play",b._id)),q.playbackRate=b._rate,q.paused){v._emit("playerror",b._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||b._loop?v._endTimers[b._id]=setTimeout(v._ended.bind(v,b),M):(v._endTimers[b._id]=function(){v._ended(b),q.removeEventListener("ended",v._endTimers[b._id],!1)},q.addEventListener("ended",v._endTimers[b._id],!1))}catch(Ue){v._emit("playerror",b._id,Ue)}};q.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(q.src=v._src,q.load());var se=window&&window.ejecta||!q.readyState&&n._navigator.isCocoonJS;if(q.readyState>=3||se)we();else{v._playLock=!0,v._state="loading";var be=function(){v._state="loaded",we(),q.removeEventListener(n._canPlayEvent,be,!1)};q.addEventListener(n._canPlayEvent,be,!1),v._clearTimer(b._id)}}return b._id},pause:function(h){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"pause",action:function(){p.pause(h)}}),p;for(var v=p._getSoundIds(h),_=0;_<v.length;_++){p._clearTimer(v[_]);var E=p._soundById(v[_]);if(E&&!E._paused&&(E._seek=p.seek(v[_]),E._rateSeek=0,E._paused=!0,p._stopFade(v[_]),E._node))if(p._webAudio){if(!E._node.bufferSource)continue;typeof E._node.bufferSource.stop>"u"?E._node.bufferSource.noteOff(0):E._node.bufferSource.stop(0),p._cleanBuffer(E._node)}else(!isNaN(E._node.duration)||E._node.duration===1/0)&&E._node.pause();arguments[1]||p._emit("pause",E?E._id:null)}return p},stop:function(h,p){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"stop",action:function(){v.stop(h)}}),v;for(var _=v._getSoundIds(h),E=0;E<_.length;E++){v._clearTimer(_[E]);var A=v._soundById(_[E]);A&&(A._seek=A._start||0,A._rateSeek=0,A._paused=!0,A._ended=!0,v._stopFade(_[E]),A._node&&(v._webAudio?A._node.bufferSource&&(typeof A._node.bufferSource.stop>"u"?A._node.bufferSource.noteOff(0):A._node.bufferSource.stop(0),v._cleanBuffer(A._node)):(!isNaN(A._node.duration)||A._node.duration===1/0)&&(A._node.currentTime=A._start||0,A._node.pause(),A._node.duration===1/0&&v._clearSound(A._node))),p||v._emit("stop",A._id))}return v},mute:function(h,p){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"mute",action:function(){v.mute(h,p)}}),v;if(typeof p>"u")if(typeof h=="boolean")v._muted=h;else return v._muted;for(var _=v._getSoundIds(p),E=0;E<_.length;E++){var A=v._soundById(_[E]);A&&(A._muted=h,A._interval&&v._stopFade(A._id),v._webAudio&&A._node?A._node.gain.setValueAtTime(h?0:A._volume,n.ctx.currentTime):A._node&&(A._node.muted=n._muted?!0:h),v._emit("mute",A._id))}return v},volume:function(){var h=this,p=arguments,v,_;if(p.length===0)return h._volume;if(p.length===1||p.length===2&&typeof p[1]>"u"){var E=h._getSoundIds(),A=E.indexOf(p[0]);A>=0?_=parseInt(p[0],10):v=parseFloat(p[0])}else p.length>=2&&(v=parseFloat(p[0]),_=parseInt(p[1],10));var b;if(typeof v<"u"&&v>=0&&v<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,p)}}),h;typeof _>"u"&&(h._volume=v),_=h._getSoundIds(_);for(var k=0;k<_.length;k++)b=h._soundById(_[k]),b&&(b._volume=v,p[2]||h._stopFade(_[k]),h._webAudio&&b._node&&!b._muted?b._node.gain.setValueAtTime(v,n.ctx.currentTime):b._node&&!b._muted&&(b._node.volume=v*n.volume()),h._emit("volume",b._id))}else return b=_?h._soundById(_):h._sounds[0],b?b._volume:0;return h},fade:function(h,p,v,_){var E=this;if(E._state!=="loaded"||E._playLock)return E._queue.push({event:"fade",action:function(){E.fade(h,p,v,_)}}),E;h=Math.min(Math.max(0,parseFloat(h)),1),p=Math.min(Math.max(0,parseFloat(p)),1),v=parseFloat(v),E.volume(h,_);for(var A=E._getSoundIds(_),b=0;b<A.length;b++){var k=E._soundById(A[b]);if(k){if(_||E._stopFade(A[b]),E._webAudio&&!k._muted){var D=n.ctx.currentTime,R=D+v/1e3;k._volume=h,k._node.gain.setValueAtTime(h,D),k._node.gain.linearRampToValueAtTime(p,R)}E._startFadeInterval(k,h,p,v,A[b],typeof _>"u")}}return E},_startFadeInterval:function(h,p,v,_,E,A){var b=this,k=p,D=v-p,R=Math.abs(D/.01),M=Math.max(4,R>0?_/R:_),F=Date.now();h._fadeTo=v,h._interval=setInterval(function(){var K=(Date.now()-F)/_;F=Date.now(),k+=D*K,k=Math.round(k*100)/100,D<0?k=Math.max(v,k):k=Math.min(v,k),b._webAudio?h._volume=k:b.volume(k,h._id,!0),A&&(b._volume=k),(v<p&&k<=v||v>p&&k>=v)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,b.volume(v,h._id),b._emit("fade",h._id))},M)},_stopFade:function(h){var p=this,v=p._soundById(h);return v&&v._interval&&(p._webAudio&&v._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(v._interval),v._interval=null,p.volume(v._fadeTo,h),v._fadeTo=null,p._emit("fade",h)),p},loop:function(){var h=this,p=arguments,v,_,E;if(p.length===0)return h._loop;if(p.length===1)if(typeof p[0]=="boolean")v=p[0],h._loop=v;else return E=h._soundById(parseInt(p[0],10)),E?E._loop:!1;else p.length===2&&(v=p[0],_=parseInt(p[1],10));for(var A=h._getSoundIds(_),b=0;b<A.length;b++)E=h._soundById(A[b]),E&&(E._loop=v,h._webAudio&&E._node&&E._node.bufferSource&&(E._node.bufferSource.loop=v,v&&(E._node.bufferSource.loopStart=E._start||0,E._node.bufferSource.loopEnd=E._stop,h.playing(A[b])&&(h.pause(A[b],!0),h.play(A[b],!0)))));return h},rate:function(){var h=this,p=arguments,v,_;if(p.length===0)_=h._sounds[0]._id;else if(p.length===1){var E=h._getSoundIds(),A=E.indexOf(p[0]);A>=0?_=parseInt(p[0],10):v=parseFloat(p[0])}else p.length===2&&(v=parseFloat(p[0]),_=parseInt(p[1],10));var b;if(typeof v=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,p)}}),h;typeof _>"u"&&(h._rate=v),_=h._getSoundIds(_);for(var k=0;k<_.length;k++)if(b=h._soundById(_[k]),b){h.playing(_[k])&&(b._rateSeek=h.seek(_[k]),b._playStart=h._webAudio?n.ctx.currentTime:b._playStart),b._rate=v,h._webAudio&&b._node&&b._node.bufferSource?b._node.bufferSource.playbackRate.setValueAtTime(v,n.ctx.currentTime):b._node&&(b._node.playbackRate=v);var D=h.seek(_[k]),R=(h._sprite[b._sprite][0]+h._sprite[b._sprite][1])/1e3-D,M=R*1e3/Math.abs(b._rate);(h._endTimers[_[k]]||!b._paused)&&(h._clearTimer(_[k]),h._endTimers[_[k]]=setTimeout(h._ended.bind(h,b),M)),h._emit("rate",b._id)}}else return b=h._soundById(_),b?b._rate:h._rate;return h},seek:function(){var h=this,p=arguments,v,_;if(p.length===0)h._sounds.length&&(_=h._sounds[0]._id);else if(p.length===1){var E=h._getSoundIds(),A=E.indexOf(p[0]);A>=0?_=parseInt(p[0],10):h._sounds.length&&(_=h._sounds[0]._id,v=parseFloat(p[0]))}else p.length===2&&(v=parseFloat(p[0]),_=parseInt(p[1],10));if(typeof _>"u")return 0;if(typeof v=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,p)}}),h;var b=h._soundById(_);if(b)if(typeof v=="number"&&v>=0){var k=h.playing(_);k&&h.pause(_,!0),b._seek=v,b._ended=!1,h._clearTimer(_),!h._webAudio&&b._node&&!isNaN(b._node.duration)&&(b._node.currentTime=v);var D=function(){k&&h.play(_,!0),h._emit("seek",_)};if(k&&!h._webAudio){var R=function(){h._playLock?setTimeout(R,0):D()};setTimeout(R,0)}else D()}else if(h._webAudio){var M=h.playing(_)?n.ctx.currentTime-b._playStart:0,F=b._rateSeek?b._rateSeek-b._seek:0;return b._seek+(F+M*Math.abs(b._rate))}else return b._node.currentTime;return h},playing:function(h){var p=this;if(typeof h=="number"){var v=p._soundById(h);return v?!v._paused:!1}for(var _=0;_<p._sounds.length;_++)if(!p._sounds[_]._paused)return!0;return!1},duration:function(h){var p=this,v=p._duration,_=p._soundById(h);return _&&(v=p._sprite[_._sprite][1]/1e3),v},state:function(){return this._state},unload:function(){for(var h=this,p=h._sounds,v=0;v<p.length;v++)p[v]._paused||h.stop(p[v]._id),h._webAudio||(h._clearSound(p[v]._node),p[v]._node.removeEventListener("error",p[v]._errorFn,!1),p[v]._node.removeEventListener(n._canPlayEvent,p[v]._loadFn,!1),p[v]._node.removeEventListener("ended",p[v]._endFn,!1),n._releaseHtml5Audio(p[v]._node)),delete p[v]._node,h._clearTimer(p[v]._id);var _=n._howls.indexOf(h);_>=0&&n._howls.splice(_,1);var E=!0;for(v=0;v<n._howls.length;v++)if(n._howls[v]._src===h._src||h._src.indexOf(n._howls[v]._src)>=0){E=!1;break}return s&&E&&delete s[h._src],n.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,p,v,_){var E=this,A=E["_on"+h];return typeof p=="function"&&A.push(_?{id:v,fn:p,once:_}:{id:v,fn:p}),E},off:function(h,p,v){var _=this,E=_["_on"+h],A=0;if(typeof p=="number"&&(v=p,p=null),p||v)for(A=0;A<E.length;A++){var b=v===E[A].id;if(p===E[A].fn&&b||!p&&b){E.splice(A,1);break}}else if(h)_["_on"+h]=[];else{var k=Object.keys(_);for(A=0;A<k.length;A++)k[A].indexOf("_on")===0&&Array.isArray(_[k[A]])&&(_[k[A]]=[])}return _},once:function(h,p,v){var _=this;return _.on(h,p,v,1),_},_emit:function(h,p,v){for(var _=this,E=_["_on"+h],A=E.length-1;A>=0;A--)(!E[A].id||E[A].id===p||h==="load")&&(setTimeout(function(b){b.call(this,p,v)}.bind(_,E[A].fn),0),E[A].once&&_.off(h,E[A].fn,E[A].id));return _._loadQueue(h),_},_loadQueue:function(h){var p=this;if(p._queue.length>0){var v=p._queue[0];v.event===h&&(p._queue.shift(),p._loadQueue()),h||v.action()}return p},_ended:function(h){var p=this,v=h._sprite;if(!p._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(p._ended.bind(p,h),100),p;var _=!!(h._loop||p._sprite[v][2]);if(p._emit("end",h._id),!p._webAudio&&_&&p.stop(h._id,!0).play(h._id),p._webAudio&&_){p._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=n.ctx.currentTime;var E=(h._stop-h._start)*1e3/Math.abs(h._rate);p._endTimers[h._id]=setTimeout(p._ended.bind(p,h),E)}return p._webAudio&&!_&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,p._clearTimer(h._id),p._cleanBuffer(h._node),n._autoSuspend()),!p._webAudio&&!_&&p.stop(h._id,!0),p},_clearTimer:function(h){var p=this;if(p._endTimers[h]){if(typeof p._endTimers[h]!="function")clearTimeout(p._endTimers[h]);else{var v=p._soundById(h);v&&v._node&&v._node.removeEventListener("ended",p._endTimers[h],!1)}delete p._endTimers[h]}return p},_soundById:function(h){for(var p=this,v=0;v<p._sounds.length;v++)if(h===p._sounds[v]._id)return p._sounds[v];return null},_inactiveSound:function(){var h=this;h._drain();for(var p=0;p<h._sounds.length;p++)if(h._sounds[p]._ended)return h._sounds[p].reset();return new o(h)},_drain:function(){var h=this,p=h._pool,v=0,_=0;if(!(h._sounds.length<p)){for(_=0;_<h._sounds.length;_++)h._sounds[_]._ended&&v++;for(_=h._sounds.length-1;_>=0;_--){if(v<=p)return;h._sounds[_]._ended&&(h._webAudio&&h._sounds[_]._node&&h._sounds[_]._node.disconnect(0),h._sounds.splice(_,1),v--)}}},_getSoundIds:function(h){var p=this;if(typeof h>"u"){for(var v=[],_=0;_<p._sounds.length;_++)v.push(p._sounds[_]._id);return v}else return[h]},_refreshBuffer:function(h){var p=this;return h._node.bufferSource=n.ctx.createBufferSource(),h._node.bufferSource.buffer=s[p._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,n.ctx.currentTime),p},_cleanBuffer:function(h){var p=this,v=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),v))try{h.bufferSource.buffer=n._scratchBuffer}catch{}return h.bufferSource=null,p},_clearSound:function(h){var p=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);p||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(h){this._parent=h,this.init()};o.prototype={init:function(){var h=this,p=h._parent;return h._muted=p._muted,h._loop=p._loop,h._volume=p._volume,h._rate=p._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,p._sounds.push(h),h.create(),h},create:function(){var h=this,p=h._parent,v=n._muted||h._muted||h._parent._muted?0:h._volume;return p._webAudio?(h._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),h._node.gain.setValueAtTime(v,n.ctx.currentTime),h._node.paused=!0,h._node.connect(n.masterGain)):n.noAudio||(h._node=n._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(n._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=p._src,h._node.preload=p._preload===!0?"auto":p._preload,h._node.volume=v*n.volume(),h._node.load()),h},reset:function(){var h=this,p=h._parent;return h._muted=p._muted,h._loop=p._loop,h._volume=p._volume,h._rate=p._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,p=h._parent;p._duration=Math.ceil(h._node.duration*10)/10,Object.keys(p._sprite).length===0&&(p._sprite={__default:[0,p._duration*1e3]}),p._state!=="loaded"&&(p._state="loaded",p._emit("load"),p._loadQueue()),h._node.removeEventListener(n._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,p=h._parent;p._duration===1/0&&(p._duration=Math.ceil(h._node.duration*10)/10,p._sprite.__default[1]===1/0&&(p._sprite.__default[1]=p._duration*1e3),p._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var s={},u=function(h){var p=h._src;if(s[p]){h._duration=s[p].duration,d(h);return}if(/^data:[^;]+;base64,/.test(p)){for(var v=atob(p.split(",")[1]),_=new Uint8Array(v.length),E=0;E<v.length;++E)_[E]=v.charCodeAt(E);f(_.buffer,h)}else{var A=new XMLHttpRequest;A.open(h._xhr.method,p,!0),A.withCredentials=h._xhr.withCredentials,A.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(b){A.setRequestHeader(b,h._xhr.headers[b])}),A.onload=function(){var b=(A.status+"")[0];if(b!=="0"&&b!=="2"&&b!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+A.status+".");return}f(A.response,h)},A.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete s[p],h.load())},c(A)}},c=function(h){try{h.send()}catch{h.onerror()}},f=function(h,p){var v=function(){p._emit("loaderror",null,"Decoding audio data failed.")},_=function(E){E&&p._sounds.length>0?(s[p._src]=E,d(p,E)):v()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(h).then(_).catch(v):n.ctx.decodeAudioData(h,_,v)},d=function(h,p){p&&!h._duration&&(h._duration=p.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},g=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),p=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),v=p?parseInt(p[1],10):null;if(h&&v&&v<9){var _=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!_&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof Wu<"u"?(Wu.HowlerGlobal=t,Wu.Howler=n,Wu.Howl=r,Wu.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,o=typeof o!="number"?s._pos[2]:o,typeof n=="number")s._pos=[n,r,o],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,o,s,u,c){var f=this;if(!f.ctx||!f.ctx.listener)return f;var d=f._orientation;if(r=typeof r!="number"?d[1]:r,o=typeof o!="number"?d[2]:o,s=typeof s!="number"?d[3]:s,u=typeof u!="number"?d[4]:u,c=typeof c!="number"?d[5]:c,typeof n=="number")f._orientation=[n,r,o,s,u,c],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(u,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(c,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(n,r,o,s,u,c);else return d;return f},Howl.prototype.init=function(n){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,r)}}),o;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var u=o._getSoundIds(r),c=0;c<u.length;c++){var f=o._soundById(u[c]);if(f)if(typeof n=="number")f._stereo=n,f._pos=[n,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&t(f,s),s==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(n,0,0):f._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",f._id);else return f._stereo}return o},Howl.prototype.pos=function(n,r,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"pos",action:function(){u.pos(n,r,o,s)}}),u;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof s>"u")if(typeof n=="number")u._pos=[n,r,o];else return u._pos;for(var c=u._getSoundIds(s),f=0;f<c.length;f++){var d=u._soundById(c[f]);if(d)if(typeof n=="number")d._pos=[n,r,o],d._node&&((!d._panner||d._panner.pan)&&t(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):d._panner.setPosition(n,r,o)),u._emit("pos",d._id);else return d._pos}return u},Howl.prototype.orientation=function(n,r,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"orientation",action:function(){u.orientation(n,r,o,s)}}),u;if(r=typeof r!="number"?u._orientation[1]:r,o=typeof o!="number"?u._orientation[2]:o,typeof s>"u")if(typeof n=="number")u._orientation=[n,r,o];else return u._orientation;for(var c=u._getSoundIds(s),f=0;f<c.length;f++){var d=u._soundById(c[f]);if(d)if(typeof n=="number")d._orientation=[n,r,o],d._node&&(d._panner||(d._pos||(d._pos=u._pos||[0,0,-.5]),t(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):d._panner.setOrientation(n,r,o)),u._emit("orientation",d._id);else return d._orientation}return u},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,o,s,u;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof s>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return u=n._soundById(parseInt(r[0],10)),u?u._pannerAttr:n._pannerAttr;else r.length===2&&(o=r[0],s=parseInt(r[1],10));for(var c=n._getSoundIds(s),f=0;f<c.length;f++)if(u=n._soundById(c[f]),u){var d=u._pannerAttr;d={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:d.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:d.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:d.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:d.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:d.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:d.panningModel};var g=u._panner;g?(g.coneInnerAngle=d.coneInnerAngle,g.coneOuterAngle=d.coneOuterAngle,g.coneOuterGain=d.coneOuterGain,g.distanceModel=d.distanceModel,g.maxDistance=d.maxDistance,g.refDistance=d.refDistance,g.rolloffFactor=d.rolloffFactor,g.panningModel=d.panningModel):(u._pos||(u._pos=n._pos||[0,0,-.5]),t(u,"spatial"))}return n},Sound.prototype.init=function(n){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,n.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(Uv);const fS={formatTime(e){const t=Math.floor(e/60)||0,n=Math.round(e-t*60||0);return`${t}:${n<10?"0":""}${n}`}},Vv=Cy("player",{state:()=>({currentSong:{},sound:{},seek:"00:00",duration:"00:00",playerProgress:"0%"}),actions:{async newSong(e){this.sound instanceof Uv.Howl&&this.sound.unload(),this.currentSong=e,this.sound=new Uv.Howl({src:[e.url],html5:!0}),this.sound.play(),this.sound.on("play",()=>{requestAnimationFrame(this.progress)})},async toggleAudio(){this.sound.playing&&(this.sound.playing()?this.sound.pause():this.sound.play())},progress(){this.seek=fS.formatTime(this.sound.seek()),this.duration=fS.formatTime(this.sound.duration()),this.playerProgress=`${this.sound.seek()/this.sound.duration()*100}%`,this.sound.playing()&&requestAnimationFrame(this.progress)},updateSeek(e){if(!this.sound.playing)return;const{x:t,width:n}=e.currentTarget.getBoundingClientRect(),o=(e.clientX-t)/n,s=this.sound.duration()*o;this.sound.seek(s),this.sound.once("seek",this.progress)}},getters:{playing:e=>e.sound.playing?e.sound.playing():!1}}),L$={name:"Player",methods:{...Xh(Vv,["toggleAudio","updateSeek"])},computed:{...Oy(Vv,["playing","duration","seek","playerProgress","currentSong"])}},M$={class:"fixed bottom-0 left-0 bg-white px-4 py-2 w-full"},F$={key:0,class:"text-center"},U$={class:"song-title font-bold"},V$={class:"song-artist"},j$={class:"flex flex-nowrap gap-4 items-center"},B$={class:"player-currenttime"},q$=W("i",{class:"fas fa-circle"},null,-1),$$=[q$],H$={class:"player-duration"};function W$(e,t,n,r,o,s){return ze(),ct("div",M$,[e.currentSong.modified_name?(ze(),ct("div",F$,[W("span",U$,Tt(e.currentSong.modified_name),1),uo(" by "),W("span",V$,Tt(e.currentSong.display_name),1)])):Ea("",!0),W("div",j$,[W("button",{type:"button",onClick:t[0]||(t[0]=(...u)=>e.toggleAudio&&e.toggleAudio(...u))},[W("i",{class:Dn(["fa text-gray-500 text-xl",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)]),W("div",B$,Tt(e.seek),1),W("div",{onClick:t[1]||(t[1]=(...u)=>e.updateSeek&&e.updateSeek(...u)),class:"w-full h-2 rounded bg-gray-200 relative cursor-pointer"},[W("span",{class:"absolute -top-2.5 -ml-2.5 text-gray-800 text-lg",style:ba({left:e.playerProgress})},$$,4),W("span",{class:"block h-2 rounded bg-gradient-to-r from-green-500 to-green-400",style:ba({width:e.playerProgress})}," >",4)]),W("div",H$,Tt(e.duration),1)])])}const K$=hr(L$,[["render",W$]]);const G$={name:"App",components:{AppHeader:$q,Auth:D$,AppPlayer:K$},computed:{...vA(iu,["userLoggedIn"])},created(){oi.currentUser&&(this.userLoggedIn=!0)}};function z$(e,t,n,r,o,s){const u=Ot("app-header"),c=Ot("router-view"),f=Ot("app-player"),d=Ot("auth");return ze(),ct(Wt,null,[xe(u),xe(c,null,{default:Ln(({Component:g})=>[xe(Ny,{name:"fade",mode:"out-in"},{default:Ln(()=>[(ze(),ps(Wh(g)))]),_:2},1024)]),_:1}),xe(f),xe(d)],64)}const X$=hr(G$,[["render",z$]]);/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const ca=typeof window<"u";function Y$(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ut=Object.assign;function Ug(e,t){const n={};for(const r in t){const o=t[r];n[r]=Ur(o)?o.map(e):e(o)}return n}const cc=()=>{},Ur=Array.isArray,Q$=/\/$/,J$=e=>e.replace(Q$,"");function Vg(e,t,n="/"){let r,o={},s="",u="";const c=t.indexOf("#");let f=t.indexOf("?");return c<f&&c>=0&&(f=-1),f>-1&&(r=t.slice(0,f),s=t.slice(f+1,c>-1?c:t.length),o=e(s)),c>-1&&(r=r||t.slice(0,c),u=t.slice(c,t.length)),r=n4(r??t,n),{fullPath:r+(s&&"?")+s+u,path:r,query:o,hash:u}}function Z$(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function hS(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function e4(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&$a(t.matched[r],n.matched[o])&&UC(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function $a(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function UC(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!t4(e[n],t[n]))return!1;return!0}function t4(e,t){return Ur(e)?dS(e,t):Ur(t)?dS(t,e):e===t}function dS(e,t){return Ur(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function n4(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let s=n.length-1,u,c;for(u=0;u<r.length;u++)if(c=r[u],c!==".")if(c==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(u-(u===r.length?1:0)).join("/")}var Vc;(function(e){e.pop="pop",e.push="push"})(Vc||(Vc={}));var lc;(function(e){e.back="back",e.forward="forward",e.unknown=""})(lc||(lc={}));function r4(e){if(!e)if(ca){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),J$(e)}const i4=/^[^#]+#/;function o4(e,t){return e.replace(i4,"#")+t}function s4(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Rd=()=>({left:window.pageXOffset,top:window.pageYOffset});function a4(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=s4(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function pS(e,t){return(history.state?history.state.position-t:-1)+e}const jv=new Map;function u4(e,t){jv.set(e,t)}function c4(e){const t=jv.get(e);return jv.delete(e),t}let l4=()=>location.protocol+"//"+location.host;function VC(e,t){const{pathname:n,search:r,hash:o}=t,s=e.indexOf("#");if(s>-1){let c=o.includes(e.slice(s))?e.slice(s).length:1,f=o.slice(c);return f[0]!=="/"&&(f="/"+f),hS(f,"")}return hS(n,e)+r+o}function f4(e,t,n,r){let o=[],s=[],u=null;const c=({state:p})=>{const v=VC(e,location),_=n.value,E=t.value;let A=0;if(p){if(n.value=v,t.value=p,u&&u===_){u=null;return}A=E?p.position-E.position:0}else r(v);o.forEach(b=>{b(n.value,_,{delta:A,type:Vc.pop,direction:A?A>0?lc.forward:lc.back:lc.unknown})})};function f(){u=n.value}function d(p){o.push(p);const v=()=>{const _=o.indexOf(p);_>-1&&o.splice(_,1)};return s.push(v),v}function g(){const{history:p}=window;p.state&&p.replaceState(ut({},p.state,{scroll:Rd()}),"")}function h(){for(const p of s)p();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",g,{passive:!0}),{pauseListeners:f,listen:d,destroy:h}}function mS(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?Rd():null}}function h4(e){const{history:t,location:n}=window,r={value:VC(e,n)},o={value:t.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(f,d,g){const h=e.indexOf("#"),p=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+f:l4()+e+f;try{t[g?"replaceState":"pushState"](d,"",p),o.value=d}catch(v){console.error(v),n[g?"replace":"assign"](p)}}function u(f,d){const g=ut({},t.state,mS(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});s(f,g,!0),r.value=f}function c(f,d){const g=ut({},o.value,t.state,{forward:f,scroll:Rd()});s(g.current,g,!0);const h=ut({},mS(r.value,f,null),{position:g.position+1},d);s(f,h,!1),r.value=f}return{location:r,state:o,push:c,replace:u}}function d4(e){e=r4(e);const t=h4(e),n=f4(e,t.state,t.location,t.replace);function r(s,u=!0){u||n.pauseListeners(),history.go(s)}const o=ut({location:"",base:e,go:r,createHref:o4.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function p4(e){return typeof e=="string"||e&&typeof e=="object"}function jC(e){return typeof e=="string"||typeof e=="symbol"}const Ki={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},BC=Symbol("");var gS;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(gS||(gS={}));function Ha(e,t){return ut(new Error,{type:e,[BC]:!0},t)}function mi(e,t){return e instanceof Error&&BC in e&&(t==null||!!(e.type&t))}const vS="[^/]+?",m4={sensitive:!1,strict:!1,start:!0,end:!0},g4=/[.+*?^${}()[\]/\\]/g;function v4(e,t){const n=ut({},m4,t),r=[];let o=n.start?"^":"";const s=[];for(const d of e){const g=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let h=0;h<d.length;h++){const p=d[h];let v=40+(n.sensitive?.25:0);if(p.type===0)h||(o+="/"),o+=p.value.replace(g4,"\\$&"),v+=40;else if(p.type===1){const{value:_,repeatable:E,optional:A,regexp:b}=p;s.push({name:_,repeatable:E,optional:A});const k=b||vS;if(k!==vS){v+=10;try{new RegExp(`(${k})`)}catch(R){throw new Error(`Invalid custom RegExp for param "${_}" (${k}): `+R.message)}}let D=E?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;h||(D=A&&d.length<2?`(?:/${D})`:"/"+D),A&&(D+="?"),o+=D,v+=20,A&&(v+=-8),E&&(v+=-20),k===".*"&&(v+=-50)}g.push(v)}r.push(g)}if(n.strict&&n.end){const d=r.length-1;r[d][r[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const u=new RegExp(o,n.sensitive?"":"i");function c(d){const g=d.match(u),h={};if(!g)return null;for(let p=1;p<g.length;p++){const v=g[p]||"",_=s[p-1];h[_.name]=v&&_.repeatable?v.split("/"):v}return h}function f(d){let g="",h=!1;for(const p of e){(!h||!g.endsWith("/"))&&(g+="/"),h=!1;for(const v of p)if(v.type===0)g+=v.value;else if(v.type===1){const{value:_,repeatable:E,optional:A}=v,b=_ in d?d[_]:"";if(Ur(b)&&!E)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const k=Ur(b)?b.join("/"):b;if(!k)if(A)p.length<2&&(g.endsWith("/")?g=g.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);g+=k}}return g||"/"}return{re:u,score:r,keys:s,parse:c,stringify:f}}function y4(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function _4(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const s=y4(r[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-r.length)===1){if(yS(r))return 1;if(yS(o))return-1}return o.length-r.length}function yS(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const b4={type:0,value:""},w4=/[a-zA-Z0-9_]/;function E4(e){if(!e)return[[]];if(e==="/")return[[b4]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${d}": ${v}`)}let n=0,r=n;const o=[];let s;function u(){s&&o.push(s),s=[]}let c=0,f,d="",g="";function h(){d&&(n===0?s.push({type:0,value:d}):n===1||n===2||n===3?(s.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:d,regexp:g,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function p(){d+=f}for(;c<e.length;){if(f=e[c++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(d&&h(),u()):f===":"?(h(),n=1):p();break;case 4:p(),n=r;break;case 1:f==="("?n=2:w4.test(f)?p():(h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&c--);break;case 2:f===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+f:n=3:g+=f;break;case 3:h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&c--,g="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),h(),u(),o}function I4(e,t,n){const r=v4(E4(e.path),n),o=ut(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function T4(e,t){const n=[],r=new Map;t=wS({strict:!1,end:!0,sensitive:!1},t);function o(g){return r.get(g)}function s(g,h,p){const v=!p,_=S4(g);_.aliasOf=p&&p.record;const E=wS(t,g),A=[_];if("alias"in g){const D=typeof g.alias=="string"?[g.alias]:g.alias;for(const R of D)A.push(ut({},_,{components:p?p.record.components:_.components,path:R,aliasOf:p?p.record:_}))}let b,k;for(const D of A){const{path:R}=D;if(h&&R[0]!=="/"){const M=h.record.path,F=M[M.length-1]==="/"?"":"/";D.path=h.record.path+(R&&F+R)}if(b=I4(D,h,E),p?p.alias.push(b):(k=k||b,k!==b&&k.alias.push(b),v&&g.name&&!bS(b)&&u(g.name)),_.children){const M=_.children;for(let F=0;F<M.length;F++)s(M[F],b,p&&p.children[F])}p=p||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&f(b)}return k?()=>{u(k)}:cc}function u(g){if(jC(g)){const h=r.get(g);h&&(r.delete(g),n.splice(n.indexOf(h),1),h.children.forEach(u),h.alias.forEach(u))}else{const h=n.indexOf(g);h>-1&&(n.splice(h,1),g.record.name&&r.delete(g.record.name),g.children.forEach(u),g.alias.forEach(u))}}function c(){return n}function f(g){let h=0;for(;h<n.length&&_4(g,n[h])>=0&&(g.record.path!==n[h].record.path||!qC(g,n[h]));)h++;n.splice(h,0,g),g.record.name&&!bS(g)&&r.set(g.record.name,g)}function d(g,h){let p,v={},_,E;if("name"in g&&g.name){if(p=r.get(g.name),!p)throw Ha(1,{location:g});E=p.record.name,v=ut(_S(h.params,p.keys.filter(k=>!k.optional).map(k=>k.name)),g.params&&_S(g.params,p.keys.map(k=>k.name))),_=p.stringify(v)}else if("path"in g)_=g.path,p=n.find(k=>k.re.test(_)),p&&(v=p.parse(_),E=p.record.name);else{if(p=h.name?r.get(h.name):n.find(k=>k.re.test(h.path)),!p)throw Ha(1,{location:g,currentLocation:h});E=p.record.name,v=ut({},h.params,g.params),_=p.stringify(v)}const A=[];let b=p;for(;b;)A.unshift(b.record),b=b.parent;return{name:E,path:_,params:v,matched:A,meta:k4(A)}}return e.forEach(g=>s(g)),{addRoute:s,resolve:d,removeRoute:u,getRoutes:c,getRecordMatcher:o}}function _S(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function S4(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:A4(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function A4(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function bS(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function k4(e){return e.reduce((t,n)=>ut(t,n.meta),{})}function wS(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function qC(e,t){return t.children.some(n=>n===e||qC(e,n))}const $C=/#/g,N4=/&/g,C4=/\//g,O4=/=/g,R4=/\?/g,HC=/\+/g,x4=/%5B/g,P4=/%5D/g,WC=/%5E/g,D4=/%60/g,KC=/%7B/g,L4=/%7C/g,GC=/%7D/g,M4=/%20/g;function Q_(e){return encodeURI(""+e).replace(L4,"|").replace(x4,"[").replace(P4,"]")}function F4(e){return Q_(e).replace(KC,"{").replace(GC,"}").replace(WC,"^")}function Bv(e){return Q_(e).replace(HC,"%2B").replace(M4,"+").replace($C,"%23").replace(N4,"%26").replace(D4,"`").replace(KC,"{").replace(GC,"}").replace(WC,"^")}function U4(e){return Bv(e).replace(O4,"%3D")}function V4(e){return Q_(e).replace($C,"%23").replace(R4,"%3F")}function j4(e){return e==null?"":V4(e).replace(C4,"%2F")}function Oh(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function B4(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(HC," "),u=s.indexOf("="),c=Oh(u<0?s:s.slice(0,u)),f=u<0?null:Oh(s.slice(u+1));if(c in t){let d=t[c];Ur(d)||(d=t[c]=[d]),d.push(f)}else t[c]=f}return t}function ES(e){let t="";for(let n in e){const r=e[n];if(n=U4(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ur(r)?r.map(s=>s&&Bv(s)):[r&&Bv(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function q4(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Ur(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const $4=Symbol(""),IS=Symbol(""),J_=Symbol(""),zC=Symbol(""),qv=Symbol("");function Ku(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Ji(e,t,n,r,o){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((u,c)=>{const f=h=>{h===!1?c(Ha(4,{from:n,to:t})):h instanceof Error?c(h):p4(h)?c(Ha(2,{from:t,to:h})):(s&&r.enterCallbacks[o]===s&&typeof h=="function"&&s.push(h),u())},d=e.call(r&&r.instances[o],t,n,f);let g=Promise.resolve(d);e.length<3&&(g=g.then(f)),g.catch(h=>c(h))})}function jg(e,t,n,r){const o=[];for(const s of e)for(const u in s.components){let c=s.components[u];if(!(t!=="beforeRouteEnter"&&!s.instances[u]))if(H4(c)){const d=(c.__vccOpts||c)[t];d&&o.push(Ji(d,n,r,s,u))}else{let f=c();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${s.path}"`));const g=Y$(d)?d.default:d;s.components[u]=g;const p=(g.__vccOpts||g)[t];return p&&Ji(p,n,r,s,u)()}))}}return o}function H4(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function TS(e){const t=cr(J_),n=cr(zC),r=Pe(()=>t.resolve(Le(e.to))),o=Pe(()=>{const{matched:f}=r.value,{length:d}=f,g=f[d-1],h=n.matched;if(!g||!h.length)return-1;const p=h.findIndex($a.bind(null,g));if(p>-1)return p;const v=SS(f[d-2]);return d>1&&SS(g)===v&&h[h.length-1].path!==v?h.findIndex($a.bind(null,f[d-2])):p}),s=Pe(()=>o.value>-1&&z4(n.params,r.value.params)),u=Pe(()=>o.value>-1&&o.value===n.matched.length-1&&UC(n.params,r.value.params));function c(f={}){return G4(f)?t[Le(e.replace)?"replace":"push"](Le(e.to)).catch(cc):Promise.resolve()}return{route:r,href:Pe(()=>r.value.href),isActive:s,isExactActive:u,navigate:c}}const W4=qc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:TS,setup(e,{slots:t}){const n=ai(TS(e)),{options:r}=cr(J_),o=Pe(()=>({[AS(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[AS(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:ki("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),K4=W4;function G4(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function z4(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!Ur(o)||o.length!==r.length||r.some((s,u)=>s!==o[u]))return!1}return!0}function SS(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const AS=(e,t,n)=>e??t??n,X4=qc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=cr(qv),o=Pe(()=>e.route||r.value),s=cr(IS,0),u=Pe(()=>{let d=Le(s);const{matched:g}=o.value;let h;for(;(h=g[d])&&!h.components;)d++;return d}),c=Pe(()=>o.value.matched[u.value]);va(IS,Pe(()=>u.value+1)),va($4,c),va(qv,o);const f=Ct();return wn(()=>[f.value,c.value,e.name],([d,g,h],[p,v,_])=>{g&&(g.instances[h]=d,v&&v!==g&&d&&d===p&&(g.leaveGuards.size||(g.leaveGuards=v.leaveGuards),g.updateGuards.size||(g.updateGuards=v.updateGuards))),d&&g&&(!v||!$a(g,v)||!p)&&(g.enterCallbacks[h]||[]).forEach(E=>E(d))},{flush:"post"}),()=>{const d=o.value,g=e.name,h=c.value,p=h&&h.components[g];if(!p)return kS(n.default,{Component:p,route:d});const v=h.props[g],_=v?v===!0?d.params:typeof v=="function"?v(d):v:null,A=ki(p,ut({},_,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(h.instances[g]=null)},ref:f}));return kS(n.default,{Component:A,route:d})||A}}});function kS(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Y4=X4;function Q4(e){const t=T4(e.routes,e),n=e.parseQuery||B4,r=e.stringifyQuery||ES,o=e.history,s=Ku(),u=Ku(),c=Ku(),f=gy(Ki);let d=Ki;ca&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=Ug.bind(null,$=>""+$),h=Ug.bind(null,j4),p=Ug.bind(null,Oh);function v($,z){let re,ce;return jC($)?(re=t.getRecordMatcher($),ce=z):ce=$,t.addRoute(ce,re)}function _($){const z=t.getRecordMatcher($);z&&t.removeRoute(z)}function E(){return t.getRoutes().map($=>$.record)}function A($){return!!t.getRecordMatcher($)}function b($,z){if(z=ut({},z||f.value),typeof $=="string"){const I=Vg(n,$,z.path),O=t.resolve({path:I.path},z),U=o.createHref(I.fullPath);return ut(I,O,{params:p(O.params),hash:Oh(I.hash),redirectedFrom:void 0,href:U})}let re;if("path"in $)re=ut({},$,{path:Vg(n,$.path,z.path).path});else{const I=ut({},$.params);for(const O in I)I[O]==null&&delete I[O];re=ut({},$,{params:h(I)}),z.params=h(z.params)}const ce=t.resolve(re,z),ke=$.hash||"";ce.params=g(p(ce.params));const P=Z$(r,ut({},$,{hash:F4(ke),path:ce.path})),T=o.createHref(P);return ut({fullPath:P,hash:ke,query:r===ES?q4($.query):$.query||{}},ce,{redirectedFrom:void 0,href:T})}function k($){return typeof $=="string"?Vg(n,$,f.value.path):ut({},$)}function D($,z){if(d!==$)return Ha(8,{from:z,to:$})}function R($){return K($)}function M($){return R(ut(k($),{replace:!0}))}function F($){const z=$.matched[$.matched.length-1];if(z&&z.redirect){const{redirect:re}=z;let ce=typeof re=="function"?re($):re;return typeof ce=="string"&&(ce=ce.includes("?")||ce.includes("#")?ce=k(ce):{path:ce},ce.params={}),ut({query:$.query,hash:$.hash,params:"path"in ce?{}:$.params},ce)}}function K($,z){const re=d=b($),ce=f.value,ke=$.state,P=$.force,T=$.replace===!0,I=F(re);if(I)return K(ut(k(I),{state:typeof I=="object"?ut({},ke,I.state):ke,force:P,replace:T}),z||re);const O=re;O.redirectedFrom=z;let U;return!P&&e4(r,ce,re)&&(U=Ha(16,{to:O,from:ce}),yt(ce,ce,!0,!1)),(U?Promise.resolve(U):L(O,ce)).catch(B=>mi(B)?mi(B,2)?B:lt(B):ve(B,O,ce)).then(B=>{if(B){if(mi(B,2))return K(ut({replace:T},k(B.to),{state:typeof B.to=="object"?ut({},ke,B.to.state):ke,force:P}),z||O)}else B=se(O,ce,!0,T,ke);return we(O,ce,B),B})}function V($,z){const re=D($,z);return re?Promise.reject(re):Promise.resolve()}function q($){const z=ht.values().next().value;return z&&typeof z.runWithContext=="function"?z.runWithContext($):$()}function L($,z){let re;const[ce,ke,P]=J4($,z);re=jg(ce.reverse(),"beforeRouteLeave",$,z);for(const I of ce)I.leaveGuards.forEach(O=>{re.push(Ji(O,$,z))});const T=V.bind(null,$,z);return re.push(T),Ie(re).then(()=>{re=[];for(const I of s.list())re.push(Ji(I,$,z));return re.push(T),Ie(re)}).then(()=>{re=jg(ke,"beforeRouteUpdate",$,z);for(const I of ke)I.updateGuards.forEach(O=>{re.push(Ji(O,$,z))});return re.push(T),Ie(re)}).then(()=>{re=[];for(const I of $.matched)if(I.beforeEnter&&!z.matched.includes(I))if(Ur(I.beforeEnter))for(const O of I.beforeEnter)re.push(Ji(O,$,z));else re.push(Ji(I.beforeEnter,$,z));return re.push(T),Ie(re)}).then(()=>($.matched.forEach(I=>I.enterCallbacks={}),re=jg(P,"beforeRouteEnter",$,z),re.push(T),Ie(re))).then(()=>{re=[];for(const I of u.list())re.push(Ji(I,$,z));return re.push(T),Ie(re)}).catch(I=>mi(I,8)?I:Promise.reject(I))}function we($,z,re){for(const ce of c.list())q(()=>ce($,z,re))}function se($,z,re,ce,ke){const P=D($,z);if(P)return P;const T=z===Ki,I=ca?history.state:{};re&&(ce||T?o.replace($.fullPath,ut({scroll:T&&I&&I.scroll},ke)):o.push($.fullPath,ke)),f.value=$,yt($,z,re,T),lt()}let be;function Se(){be||(be=o.listen(($,z,re)=>{if(!le.listening)return;const ce=b($),ke=F(ce);if(ke){K(ut(ke,{replace:!0}),ce).catch(cc);return}d=ce;const P=f.value;ca&&u4(pS(P.fullPath,re.delta),Rd()),L(ce,P).catch(T=>mi(T,12)?T:mi(T,2)?(K(T.to,ce).then(I=>{mi(I,20)&&!re.delta&&re.type===Vc.pop&&o.go(-1,!1)}).catch(cc),Promise.reject()):(re.delta&&o.go(-re.delta,!1),ve(T,ce,P))).then(T=>{T=T||se(ce,P,!1),T&&(re.delta&&!mi(T,8)?o.go(-re.delta,!1):re.type===Vc.pop&&mi(T,20)&&o.go(-1,!1)),we(ce,P,T)}).catch(cc)}))}let Ue=Ku(),he=Ku(),Ee;function ve($,z,re){lt($);const ce=he.list();return ce.length?ce.forEach(ke=>ke($,z,re)):console.error($),Promise.reject($)}function ot(){return Ee&&f.value!==Ki?Promise.resolve():new Promise(($,z)=>{Ue.add([$,z])})}function lt($){return Ee||(Ee=!$,Se(),Ue.list().forEach(([z,re])=>$?re($):z()),Ue.reset()),$}function yt($,z,re,ce){const{scrollBehavior:ke}=e;if(!ca||!ke)return Promise.resolve();const P=!re&&c4(pS($.fullPath,0))||(ce||!re)&&history.state&&history.state.scroll||null;return ns().then(()=>ke($,z,P)).then(T=>T&&a4(T)).catch(T=>ve(T,$,z))}const vt=$=>o.go($);let ft;const ht=new Set,le={currentRoute:f,listening:!0,addRoute:v,removeRoute:_,hasRoute:A,getRoutes:E,resolve:b,options:e,push:R,replace:M,go:vt,back:()=>vt(-1),forward:()=>vt(1),beforeEach:s.add,beforeResolve:u.add,afterEach:c.add,onError:he.add,isReady:ot,install($){const z=this;$.component("RouterLink",K4),$.component("RouterView",Y4),$.config.globalProperties.$router=z,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>Le(f)}),ca&&!ft&&f.value===Ki&&(ft=!0,R(o.location).catch(ke=>{}));const re={};for(const ke in Ki)re[ke]=Pe(()=>f.value[ke]);$.provide(J_,z),$.provide(zC,ai(re)),$.provide(qv,f);const ce=$.unmount;ht.add($),$.unmount=function(){ht.delete($),ht.size<1&&(d=Ki,be&&be(),be=null,f.value=Ki,ft=!1,Ee=!1),ce()}}};function Ie($){return $.reduce((z,re)=>z.then(()=>q(re)),Promise.resolve())}return le}function J4(e,t){const n=[],r=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let u=0;u<s;u++){const c=t.matched[u];c&&(e.matched.find(d=>$a(d,c))?r.push(c):n.push(c));const f=e.matched[u];f&&(t.matched.find(d=>$a(d,f))||o.push(f))}return[n,r,o]}const Z4={name:"SongItem",props:["song"]},e3={class:"flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"},t3={class:"text-gray-500 text-sm"},n3={class:"text-gray-600 text-lg"},r3=["onClick"],i3=W("i",{class:"fa fa-comments text-gray-600"},null,-1);function o3(e,t,n,r,o,s){const u=Ot("router-link");return ze(),ct("li",e3,[W("div",null,[xe(u,{to:{name:"song",params:{id:n.song.docId}},class:"font-bold block text-gray-600"},{default:Ln(()=>[uo(Tt(n.song.modified_name),1)]),_:1},8,["to"]),W("span",t3,Tt(n.song.display_name),1)]),W("div",n3,[xe(u,{custom:"",to:{name:"song",params:{id:n.song.docId},hash:"#comments"}},{default:Ln(({navigate:c})=>[W("span",{class:"comments",onClick:c},[i3,uo(" "+Tt(n.song.comment_count),1)],8,r3)]),_:1},8,["to"])])])}const s3=hr(Z4,[["render",o3]]),a3={beforeMount(e,t){let n=`fa fa-${t.value.icon} text-green-400 text-xl`;t.value.right&&(n+=" float-right"),e.innerHTML+=`<i class="${n}"></i>`}},u3="/assets/img/introduction-music.png",c3={name:"Home",components:{AppSongItem:s3},directives:{"icon-secondary":a3},data(){return{songs:[],maxPerPage:3,pendingRequest:!1}},async created(){this.getSongs(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const{scrollTop:e,offsetHeight:t}=document.documentElement,{innerHeight:n}=window;Math.round(e)+n===t&&this.getSongs()},async getSongs(){if(this.pendingRequest)return;this.pendingRequest=!0;let e;if(this.songs.length){const t=await Ti.doc(this.songs[this.songs.length-1].docId).get();e=await Ti.orderBy("modified_name").startAfter(t).limit(this.maxPerPage).get()}else e=await Ti.orderBy("modified_name").limit(this.maxPerPage).get();e.forEach(t=>{this.songs.push({docId:t.id,...t.data()})}),this.pendingRequest=!1}}},l3={class:"mb-8 py-20 text-white text-center relative"},f3=W("div",{class:"absolute inset-0 w-full h-full bg-contain introduction-bg",style:{"background-image":"url(assets/img/header.png)"}},null,-1),h3={class:"container mx-auto"},d3={class:"text-white main-header-content"},p3={class:"font-bold text-5xl mb-5"},m3=W("p",{class:"w-full md:w-8/12 mx-auto"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus et dolor mollis, congue augue non, venenatis elit. Nunc justo eros, suscipit ac aliquet imperdiet, venenatis et sapien. Duis sed magna pulvinar, fringilla lorem eget, ullamcorper urna. ",-1),g3=W("img",{class:"relative block mx-auto mt-5 -mb-20 w-auto max-w-full",src:u3},null,-1),v3={class:"container mx-auto"},y3={class:"bg-white rounded border border-gray-200 relative flex flex-col"},_3={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},b3=W("span",{class:"card-title"},"Songs",-1),w3=[b3],E3={id:"playlist"};function I3(e,t,n,r,o,s){const u=Ot("app-song-item"),c=ZL("icon-secondary");return ze(),ct("main",null,[W("section",l3,[f3,W("div",h3,[W("div",d3,[W("h1",p3,Tt(e.$t("home.listen")),1),m3])]),g3]),W("section",v3,[W("div",y3,[Zf((ze(),ct("div",_3,w3)),[[c,{icon:"headphones-alt",right:!0}]]),W("ol",E3,[(ze(!0),ct(Wt,null,Hc(o.songs,f=>(ze(),ps(u,{key:f.docId,song:f},null,8,["song"]))),128))])])])])}const T3=hr(c3,[["render",I3]]),S3={};function A3(e,t){return ze(),ct("h1",null,"This is the about page")}const k3=hr(S3,[["render",A3]]),N3={name:"Upload",data(){return{is_dragover:!1,uploads:[]}},props:["addSong"],methods:{upload(e){this.is_dragover=!1;const t=e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files];t.forEach(n=>{if(n.type!=="audio/mpeg")return;const s=FC.ref().child(`songs/${n.name}`).put(n),u=this.uploads.push({task:s,current_progress:0,name:n.name,variant:"bg-blue-400",icon:"fas fa-spinner fa-spin",text_class:""})-1;s.on("state_changed",c=>{const f=c.bytesTransferred/c.totalBytes*100;this.uploads[u].current_progress=f},c=>{this.uploads[u].variant="bg-red-400",this.uploads[u].icon="fas fa-times",this.uploads[u].text_class="text-red-400",console.log(c)},async()=>{const c={uid:oi.currentUser.uid,display_name:oi.currentUser.displayName,original_name:s.snapshot.ref.name,modified_name:s.snapshot.ref.name,genre:"",comment_count:0};c.url=await s.snapshot.ref.getDownloadURL();const d=await(await Ti.add(c)).get();this.addSong(d),this.uploads[u].variant="bg-green-400",this.uploads[u].icon="fas fa-check",this.uploads[u].text_class="text-green-400"})}),console.log(t)}},beforeUnmount(){this.uploads.forEach(e=>{e.task.cancel()})}},C3={class:"bg-white rounded border border-gray-200 relative flex flex-col"},O3=W("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[W("span",{class:"card-title"},"Upload"),W("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),R3={class:"p-6"},x3=W("h5",null,"Drop your files here",-1),P3=[x3],D3=W("hr",{class:"my-6"},null,-1),L3={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function M3(e,t,n,r,o,s){return ze(),ct("div",C3,[O3,W("div",R3,[W("div",{class:Dn(["w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-green-400 hover:border-green-400 hover:border-solid",{"bg-green-400 border-green-400 border-solid":o.is_dragover}]),onDrag:t[0]||(t[0]=Qr(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=Qr(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=Qr(u=>o.is_dragover=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=Qr(u=>o.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=Qr(u=>o.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=Qr(u=>o.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=Qr(u=>s.upload(u),["prevent","stop"]))},P3,34),W("input",{type:"file",multiple:"",onChange:t[7]||(t[7]=u=>s.upload(u))},null,32),D3,(ze(!0),ct(Wt,null,Hc(o.uploads,u=>(ze(),ct("div",{class:"mb-4",key:u.name},[W("div",{class:Dn(["font-bold text-sm",u.text_class])},[W("i",{class:Dn(u.icon)},null,2),uo(" "+Tt(u.name),1)],2),W("div",L3,[W("div",{class:Dn(["transition-all progress-bar",u.variant]),style:ba({width:u.current_progress+"%"})},null,6)])]))),128))])])}const F3=hr(N3,[["render",M3]]),U3={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},index:{type:Number,required:!0},removeSong:{type:Function,required:!0},updateUnsavedFlag:{type:Function,required:!0}},data(){return{showForm:!1,schema:{modified_name:"required",genre:"alphaSpaces"},in_submission:!1,show_alert:!1,alert_variant:"bg-blue-500",alert_message:"Please Wait! Updating song info"}},methods:{async edit(e){this.in_submission=!0,this.show_alert=!0,this.alert_variant="bg-blue-500",this.alert_message="Please Wait! Updating song info";try{console.log(e),await Ti.doc(this.song.docId).update(e)}catch(t){this.in_submission=!1,this.alert_variant="bg-red-500",this.alert_message="Something went wrong",console.log(t);return}this.updateSong(this.index,e),this.updateUnsavedFlag(!1),this.in_submission=!1,this.alert_variant="bg-green-500",this.alert_message="Success"},async deleteSong(){await FC.ref().child(`songs/${this.song.original_name}`).delete(),await Ti.doc(this.song.docId).delete(),this.removeSong(this.index)}}},V3={class:"border border-gray-200 p-3 mb-4 rounded"},j3={class:"inline-block text-2xl font-bold"},B3=W("i",{class:"fa fa-times"},null,-1),q3=[B3],$3=W("i",{class:"fa fa-pencil-alt"},null,-1),H3=[$3],W3={class:"mb-3"},K3=W("label",{class:"inline-block mb-2"},"Song Title",-1),G3={class:"mb-3"},z3=W("label",{class:"inline-block mb-2"},"Genre",-1),X3=["disabled"],Y3=["disabled"];function Q3(e,t,n,r,o,s){const u=Ot("vee-field"),c=Ot("ErrorMessage"),f=Ot("vee-form");return ze(),ct("div",V3,[Zf(W("div",null,[W("h4",j3,Tt(n.song.modified_name),1),W("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right",onClick:t[0]||(t[0]=Qr((...d)=>s.deleteSong&&s.deleteSong(...d),["prevent"]))},q3),W("button",{onClick:t[1]||(t[1]=Qr(d=>o.showForm=!o.showForm,["prevent"])),class:"ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"},H3)],512),[[NI,!o.showForm]]),Zf(W("div",null,[o.show_alert?(ze(),ct("div",{key:0,class:Dn(["text-white text-center font-bold p-4 mb-4",o.alert_variant])},Tt(o.alert_message),3)):Ea("",!0),xe(f,{"validation-schema":o.schema,"initial-values":n.song,onSubmit:s.edit},{default:Ln(()=>[W("div",W3,[K3,xe(u,{type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title",name:"modified_name",onInput:t[2]||(t[2]=d=>n.updateUnsavedFlag(!0))}),xe(c,{class:"text-red-600",name:"modified_name"})]),W("div",G3,[z3,xe(u,{type:"text",class:"block w-full py-2 px-4 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre",name:"genre",onInput:t[3]||(t[3]=d=>n.updateUnsavedFlag(!0))}),xe(c,{class:"text-red-600",name:"genre"})]),W("button",{type:"submit",class:"submit-btn py-1.5 px-3 rounded text-white bg-green-600",disabled:o.in_submission}," Submit ",8,X3),W("button",{type:"button",class:"back-btn py-1.5 px-3 rounded text-white bg-gray-600",disabled:o.in_submission,onClick:t[4]||(t[4]=Qr(d=>o.showForm=!1,["prevent"]))}," Go Back ",8,Y3)]),_:1},8,["validation-schema","initial-values","onSubmit"])],512),[[NI,o.showForm]])])}const J3=hr(U3,[["render",Q3]]),Z3={name:"Manage",components:{AppUpload:F3,CompositionItem:J3},data(){return{songs:[],unsavedFlag:!1}},async created(){(await Ti.where("uid","==",oi.currentUser.uid).get()).forEach(this.addSong)},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docId:e.id};this.songs.push(t)},updateUnsavedFlag(e){this.unsavedFlag=e}},beforeRouteLeave(e,t,n){if(!this.unsavedFlag)n();else{const r=confirm("You have unsaved changes. Are you sure you want to leave?");n(r)}}},eH={class:"container mx-auto mt-6"},tH={class:"md:grid md:grid-cols-3 md:gap-4"},nH={class:"col-span-1"},rH={class:"col-span-2"},iH={class:"bg-white rounded border border-gray-200 relative flex flex-col"},oH={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},sH={class:"card-title"},aH=W("i",{class:"fa fa-compact-disc float-right text-green-400 text-2xl"},null,-1),uH={class:"p-6"};function cH(e,t,n,r,o,s){const u=Ot("app-upload"),c=Ot("composition-item");return ze(),ct("section",eH,[W("div",tH,[W("div",nH,[xe(u,{ref:"upload",addSong:s.addSong},null,8,["addSong"])]),W("div",rH,[W("div",iH,[W("div",oH,[W("span",sH,Tt(e.$t("manage.my_songs")),1),aH]),W("div",uH,[(ze(!0),ct(Wt,null,Hc(o.songs,(f,d)=>(ze(),ps(c,{key:f.docId,song:f,updateSong:s.updateSong,index:d,removeSong:s.removeSong,updateUnsavedFlag:s.updateUnsavedFlag},null,8,["song","updateSong","index","removeSong","updateUnsavedFlag"]))),128))])])])])])}const lH=hr(Z3,[["render",cH]]),fH={name:"Song",data(){return{song:{},schema:{comments:"required|min:3"},comment_in_submission:!1,comment_show_alert:!1,comment_alert_variant:"bg-blue-500",comment_alert_message:"Please wait, your comment is being submitted!!",comments:[],sort:"1"}},methods:{async addComment(e,{resetForm:t}){this.comment_in_submission=!0,this.comment_show_alert=!0,this.comment_alert_variant="bg-blue-500",this.comment_alert_message="Please wait, your comment is being submitted!!";const n={content:e.comments,datePosted:new Date().toString(),sid:this.$route.params.id,name:oi.currentUser.displayName,uid:oi.currentUser.uid};await lS.add(n),this.song.comment_count+=1,await Ti.doc(this.$route.params.id).update({comment_count:this.song.comment_count}),this.getComments(),this.comment_in_submission=!1,this.comment_alert_variant="bg-green-500",this.comment_alert_message="Comment Added!",t()},async getComments(){const e=await lS.where("sid","==",this.$route.params.id).get();this.comments=[],e.forEach(t=>{this.comments.push({docId:t.id,...t.data()})})},...Xh(Vv,["newSong"])},computed:{...Oy(iu,["userLoggedIn"]),sortedComments(){return this.comments.slice().sort((e,t)=>this.sort=="1"?new Date(t.datePosted)-new Date(e.datePosted):new Date(e.datePosted)-new Date(t.datePosted))}},async created(){const e=await Ti.doc(this.$route.params.id).get();if(!e.exists){this.$router.push({name:"home"});return}const{sort:t}=this.$route.query;this.sort=t==="1"||t==="2"?t:"1",this.song=e.data(),this.getComments()},watch:{sort(e){e!==this.$route.query.sort&&this.$router.push({query:{sort:e}})}}},hH={class:"w-full mb-8 py-14 text-center text-white relative"},dH=W("div",{class:"absolute inset-0 w-full h-full box-border bg-contain music-bg",style:{"background-image":"url(/assets/img/song-header.png)"}},null,-1),pH={class:"container mx-auto flex items-center"},mH=W("i",{class:"fas fa-play"},null,-1),gH=[mH],vH={class:"z-50 text-left ml-8"},yH={class:"text-3xl font-bold"},_H={class:"song-price"},bH={class:"container mx-auto mt-6",id:"comments"},wH={class:"bg-white rounded border border-gray-200 relative flex flex-col"},EH={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},IH={class:"card-title"},TH=W("i",{class:"fa fa-comments float-right text-green-400 text-2xl"},null,-1),SH={class:"p-6"},AH=["disabled"],kH=W("option",{value:"1"},"Latest",-1),NH=W("option",{value:"2"},"Oldest",-1),CH=[kH,NH],OH={class:"container mx-auto"},RH={class:"mb-5"},xH={class:"font-bold"};function PH(e,t,n,r,o,s){const u=Ot("vee-field"),c=Ot("ErrorMessage"),f=Ot("vee-form");return ze(),ct("main",null,[W("section",hH,[dH,W("div",pH,[W("button",{onClick:t[0]||(t[0]=d=>e.newSong(o.song)),type:"button",class:"z-50 h-24 w-24 text-3xl bg-white text-black rounded-full focus:outline-none"},gH),W("div",vH,[W("div",yH,Tt(o.song.modified_name),1),W("div",null,Tt(o.song.genre),1),W("div",_H,Tt(e.$n(1,"currency")),1)])])]),W("section",bH,[W("div",wH,[W("div",EH,[W("span",IH,Tt(e.$tc("song.comment_count",o.song.comment_count,{count:o.song.comment_count})),1),TH]),W("div",SH,[o.comment_show_alert?(ze(),ct("div",{key:0,class:Dn(["text-white text-center font-bold p-4 mb-4",o.comment_alert_variant])},Tt(o.comment_alert_message),3)):Ea("",!0),e.userLoggedIn?(ze(),ps(f,{key:1,"validation-schema":o.schema,onSubmit:s.addComment},{default:Ln(()=>[xe(u,{as:"textarea",name:"comments",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded mb-4",placeholder:"Your comment here..."}),xe(c,{class:"text-red-600",name:"comments"}),W("button",{type:"submit",class:"comment-submit py-1.5 px-3 rounded text-white bg-green-600 block",disabled:o.comment_in_submission}," Submit ",8,AH)]),_:1},8,["validation-schema","onSubmit"])):Ea("",!0),Zf(W("select",{"onUpdate:modelValue":t[1]||(t[1]=d=>o.sort=d),class:"block mt-4 py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},CH,512),[[eF,o.sort]])])])]),W("ul",OH,[(ze(!0),ct(Wt,null,Hc(s.sortedComments,d=>(ze(),ct("li",{class:"p-6 bg-gray-50 border border-gray-200",key:d.docId},[W("div",RH,[W("div",xH,Tt(d.name),1),W("time",null,Tt(d.datePosted),1)]),W("p",null,Tt(d.content),1)]))),128))])])}const DH=hr(fH,[["render",PH]]),LH=[{name:"home",path:"/",component:T3},{name:"about",path:"/about",component:k3},{name:"manage",path:"/manage-music",component:lH,beforeEnter:(e,t,n)=>{console.log("Manage Guard route"),n()},meta:{requiresAuth:!0}},{path:"/manage",redirect:{name:"manage"}},{name:"song",path:"/song/:id",component:DH},{path:"/:catchAll(.*)*",redirect:{name:"home"}}],XC=Q4({history:d4("/"),routes:LH,linkExactActiveClass:"text-yellow-500"});XC.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}iu().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.9.6
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function hn(e){return typeof e=="function"}function YC(e){return e==null}const Es=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function QC(e){return Number(e)>=0}function MH(e){const t=parseFloat(e);return isNaN(t)?e:t}function FH(e){return typeof e=="object"&&e!==null}function UH(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function VH(e){if(!FH(e)||UH(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function JC(e,t){return Object.keys(t).forEach(n=>{if(VH(t[n])){e[n]||(e[n]={}),JC(e[n],t[n]);return}e[n]=t[n]}),e}const ZC={};function Nr(e,t){BH(e,t),ZC[e]=t}function jH(e){return ZC[e]}function BH(e,t){if(!hn(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}const xd=Symbol("vee-validate-form"),qH=Symbol("vee-validate-field-instance"),Rh=Symbol("Default empty value"),$H=typeof window<"u";function $v(e){return hn(e)&&!!e.__locatorRef}function Is(e){return!!e&&hn(e.parse)&&e.__type==="VVTypedSchema"}function xh(e){return!!e&&hn(e.validate)}function hl(e){return e==="checkbox"||e==="radio"}function HH(e){return Es(e)||Array.isArray(e)}function WH(e){return Array.isArray(e)?e.length===0:Es(e)&&Object.keys(e).length===0}function Pd(e){return/^\[.+\]$/i.test(e)}function KH(e){return eO(e)&&e.multiple}function eO(e){return e.tagName==="SELECT"}function GH(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function zH(e,t){return!GH(e,t)&&t.type!=="file"&&!hl(t.type)}function tO(e){return Z_(e)&&e.target&&"submit"in e.target}function Z_(e){return e?!!(typeof Event<"u"&&hn(Event)&&e instanceof Event||e&&e.srcElement):!1}function NS(e,t){return t in e&&e[t]!==Rh}function Un(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Un(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!Un(r[1],t.get(r[0])))return!1;return!0}if(CS(e)&&CS(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){var s=o[r];if(!Un(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function CS(e){return $H?e instanceof File:!1}function OS(e,t,n){typeof n.value=="object"&&(n.value=xt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function xt(e){if(typeof e!="object")return e;var t=0,n,r,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(u){o.add(xt(u))})):s==="[object Map]"?(o=new Map,e.forEach(function(u,c){o.set(xt(c),xt(u))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(xt(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)OS(o,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(o,n=r[t])&&o[n]===e[n]||OS(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}function eb(e){return Pd(e)?e.replace(/\[|\]/gi,""):e}function Wn(e,t,n){return e?Pd(t)?e[eb(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>HH(o)&&s in o?o[s]:n,e):n}function Qo(e,t,n){if(Pd(t)){e[eb(t)]=n;return}const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<r.length;s++){if(s===r.length-1){o[r[s]]=n;return}(!(r[s]in o)||YC(o[r[s]]))&&(o[r[s]]=QC(r[s+1])?[]:{}),o=o[r[s]]}}function Bg(e,t){if(Array.isArray(e)&&QC(t)){e.splice(Number(t),1);return}Es(e)&&delete e[t]}function RS(e,t){if(Pd(t)){delete e[eb(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<n.length;s++){if(s===n.length-1){Bg(r,n[s]);break}if(!(n[s]in r)||YC(r[n[s]]))break;r=r[n[s]]}const o=n.map((s,u)=>Wn(e,n.slice(0,u).join(".")));for(let s=o.length-1;s>=0;s--)if(WH(o[s])){if(s===0){Bg(e,n[0]);continue}Bg(o[s-1],n[s-1])}}function Zr(e){return Object.keys(e)}function nO(e,t=void 0){const n=Ai();return(n==null?void 0:n.provides[e])||cr(e,t)}function xS(e,t,n){if(Array.isArray(e)){const r=[...e],o=r.findIndex(s=>Un(s,t));return o>=0?r.splice(o,1):r.push(t),r}return Un(e,t)?n:t}function PS(e,t=0){let n=null,r=[];return function(...o){return n&&window.clearTimeout(n),n=window.setTimeout(()=>{const s=e(...o);r.forEach(u=>u(s)),r=[]},t),new Promise(s=>r.push(s))}}function XH(e,t){return Es(t)&&t.number?MH(e):e}function Hv(e,t){let n;return async function(...o){const s=e(...o);n=s;const u=await s;return s!==n||(n=void 0,t(u,o)),u}}function yi(e){return hn(e)?e():Le(e)}function YH(e){return Pe(()=>yi(e))}function Wv(e){return Array.isArray(e)?e:e?[e]:[]}function Gu(e,t){const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}const tb=(e,t,n)=>t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var r,o;return(o=(r=t.slots).default)===null||o===void 0?void 0:o.call(r,n())}}:t.slots.default;function qg(e){if(rO(e))return e._value}function rO(e){return"_value"in e}function Ph(e){if(!Z_(e))return e;const t=e.target;if(hl(t.type)&&rO(t))return qg(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(KH(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(qg);if(eO(t)){const n=Array.from(t.options).find(r=>r.selected);return n?qg(n):t.value}return t.value}function iO(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?Es(e)&&e._$$isNormalized?e:Es(e)?Object.keys(e).reduce((n,r)=>{const o=QH(e[r]);return e[r]!==!1&&(n[r]=DS(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,r)=>{const o=JH(r);return o.name&&(n[o.name]=DS(o.params)),n},t):t}function QH(e){return e===!0?[]:Array.isArray(e)||Es(e)?e:[e]}function DS(e){const t=n=>typeof n=="string"&&n[0]==="@"?ZH(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{})}const JH=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function ZH(e){const t=n=>Wn(n,e)||n[e];return t.__locatorRef=e,t}function eW(e){return Array.isArray(e)?e.filter($v):Zr(e).filter(t=>$v(e[t])).map(t=>e[t])}const tW={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Kv=Object.assign({},tW);const io=()=>Kv,nW=e=>{Kv=Object.assign(Object.assign({},Kv),e)},rW=nW;async function oO(e,t,n={}){const r=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:r??!0,formData:(n==null?void 0:n.values)||{}},u=(await iW(o,e)).errors;return{errors:u,valid:!u.length}}async function iW(e,t){if(Is(e.rules)||xh(e.rules))return sW(t,e.rules);if(hn(e.rules)||Array.isArray(e.rules)){const u={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},c=Array.isArray(e.rules)?e.rules:[e.rules],f=c.length,d=[];for(let g=0;g<f;g++){const h=c[g],p=await h(t,u);if(typeof p!="string"&&p)continue;const _=typeof p=="string"?p:aO(u);if(d.push(_),e.bails)return{errors:d}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:iO(e.rules)}),r=[],o=Object.keys(n.rules),s=o.length;for(let u=0;u<s;u++){const c=o[u],f=await aW(n,t,{name:c,params:n.rules[c]});if(f.error&&(r.push(f.error),e.bails))return{errors:r}}return{errors:r}}function oW(e){return!!e&&e.name==="ValidationError"}function sO(e){return{__type:"VVTypedSchema",async parse(n){var r;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!oW(o))throw o;if(!(!((r=o.inner)===null||r===void 0)&&r.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const s=o.inner.reduce((u,c)=>{const f=c.path||"";return u[f]||(u[f]={errors:[],path:f}),u[f].errors.push(...c.errors),u},{});return{errors:Object.values(s)}}}}}async function sW(e,t){const r=await(Is(t)?t:sO(t)).parse(e),o=[];for(const s of r.errors)s.errors.length&&o.push(...s.errors);return{errors:o}}async function aW(e,t,n){const r=jH(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const o=uW(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},u=await r(t,o,s);return typeof u=="string"?{error:u}:{error:u?void 0:aO(s)}}function aO(e){const t=io().generateMessage;return t?t(e):"Field is invalid"}function uW(e,t){const n=r=>$v(r)?r(t):r;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((r,o)=>(r[o]=n(e[o]),r),{})}async function cW(e,t){const r=await(Is(e)?e:sO(e)).parse(t),o={},s={};for(const u of r.errors){const c=u.errors,f=(u.path||"").replace(/\["(\d+)"\]/g,(d,g)=>`[${g}]`);o[f]={valid:!c.length,errors:c},c.length&&(s[f]=c[0])}return{valid:!r.errors.length,results:o,errors:s,values:r.value}}async function lW(e,t,n){const o=Zr(e).map(async d=>{var g,h,p;const v=(g=n==null?void 0:n.names)===null||g===void 0?void 0:g[d],_=await oO(Wn(t,d),e[d],{name:(v==null?void 0:v.name)||d,label:v==null?void 0:v.label,values:t,bails:(p=(h=n==null?void 0:n.bailsMap)===null||h===void 0?void 0:h[d])!==null&&p!==void 0?p:!0});return Object.assign(Object.assign({},_),{path:d})});let s=!0;const u=await Promise.all(o),c={},f={};for(const d of u)c[d.path]={valid:d.valid,errors:d.errors},d.valid||(s=!1,f[d.path]=d.errors[0]);return{valid:s,results:c,errors:f}}let LS=0;function fW(e,t){const{value:n,initialValue:r,setInitialValue:o}=hW(e,t.modelValue,t.form);if(!t.form){let p=function(_){var E;"value"in _&&(n.value=_.value),"errors"in _&&d(_.errors),"touched"in _&&(h.touched=(E=_.touched)!==null&&E!==void 0?E:h.touched),"initialValue"in _&&o(_.initialValue)};var c=p;const{errors:f,setErrors:d}=mW(),g=LS>=Number.MAX_SAFE_INTEGER?0:++LS,h=pW(n,r,f);return{id:g,path:e,value:n,initialValue:r,meta:h,flags:{pendingUnmount:{[g]:!1}},errors:f,setState:p}}const s=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate}),u=Pe(()=>s.errors);function c(f){var d,g,h;"value"in f&&(n.value=f.value),"errors"in f&&((d=t.form)===null||d===void 0||d.setFieldError(Le(e),f.errors)),"touched"in f&&((g=t.form)===null||g===void 0||g.setFieldTouched(Le(e),(h=f.touched)!==null&&h!==void 0?h:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(s.id)?s.id[s.id.length-1]:s.id,path:e,value:n,errors:u,meta:s,initialValue:r,flags:s.__flags,setState:c}}function hW(e,t,n){const r=Ct(Le(t));function o(){return n?Wn(n.initialValues.value,Le(e),Le(r)):Le(r)}function s(d){if(!n){r.value=d;return}n.stageInitialValue(Le(e),d,!0)}const u=Pe(o);if(!n)return{value:Ct(o()),initialValue:u,setInitialValue:s};const c=dW(t,n,u,e);return n.stageInitialValue(Le(e),c,!0),{value:Pe({get(){return Wn(n.values,Le(e))},set(d){n.setFieldValue(Le(e),d)}}),initialValue:u,setInitialValue:s}}function dW(e,t,n,r){return pt(e)?Le(e):e!==void 0?e:Wn(t.values,Le(r),Le(n))}function pW(e,t,n){const r=ai({touched:!1,pending:!1,valid:!0,validated:!!Le(n).length,initialValue:Pe(()=>Le(t)),dirty:Pe(()=>!Un(Le(e),Le(t)))});return wn(n,o=>{r.valid=!o.length},{immediate:!0,flush:"sync"}),r}function mW(){const e=Ct([]);return{errors:e,setErrors:t=>{e.value=Wv(t)}}}function gW(e,t,n){return hl(n==null?void 0:n.type)?yW(e,t,n):uO(e,t,n)}function uO(e,t,n){const{initialValue:r,validateOnMount:o,bails:s,type:u,checkedValue:c,label:f,validateOnValueUpdate:d,uncheckedValue:g,controlled:h,keepValueOnUnmount:p,modelPropName:v,syncVModel:_,form:E}=vW(n),A=h?nO(xd):void 0,b=E||A,k=YH(e),D=Pe(()=>{if(Le(b==null?void 0:b.schema))return;const Ie=Le(t);return xh(Ie)||Is(Ie)||hn(Ie)||Array.isArray(Ie)?Ie:iO(Ie)}),{id:R,value:M,initialValue:F,meta:K,setState:V,errors:q,flags:L}=fW(k,{modelValue:r,form:b,bails:s,label:f,type:u,validate:D.value?he:void 0}),we=Pe(()=>q.value[0]);_&&_W({value:M,prop:v,handleChange:Ee});const se=()=>{K.touched=!0};async function be(le){var Ie,$;return b!=null&&b.validateSchema?(Ie=(await b.validateSchema(le)).results[Le(k)])!==null&&Ie!==void 0?Ie:{valid:!0,errors:[]}:D.value?oO(M.value,D.value,{name:Le(k),label:Le(f),values:($=b==null?void 0:b.values)!==null&&$!==void 0?$:{},bails:s}):{valid:!0,errors:[]}}const Se=Hv(async()=>(K.pending=!0,K.validated=!0,be("validated-only")),le=>{if(!L.pendingUnmount[ft.id])return V({errors:le.errors}),K.pending=!1,K.valid=le.valid,le}),Ue=Hv(async()=>be("silent"),le=>(K.valid=le.valid,le));function he(le){return(le==null?void 0:le.mode)==="silent"?Ue():Se()}function Ee(le,Ie=!0){const $=Ph(le);lt($,Ie)}$c(()=>{if(o)return Se();(!b||!b.validateSchema)&&Ue()});function ve(le){K.touched=le}function ot(le){var Ie;const $=le&&"value"in le?le.value:F.value;V({value:xt($),initialValue:xt($),touched:(Ie=le==null?void 0:le.touched)!==null&&Ie!==void 0?Ie:!1,errors:(le==null?void 0:le.errors)||[]}),K.pending=!1,K.validated=!1,Ue()}function lt(le,Ie=!0){if(M.value=le,!Ie){Ue();return}(Ie?Se:Ue)()}function yt(le){V({errors:Array.isArray(le)?le:[le]})}const vt=Pe({get(){return M.value},set(le){lt(le,d)}}),ft={id:R,name:k,label:f,value:vt,meta:K,errors:q,errorMessage:we,type:u,checkedValue:c,uncheckedValue:g,bails:s,keepValueOnUnmount:p,resetField:ot,handleReset:()=>ot(),validate:he,handleChange:Ee,handleBlur:se,setState:V,setTouched:ve,setErrors:yt,setValue:lt};if(va(qH,ft),pt(t)&&typeof Le(t)!="function"&&wn(t,(le,Ie)=>{Un(le,Ie)||(K.validated?Se():Ue())},{deep:!0}),!b)return ft;const ht=Pe(()=>{const le=D.value;return!le||hn(le)||xh(le)||Is(le)||Array.isArray(le)?{}:Object.keys(le).reduce((Ie,$)=>{const z=eW(le[$]).map(re=>re.__locatorRef).reduce((re,ce)=>{const ke=Wn(b.values,ce)||b.values[ce];return ke!==void 0&&(re[ce]=ke),re},{});return Object.assign(Ie,z),Ie},{})});return wn(ht,(le,Ie)=>{if(!Object.keys(le).length)return;!Un(le,Ie)&&(K.validated?Se():Ue())}),by(()=>{var le;const Ie=(le=Le(ft.keepValueOnUnmount))!==null&&le!==void 0?le:Le(b.keepValuesOnUnmount),$=yi(k);if(Ie||!b||L.pendingUnmount[ft.id]){b==null||b.removePathState($,R);return}L.pendingUnmount[ft.id]=!0;const z=b.getPathState($);if(Array.isArray(z==null?void 0:z.id)&&(z!=null&&z.multiple)?z!=null&&z.id.includes(ft.id):(z==null?void 0:z.id)===ft.id){if(z!=null&&z.multiple&&Array.isArray(z.value)){const ce=z.value.findIndex(ke=>Un(ke,Le(ft.checkedValue)));if(ce>-1){const ke=[...z.value];ke.splice(ce,1),b.setFieldValue($,ke)}Array.isArray(z.id)&&z.id.splice(z.id.indexOf(ft.id),1)}else b.unsetPathValue(yi(k));b.removePathState($,R)}}),ft}function vW(e){var t;const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0}),o=((t=e==null?void 0:e.syncVModel)!==null&&t!==void 0?t:!0)&&!("initialValue"in(e||{}))?Gv(Ai(),(e==null?void 0:e.modelPropName)||"modelValue"):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},n()),{initialValue:o});const s="valueProp"in e?e.valueProp:e.checkedValue,u="standalone"in e?!e.standalone:e.controlled;return Object.assign(Object.assign(Object.assign({},n()),e||{}),{initialValue:o,controlled:u??!0,checkedValue:s})}function yW(e,t,n){const r=n!=null&&n.standalone?void 0:nO(xd),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function u(c){const f=c.handleChange,d=Pe(()=>{const h=Le(c.value),p=Le(o);return Array.isArray(h)?h.findIndex(v=>Un(v,p))>=0:Un(p,h)});function g(h,p=!0){var v;if(d.value===((v=h==null?void 0:h.target)===null||v===void 0?void 0:v.checked)){p&&c.validate();return}const _=yi(e),E=r==null?void 0:r.getPathState(_),A=Ph(h);let b;r&&(E!=null&&E.multiple)&&E.type==="checkbox"?b=xS(Wn(r.values,_)||[],A,void 0):b=xS(Le(c.value),Le(o),Le(s)),f(b,p)}return Object.assign(Object.assign({},c),{checked:d,checkedValue:o,uncheckedValue:s,handleChange:g})}return u(uO(e,t,n))}function _W({prop:e,value:t,handleChange:n}){const r=Ai();if(!r)return;const o=e||"modelValue",s=`update:${o}`;o in r.props&&(wn(t,u=>{Un(u,Gv(r,o))||r.emit(s,u)}),wn(()=>Gv(r,o),u=>{if(u===Rh&&t.value===void 0)return;const c=u===Rh?void 0:u;Un(c,XH(t.value,r.props.modelModifiers))||n(c)}))}function Gv(e,t){if(e)return e.props[t]}const bW=qc({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>io().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Rh},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Zi(e,"rules"),r=Zi(e,"name"),o=Zi(e,"label"),s=Zi(e,"uncheckedValue"),u=Zi(e,"keepValue"),{errors:c,value:f,errorMessage:d,validate:g,handleChange:h,handleBlur:p,setTouched:v,resetField:_,handleReset:E,meta:A,checked:b,setErrors:k}=gW(r,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:EW(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:!1,keepValueOnUnmount:u}),D=function(q,L=!0){h(q,L),t.emit("update:modelValue",f.value)},R=Pe(()=>{const{validateOnInput:V,validateOnChange:q,validateOnBlur:L,validateOnModelUpdate:we}=wW(e);function se(he){p(he),hn(t.attrs.onBlur)&&t.attrs.onBlur(he),L&&g()}function be(he){D(he,V),hn(t.attrs.onInput)&&t.attrs.onInput(he)}function Se(he){D(he,q),hn(t.attrs.onChange)&&t.attrs.onChange(he)}const Ue={name:e.name,onBlur:se,onInput:be,onChange:Se};return Ue["onUpdate:modelValue"]=he=>D(he,we),Ue}),M=Pe(()=>{const V=Object.assign({},R.value);hl(t.attrs.type)&&b&&(V.checked=b.value);const q=MS(e,t);return zH(q,t.attrs)&&(V.value=f.value),V}),F=Pe(()=>Object.assign(Object.assign({},R.value),{modelValue:f.value}));function K(){return{field:M.value,componentField:F.value,value:f.value,meta:A,errors:c.value,errorMessage:d.value,validate:g,resetField:_,handleChange:D,handleInput:V=>D(V,!1),handleReset:E,handleBlur:R.value.onBlur,setTouched:v,setErrors:k}}return t.expose({setErrors:k,setTouched:v,reset:_,validate:g,handleChange:h}),()=>{const V=Wh(MS(e,t)),q=tb(V,t,K);return V?ki(V,Object.assign(Object.assign({},t.attrs),M.value),q):q}}});function MS(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function wW(e){var t,n,r,o;const{validateOnInput:s,validateOnChange:u,validateOnBlur:c,validateOnModelUpdate:f}=io();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:u,validateOnBlur:(r=e.validateOnBlur)!==null&&r!==void 0?r:c,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function EW(e,t){return hl(t.attrs.type)?NS(e,"modelValue")?e.modelValue:void 0:NS(e,"modelValue")?e.modelValue:t.attrs.value}const IW=bW;let TW=0;const zu=["bails","fieldsCount","id","multiple","type","validate"];function cO(e){const t=Le(e==null?void 0:e.initialValues)||{},n=Le(e==null?void 0:e.validationSchema);return n&&Is(n)&&hn(n.cast)?xt(n.cast(t)||{}):xt(t)}function SW(e){var t;const n=TW++;let r=0;const o=Ct(!1),s=Ct(!1),u=Ct(0),c=[],f=ai(cO(e)),d=Ct([]),g=Ct({});function h(N,C){const j=Se(N);if(!j){typeof N=="string"&&(g.value[N]=Wv(C));return}j.errors=Wv(C),j.valid=!j.errors.length}function p(N){Zr(N).forEach(C=>{h(C,N[C])})}e!=null&&e.initialErrors&&p(e.initialErrors);const v=Pe(()=>{const N=d.value.reduce((C,j)=>(j.errors.length&&(C[j.path]=j.errors),C),{});return Object.assign(Object.assign({},g.value),N)}),_=Pe(()=>Zr(v.value).reduce((N,C)=>{const j=v.value[C];return j!=null&&j.length&&(N[C]=j[0]),N},{})),E=Pe(()=>d.value.reduce((N,C)=>(N[C.path]={name:C.path||"",label:C.label||""},N),{})),A=Pe(()=>d.value.reduce((N,C)=>{var j;return N[C.path]=(j=C.bails)!==null&&j!==void 0?j:!0,N},{})),b=Object.assign({},(e==null?void 0:e.initialErrors)||{}),k=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:D,originalInitialValues:R,setInitialValues:M}=kW(d,f,e),F=AW(d,f,R,_),K=Pe(()=>d.value.reduce((N,C)=>{const j=Wn(f,C.path);return Qo(N,C.path,j),N},{})),V=e==null?void 0:e.validationSchema;function q(N,C){var j,Z;const me=Pe(()=>Wn(D.value,yi(N))),ie=d.value.find(Ye=>Ye.path===Le(N));if(ie){((C==null?void 0:C.type)==="checkbox"||(C==null?void 0:C.type)==="radio")&&(ie.multiple=!0);const Ye=r++;return Array.isArray(ie.id)?ie.id.push(Ye):ie.id=[ie.id,Ye],ie.fieldsCount++,ie.__flags.pendingUnmount[Ye]=!1,ie}const de=Pe(()=>Wn(f,yi(N))),Ne=yi(N),Be=r++,rt=ai({id:Be,path:N,touched:!1,pending:!1,valid:!0,validated:!!(!((j=b[Ne])===null||j===void 0)&&j.length),initialValue:me,errors:gy([]),bails:(Z=C==null?void 0:C.bails)!==null&&Z!==void 0?Z:!1,label:C==null?void 0:C.label,type:(C==null?void 0:C.type)||"default",value:de,multiple:!1,__flags:{pendingUnmount:{[Be]:!1}},fieldsCount:1,validate:C==null?void 0:C.validate,dirty:Pe(()=>!Un(Le(de),Le(me)))});return d.value.push(rt),_.value[Ne]&&!b[Ne]&&ns(()=>{I(Ne)}),pt(N)&&wn(N,Ye=>{const dr=xt(de.value);ns(()=>{Qo(f,Ye,dr)})}),rt}const L=PS(J,5),we=PS(J,5),se=Hv(async N=>await N==="silent"?L():we(),(N,[C])=>{const j=Zr(ht.errorBag.value);return[...new Set([...Zr(N.results),...d.value.map(me=>me.path),...j])].sort().reduce((me,ie)=>{const de=ie,Ne=Se(de)||Ue(de),Be=(N.results[de]||{errors:[]}).errors,rt={errors:Be,valid:!Be.length};return me.results[de]=rt,rt.valid||(me.errors[de]=rt.errors[0]),Ne&&g.value[de]&&delete g.value[de],Ne?(Ne.valid=rt.valid,C==="silent"||C==="validated-only"&&!Ne.validated||h(Ne,rt.errors),me):(h(de,Be),me)},{valid:N.valid,results:{},errors:{}})});function be(N){d.value.forEach(N)}function Se(N){return typeof N=="string"?d.value.find(j=>j.path===N):N}function Ue(N){return d.value.filter(j=>N.startsWith(j.path)).reduce((j,Z)=>j?Z.path.length>j.path.length?Z:j:Z,void 0)}let he=[],Ee;function ve(N){return he.push(N),Ee||(Ee=ns(()=>{[...he].sort().reverse().forEach(j=>{RS(f,j)}),he=[],Ee=null})),Ee}function ot(N){return function(j,Z){return function(ie){return ie instanceof Event&&(ie.preventDefault(),ie.stopPropagation()),be(de=>de.touched=!0),o.value=!0,u.value++,T().then(de=>{const Ne=xt(f);if(de.valid&&typeof j=="function"){const Be=xt(K.value);let rt=N?Be:Ne;return de.values&&(rt=de.values),j(rt,{evt:ie,controlledValues:Be,setErrors:p,setFieldError:h,setTouched:ce,setFieldTouched:re,setValues:Ie,setFieldValue:le,resetForm:P,resetField:ke})}!de.valid&&typeof Z=="function"&&Z({values:Ne,evt:ie,errors:de.errors,results:de.results})}).then(de=>(o.value=!1,de),de=>{throw o.value=!1,de})}}}const yt=ot(!1);yt.withControlled=ot(!0);function vt(N,C){const j=d.value.findIndex(me=>me.path===N),Z=d.value[j];if(!(j===-1||!Z)){if(Z.multiple&&Z.fieldsCount&&Z.fieldsCount--,Array.isArray(Z.id)){const me=Z.id.indexOf(C);me>=0&&Z.id.splice(me,1),delete Z.__flags.pendingUnmount[C]}(!Z.multiple||Z.fieldsCount<=0)&&(d.value.splice(j,1),O(N))}}function ft(N){return be(C=>{C.path.startsWith(N)&&Zr(C.__flags.pendingUnmount).forEach(j=>{C.__flags.pendingUnmount[j]=!0})})}const ht={formId:n,values:f,controlledValues:K,errorBag:v,errors:_,schema:V,submitCount:u,meta:F,isSubmitting:o,isValidating:s,fieldArrays:c,keepValuesOnUnmount:k,validateSchema:Le(V)?se:void 0,validate:T,setFieldError:h,validateField:I,setFieldValue:le,setValues:Ie,setErrors:p,setFieldTouched:re,setTouched:ce,resetForm:P,resetField:ke,handleSubmit:yt,stageInitialValue:U,unsetInitialValue:O,setFieldInitialValue:B,useFieldModel:z,createPathState:q,getPathState:Se,unsetPathValue:ve,removePathState:vt,initialValues:D,getAllPathStates:()=>d.value,markForUnmount:ft};function le(N,C){const j=xt(C),Z=typeof N=="string"?N:N.path;Se(Z)||q(Z),Qo(f,Z,j)}function Ie(N){JC(f,N),c.forEach(C=>C&&C.reset())}function $(N){const C=Se(Le(N))||q(N);return Pe({get(){return C.value},set(j){const Z=Le(N);le(Z,j),C.validated=!0,C.pending=!0,I(Z).then(()=>{C.pending=!1})}})}function z(N){return Array.isArray(N)?N.map($):$(N)}function re(N,C){const j=Se(N);j&&(j.touched=C)}function ce(N){Zr(N).forEach(C=>{re(C,!!N[C])})}function ke(N,C){var j;const Z=C&&"value"in C?C.value:Wn(D.value,N);B(N,xt(Z)),le(N,Z),re(N,(j=C==null?void 0:C.touched)!==null&&j!==void 0?j:!1),h(N,(C==null?void 0:C.errors)||[])}function P(N){const C=N!=null&&N.values?N.values:R.value;M(C),Ie(C),be(j=>{var Z;j.validated=!1,j.touched=((Z=N==null?void 0:N.touched)===null||Z===void 0?void 0:Z[j.path])||!1,le(j.path,Wn(C,j.path)),h(j.path,void 0)}),p((N==null?void 0:N.errors)||{}),u.value=(N==null?void 0:N.submitCount)||0,ns(()=>{T({mode:"silent"})})}async function T(N){const C=(N==null?void 0:N.mode)||"force";if(C==="force"&&be(ie=>ie.validated=!0),ht.validateSchema)return ht.validateSchema(C);s.value=!0;const j=await Promise.all(d.value.map(ie=>ie.validate?ie.validate(N).then(de=>({key:ie.path,valid:de.valid,errors:de.errors})):Promise.resolve({key:ie.path,valid:!0,errors:[]})));s.value=!1;const Z={},me={};for(const ie of j)Z[ie.key]={valid:ie.valid,errors:ie.errors},ie.errors.length&&(me[ie.key]=ie.errors[0]);return{valid:j.every(ie=>ie.valid),results:Z,errors:me}}async function I(N){const C=Se(N);if(C&&(C.validated=!0),V){const{results:j}=await se("validated-only");return j[N]||{errors:[],valid:!0}}return C!=null&&C.validate?C.validate():Promise.resolve({errors:[],valid:!0})}function O(N){RS(D.value,N)}function U(N,C,j=!1){B(N,C),Qo(f,N,C),j&&!(e!=null&&e.initialValues)&&Qo(R.value,N,xt(C))}function B(N,C){Qo(D.value,N,xt(C))}async function J(){const N=Le(V);if(!N)return{valid:!0,results:{},errors:{}};s.value=!0;const C=xh(N)||Is(N)?await cW(N,f):await lW(N,f,{names:E.value,bailsMap:A.value});return s.value=!1,C}const ne=yt((N,{evt:C})=>{tO(C)&&C.target.submit()});$c(()=>{if(e!=null&&e.initialErrors&&p(e.initialErrors),e!=null&&e.initialTouched&&ce(e.initialTouched),e!=null&&e.validateOnMount){T();return}ht.validateSchema&&ht.validateSchema("silent")}),pt(V)&&wn(V,()=>{var N;(N=ht.validateSchema)===null||N===void 0||N.call(ht,"validated-only")}),va(xd,ht);function ae(N,C){const j=Se(yi(N))||q(N),Z=()=>hn(C)?C(Gu(j,zu)):C||{};function me(){var Ne;j.touched=!0,((Ne=Z().validateOnBlur)!==null&&Ne!==void 0?Ne:io().validateOnBlur)&&I(j.path)}function ie(Ne){var Be;le(j.path,Ne),((Be=Z().validateOnModelUpdate)!==null&&Be!==void 0?Be:io().validateOnModelUpdate)&&I(j.path)}return Pe(()=>{const Ne={modelValue:j.value,"onUpdate:modelValue":ie,onBlur:me};return hn(C)?Object.assign(Object.assign({},Ne),C(j).props||{}):C!=null&&C.mapProps?Object.assign(Object.assign({},Ne),C.mapProps(Gu(j,zu))):Ne})}function X(N,C){const j=Se(yi(N))||q(N),Z=()=>hn(C)?C(Gu(j,zu)):C||{};function me(){var Be;j.touched=!0,((Be=Z().validateOnBlur)!==null&&Be!==void 0?Be:io().validateOnBlur)&&I(j.path)}function ie(Be){var rt;const Ye=Ph(Be);le(j.path,Ye),((rt=Z().validateOnInput)!==null&&rt!==void 0?rt:io().validateOnInput)&&I(j.path)}function de(Be){var rt;const Ye=Ph(Be);le(j.path,Ye),((rt=Z().validateOnChange)!==null&&rt!==void 0?rt:io().validateOnChange)&&I(j.path)}return Pe(()=>{const Be={value:j.value,onChange:de,onInput:ie,onBlur:me};return hn(C)?Object.assign(Object.assign({},Be),C(Gu(j,zu)).attrs||{}):C!=null&&C.mapAttrs?Object.assign(Object.assign({},Be),C.mapAttrs(Gu(j,zu))):Be})}return Object.assign(Object.assign({},ht),{handleReset:()=>P(),submitForm:ne,defineComponentBinds:ae,defineInputBinds:X})}function AW(e,t,n,r){const o={touched:"some",pending:"some",valid:"every"},s=Pe(()=>!Un(t,Le(n)));function u(){const f=e.value;return Zr(o).reduce((d,g)=>{const h=o[g];return d[g]=f[h](p=>p[g]),d},{})}const c=ai(u());return UL(()=>{const f=u();c.touched=f.touched,c.valid=f.valid,c.pending=f.pending}),Pe(()=>Object.assign(Object.assign({initialValues:Le(n)},c),{valid:c.valid&&!Zr(r.value).length,dirty:s.value}))}function kW(e,t,n){const r=cO(n),o=n==null?void 0:n.initialValues,s=Ct(r),u=Ct(xt(r));function c(f,d=!1){s.value=xt(f),u.value=xt(f),d&&e.value.forEach(g=>{if(g.touched)return;const p=Wn(s.value,g.path);Qo(t,g.path,xt(p))})}return pt(o)&&wn(o,f=>{f&&c(f,!0)},{deep:!0}),{initialValues:s,originalInitialValues:u,setInitialValues:c}}const NW=qc({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Zi(e,"initialValues"),r=Zi(e,"validationSchema"),o=Zi(e,"keepValues"),{errors:s,errorBag:u,values:c,meta:f,isSubmitting:d,isValidating:g,submitCount:h,controlledValues:p,validate:v,validateField:_,handleReset:E,resetForm:A,handleSubmit:b,setErrors:k,setFieldError:D,setFieldValue:R,setValues:M,setFieldTouched:F,setTouched:K,resetField:V}=SW({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),q=b((Ee,{evt:ve})=>{tO(ve)&&ve.target.submit()},e.onInvalidSubmit),L=e.onSubmit?b(e.onSubmit,e.onInvalidSubmit):q;function we(Ee){Z_(Ee)&&Ee.preventDefault(),E(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function se(Ee,ve){return b(typeof Ee=="function"&&!ve?Ee:ve,e.onInvalidSubmit)(Ee)}function be(){return xt(c)}function Se(){return xt(f.value)}function Ue(){return xt(s.value)}function he(){return{meta:f.value,errors:s.value,errorBag:u.value,values:c,isSubmitting:d.value,isValidating:g.value,submitCount:h.value,controlledValues:p.value,validate:v,validateField:_,handleSubmit:se,handleReset:E,submitForm:q,setErrors:k,setFieldError:D,setFieldValue:R,setValues:M,setFieldTouched:F,setTouched:K,resetForm:A,resetField:V,getValues:be,getMeta:Se,getErrors:Ue}}return t.expose({setFieldError:D,setErrors:k,setFieldValue:R,setValues:M,setFieldTouched:F,setTouched:K,resetForm:A,validate:v,validateField:_,resetField:V,getValues:be,getMeta:Se,getErrors:Ue}),function(){const ve=e.as==="form"?e.as:Wh(e.as),ot=tb(ve,t,he);if(!e.as)return ot;const lt=e.as==="form"?{novalidate:!0}:{};return ki(ve,Object.assign(Object.assign(Object.assign({},lt),t.attrs),{onSubmit:L,onReset:we}),ot)}}}),CW=NW,OW=qc({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=cr(xd,void 0),r=Pe(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:r.value}}return()=>{if(!r.value)return;const s=e.as?Wh(e.as):e.as,u=tb(s,t,o),c=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(u)||!u)&&(u!=null&&u.length)?u:(Array.isArray(u)||!u)&&!(u!=null&&u.length)?ki(s||"span",c,r.value):ki(s,c,u)}}}),RW=OW;/**
  * vee-validate v4.9.6
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const Mf={en:/^[A-Z\s]*$/i,cs:/^[A-Z\s]*$/i,da:/^[A-Z\s]*$/i,de:/^[A-Z\s]*$/i,es:/^[A-Z\s]*$/i,fr:/^[A-Z\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-Z\s]*$/i,nl:/^[A-Z\s]*$/i,hu:/^[A-Z\s]*$/i,pl:/^[A-Z\s]*$/i,pt:/^[A-Z\s]*$/i,ru:/^[-\s]*$/i,sk:/^[A-Z\s]*$/i,sr:/^[A-Z\s]*$/i,sv:/^[A-Z\s]*$/i,tr:/^[A-Z\s]*$/i,uk:/^[-\s]*$/i,ar:/^[\s]*$/,az:/^[A-Z\s]*$/i,ug:/^[A-Z\s]*$/i},xW=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function dl(e,t){return Array.isArray(e)?e[0]:e[t]}function Io(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const lO=(e,t)=>{if(Io(e))return!0;const n=xW(t);if(Array.isArray(e))return e.every(o=>lO(o,{locale:n}));const r=String(e);return n?(Mf[n]||Mf.en).test(r):Object.keys(Mf).some(o=>Mf[o].test(r))},PW=(e,t)=>{const n=dl(t,"target");return String(e)===String(n)},DW=e=>{if(Io(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function LW(e){return e==null}function MW(e){return Array.isArray(e)&&e.length===0}const fO=(e,t)=>{if(Io(e))return!0;const n=dl(t,"length");return Array.isArray(e)?e.every(r=>fO(r,{length:n})):[...String(e)].length<=Number(n)},hO=(e,t)=>{if(Io(e))return!0;const n=dl(t,"max");return Array.isArray(e)?e.length>0&&e.every(r=>hO(r,{max:n})):Number(e)<=Number(n)},dO=(e,t)=>{if(Io(e))return!0;const n=dl(t,"length");return Array.isArray(e)?e.every(r=>dO(r,{length:n})):[...String(e)].length>=Number(n)},pO=(e,t)=>{if(Io(e))return!0;const n=dl(t,"min");return Array.isArray(e)?e.length>0&&e.every(r=>pO(r,{min:n})):Number(e)>=Number(n)},mO=(e,t)=>Io(e)?!0:Array.isArray(e)?e.every(n=>mO(n,t)):Array.from(t).some(n=>n==e),FS=(e,t)=>Io(e)?!0:!mO(e,t),US=e=>LW(e)||MW(e)||e===!1?!1:!!String(e).trim().length,FW={install(e){e.component("VeeForm",CW),e.component("VeeField",IW),e.component("ErrorMessage",RW),Nr("required",US),Nr("tos",US),Nr("min",dO),Nr("max",fO),Nr("alphaSpaces",lO),Nr("email",DW),Nr("minVal",pO),Nr("maxVal",hO),Nr("passwords_mismatch",PW),Nr("excluded",FS),Nr("country_excluded",FS),rW({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} is too short`,max:`The field ${t.field} is too long`,alphaSpaces:`The field ${t.spaces} may only contain alphabetic characters and spaces`,email:`The field ${t.field} must be a valid email`,minVal:`The field ${t.field} is too low`,maxVal:`The field ${t.field} is too high`,excluded:`You are not allowed to use this value for the field ${t.field}`,country_excluded:"Due to restrictions, we do not accept users from this location",passwords_mismatch:"The passwords dont match",tos:"You must accept the terms of service"};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}},UW={beforeMount(e,t){let n=`fa fa-${t.value} text-xl`;t.arg==="full"&&(n=t.value),t.modifiers.right&&(n+=" float-right"),t.modifiers.yellow?n+=" text-yellow-400":n+=" text-green-400",e.innerHTML+=`<i class="${n}"></i>`}};/*!
  * shared v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const zv=typeof window<"u",VW=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",To=e=>VW?Symbol(e):e,jW=(e,t,n)=>BW({l:e,k:t,s:n}),BW=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Zt=e=>typeof e=="number"&&isFinite(e),qW=e=>rb(e)==="[object Date]",go=e=>rb(e)==="[object RegExp]",Dd=e=>je(e)&&Object.keys(e).length===0;function $W(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const sn=Object.assign;let VS;const fc=()=>VS||(VS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function jS(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const HW=Object.prototype.hasOwnProperty;function nb(e,t){return HW.call(e,t)}const bt=Array.isArray,jt=e=>typeof e=="function",fe=e=>typeof e=="string",Xe=e=>typeof e=="boolean",wt=e=>e!==null&&typeof e=="object",gO=Object.prototype.toString,rb=e=>gO.call(e),je=e=>rb(e)==="[object Object]",WW=e=>e==null?"":bt(e)||je(e)&&e.toString===gO?JSON.stringify(e,null,2):String(e);/*!
  * message-compiler v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const tt={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,__EXTEND_POINT__:15};function Ld(e,t,n={}){const{domain:r,messages:o,args:s}=n,u=e,c=new SyntaxError(String(u));return c.code=e,t&&(c.location=t),c.domain=r,c}function KW(e){throw e}function GW(e,t,n){return{line:e,column:t,offset:n}}function Xv(e,t,n){const r={start:e,end:t};return n!=null&&(r.source=n),r}const gi=" ",zW="\r",Cn=`
`,XW=String.fromCharCode(8232),YW=String.fromCharCode(8233);function QW(e){const t=e;let n=0,r=1,o=1,s=0;const u=K=>t[K]===zW&&t[K+1]===Cn,c=K=>t[K]===Cn,f=K=>t[K]===YW,d=K=>t[K]===XW,g=K=>u(K)||c(K)||f(K)||d(K),h=()=>n,p=()=>r,v=()=>o,_=()=>s,E=K=>u(K)||f(K)||d(K)?Cn:t[K],A=()=>E(n),b=()=>E(n+s);function k(){return s=0,g(n)&&(r++,o=0),u(n)&&n++,n++,o++,t[n]}function D(){return u(n+s)&&s++,s++,t[n+s]}function R(){n=0,r=1,o=1,s=0}function M(K=0){s=K}function F(){const K=n+s;for(;K!==n;)k();s=0}return{index:h,line:p,column:v,peekOffset:_,charAt:E,currentChar:A,currentPeek:b,next:k,peek:D,reset:R,resetPeek:M,skipToPeek:F}}const Gi=void 0,BS="'",JW="tokenizer";function ZW(e,t={}){const n=t.location!==!1,r=QW(e),o=()=>r.index(),s=()=>GW(r.line(),r.column(),r.index()),u=s(),c=o(),f={currentType:14,offset:c,startLoc:u,endLoc:u,lastType:14,lastOffset:c,lastStartLoc:u,lastEndLoc:u,braceNest:0,inLinked:!1,text:""},d=()=>f,{onError:g}=t;function h(T,I,O,...U){const B=d();if(I.column+=O,I.offset+=O,g){const J=Xv(B.startLoc,I),ne=Ld(T,J,{domain:JW,args:U});g(ne)}}function p(T,I,O){T.endLoc=s(),T.currentType=I;const U={type:I};return n&&(U.loc=Xv(T.startLoc,T.endLoc)),O!=null&&(U.value=O),U}const v=T=>p(T,14);function _(T,I){return T.currentChar()===I?(T.next(),I):(h(tt.EXPECTED_TOKEN,s(),0,I),"")}function E(T){let I="";for(;T.currentPeek()===gi||T.currentPeek()===Cn;)I+=T.currentPeek(),T.peek();return I}function A(T){const I=E(T);return T.skipToPeek(),I}function b(T){if(T===Gi)return!1;const I=T.charCodeAt(0);return I>=97&&I<=122||I>=65&&I<=90||I===95}function k(T){if(T===Gi)return!1;const I=T.charCodeAt(0);return I>=48&&I<=57}function D(T,I){const{currentType:O}=I;if(O!==2)return!1;E(T);const U=b(T.currentPeek());return T.resetPeek(),U}function R(T,I){const{currentType:O}=I;if(O!==2)return!1;E(T);const U=T.currentPeek()==="-"?T.peek():T.currentPeek(),B=k(U);return T.resetPeek(),B}function M(T,I){const{currentType:O}=I;if(O!==2)return!1;E(T);const U=T.currentPeek()===BS;return T.resetPeek(),U}function F(T,I){const{currentType:O}=I;if(O!==8)return!1;E(T);const U=T.currentPeek()===".";return T.resetPeek(),U}function K(T,I){const{currentType:O}=I;if(O!==9)return!1;E(T);const U=b(T.currentPeek());return T.resetPeek(),U}function V(T,I){const{currentType:O}=I;if(!(O===8||O===12))return!1;E(T);const U=T.currentPeek()===":";return T.resetPeek(),U}function q(T,I){const{currentType:O}=I;if(O!==10)return!1;const U=()=>{const J=T.currentPeek();return J==="{"?b(T.peek()):J==="@"||J==="%"||J==="|"||J===":"||J==="."||J===gi||!J?!1:J===Cn?(T.peek(),U()):b(J)},B=U();return T.resetPeek(),B}function L(T){E(T);const I=T.currentPeek()==="|";return T.resetPeek(),I}function we(T){const I=E(T),O=T.currentPeek()==="%"&&T.peek()==="{";return T.resetPeek(),{isModulo:O,hasSpace:I.length>0}}function se(T,I=!0){const O=(B=!1,J="",ne=!1)=>{const ae=T.currentPeek();return ae==="{"?J==="%"?!1:B:ae==="@"||!ae?J==="%"?!0:B:ae==="%"?(T.peek(),O(B,"%",!0)):ae==="|"?J==="%"||ne?!0:!(J===gi||J===Cn):ae===gi?(T.peek(),O(!0,gi,ne)):ae===Cn?(T.peek(),O(!0,Cn,ne)):!0},U=O();return I&&T.resetPeek(),U}function be(T,I){const O=T.currentChar();return O===Gi?Gi:I(O)?(T.next(),O):null}function Se(T){return be(T,O=>{const U=O.charCodeAt(0);return U>=97&&U<=122||U>=65&&U<=90||U>=48&&U<=57||U===95||U===36})}function Ue(T){return be(T,O=>{const U=O.charCodeAt(0);return U>=48&&U<=57})}function he(T){return be(T,O=>{const U=O.charCodeAt(0);return U>=48&&U<=57||U>=65&&U<=70||U>=97&&U<=102})}function Ee(T){let I="",O="";for(;I=Ue(T);)O+=I;return O}function ve(T){A(T);const I=T.currentChar();return I!=="%"&&h(tt.EXPECTED_TOKEN,s(),0,I),T.next(),"%"}function ot(T){let I="";for(;;){const O=T.currentChar();if(O==="{"||O==="}"||O==="@"||O==="|"||!O)break;if(O==="%")if(se(T))I+=O,T.next();else break;else if(O===gi||O===Cn)if(se(T))I+=O,T.next();else{if(L(T))break;I+=O,T.next()}else I+=O,T.next()}return I}function lt(T){A(T);let I="",O="";for(;I=Se(T);)O+=I;return T.currentChar()===Gi&&h(tt.UNTERMINATED_CLOSING_BRACE,s(),0),O}function yt(T){A(T);let I="";return T.currentChar()==="-"?(T.next(),I+=`-${Ee(T)}`):I+=Ee(T),T.currentChar()===Gi&&h(tt.UNTERMINATED_CLOSING_BRACE,s(),0),I}function vt(T){A(T),_(T,"'");let I="",O="";const U=J=>J!==BS&&J!==Cn;for(;I=be(T,U);)I==="\\"?O+=ft(T):O+=I;const B=T.currentChar();return B===Cn||B===Gi?(h(tt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),B===Cn&&(T.next(),_(T,"'")),O):(_(T,"'"),O)}function ft(T){const I=T.currentChar();switch(I){case"\\":case"'":return T.next(),`\\${I}`;case"u":return ht(T,I,4);case"U":return ht(T,I,6);default:return h(tt.UNKNOWN_ESCAPE_SEQUENCE,s(),0,I),""}}function ht(T,I,O){_(T,I);let U="";for(let B=0;B<O;B++){const J=he(T);if(!J){h(tt.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${I}${U}${T.currentChar()}`);break}U+=J}return`\\${I}${U}`}function le(T){A(T);let I="",O="";const U=B=>B!=="{"&&B!=="}"&&B!==gi&&B!==Cn;for(;I=be(T,U);)O+=I;return O}function Ie(T){let I="",O="";for(;I=Se(T);)O+=I;return O}function $(T){const I=(O=!1,U)=>{const B=T.currentChar();return B==="{"||B==="%"||B==="@"||B==="|"||!B||B===gi?U:B===Cn?(U+=B,T.next(),I(O,U)):(U+=B,T.next(),I(!0,U))};return I(!1,"")}function z(T){A(T);const I=_(T,"|");return A(T),I}function re(T,I){let O=null;switch(T.currentChar()){case"{":return I.braceNest>=1&&h(tt.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),T.next(),O=p(I,2,"{"),A(T),I.braceNest++,O;case"}":return I.braceNest>0&&I.currentType===2&&h(tt.EMPTY_PLACEHOLDER,s(),0),T.next(),O=p(I,3,"}"),I.braceNest--,I.braceNest>0&&A(T),I.inLinked&&I.braceNest===0&&(I.inLinked=!1),O;case"@":return I.braceNest>0&&h(tt.UNTERMINATED_CLOSING_BRACE,s(),0),O=ce(T,I)||v(I),I.braceNest=0,O;default:let B=!0,J=!0,ne=!0;if(L(T))return I.braceNest>0&&h(tt.UNTERMINATED_CLOSING_BRACE,s(),0),O=p(I,1,z(T)),I.braceNest=0,I.inLinked=!1,O;if(I.braceNest>0&&(I.currentType===5||I.currentType===6||I.currentType===7))return h(tt.UNTERMINATED_CLOSING_BRACE,s(),0),I.braceNest=0,ke(T,I);if(B=D(T,I))return O=p(I,5,lt(T)),A(T),O;if(J=R(T,I))return O=p(I,6,yt(T)),A(T),O;if(ne=M(T,I))return O=p(I,7,vt(T)),A(T),O;if(!B&&!J&&!ne)return O=p(I,13,le(T)),h(tt.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,O.value),A(T),O;break}return O}function ce(T,I){const{currentType:O}=I;let U=null;const B=T.currentChar();switch((O===8||O===9||O===12||O===10)&&(B===Cn||B===gi)&&h(tt.INVALID_LINKED_FORMAT,s(),0),B){case"@":return T.next(),U=p(I,8,"@"),I.inLinked=!0,U;case".":return A(T),T.next(),p(I,9,".");case":":return A(T),T.next(),p(I,10,":");default:return L(T)?(U=p(I,1,z(T)),I.braceNest=0,I.inLinked=!1,U):F(T,I)||V(T,I)?(A(T),ce(T,I)):K(T,I)?(A(T),p(I,12,Ie(T))):q(T,I)?(A(T),B==="{"?re(T,I)||U:p(I,11,$(T))):(O===8&&h(tt.INVALID_LINKED_FORMAT,s(),0),I.braceNest=0,I.inLinked=!1,ke(T,I))}}function ke(T,I){let O={type:14};if(I.braceNest>0)return re(T,I)||v(I);if(I.inLinked)return ce(T,I)||v(I);switch(T.currentChar()){case"{":return re(T,I)||v(I);case"}":return h(tt.UNBALANCED_CLOSING_BRACE,s(),0),T.next(),p(I,3,"}");case"@":return ce(T,I)||v(I);default:if(L(T))return O=p(I,1,z(T)),I.braceNest=0,I.inLinked=!1,O;const{isModulo:B,hasSpace:J}=we(T);if(B)return J?p(I,0,ot(T)):p(I,4,ve(T));if(se(T))return p(I,0,ot(T));break}return O}function P(){const{currentType:T,offset:I,startLoc:O,endLoc:U}=f;return f.lastType=T,f.lastOffset=I,f.lastStartLoc=O,f.lastEndLoc=U,f.offset=o(),f.startLoc=s(),r.currentChar()===Gi?p(f,14):ke(r,f)}return{nextToken:P,currentOffset:o,currentPosition:s,context:d}}const eK="parser",tK=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function nK(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}}function rK(e={}){const t=e.location!==!1,{onError:n}=e;function r(b,k,D,R,...M){const F=b.currentPosition();if(F.offset+=R,F.column+=R,n){const K=Xv(D,F),V=Ld(k,K,{domain:eK,args:M});n(V)}}function o(b,k,D){const R={type:b,start:k,end:k};return t&&(R.loc={start:D,end:D}),R}function s(b,k,D,R){b.end=k,R&&(b.type=R),t&&b.loc&&(b.loc.end=D)}function u(b,k){const D=b.context(),R=o(3,D.offset,D.startLoc);return R.value=k,s(R,b.currentOffset(),b.currentPosition()),R}function c(b,k){const D=b.context(),{lastOffset:R,lastStartLoc:M}=D,F=o(5,R,M);return F.index=parseInt(k,10),b.nextToken(),s(F,b.currentOffset(),b.currentPosition()),F}function f(b,k){const D=b.context(),{lastOffset:R,lastStartLoc:M}=D,F=o(4,R,M);return F.key=k,b.nextToken(),s(F,b.currentOffset(),b.currentPosition()),F}function d(b,k){const D=b.context(),{lastOffset:R,lastStartLoc:M}=D,F=o(9,R,M);return F.value=k.replace(tK,nK),b.nextToken(),s(F,b.currentOffset(),b.currentPosition()),F}function g(b){const k=b.nextToken(),D=b.context(),{lastOffset:R,lastStartLoc:M}=D,F=o(8,R,M);return k.type!==12?(r(b,tt.UNEXPECTED_EMPTY_LINKED_MODIFIER,D.lastStartLoc,0),F.value="",s(F,R,M),{nextConsumeToken:k,node:F}):(k.value==null&&r(b,tt.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,Xr(k)),F.value=k.value||"",s(F,b.currentOffset(),b.currentPosition()),{node:F})}function h(b,k){const D=b.context(),R=o(7,D.offset,D.startLoc);return R.value=k,s(R,b.currentOffset(),b.currentPosition()),R}function p(b){const k=b.context(),D=o(6,k.offset,k.startLoc);let R=b.nextToken();if(R.type===9){const M=g(b);D.modifier=M.node,R=M.nextConsumeToken||b.nextToken()}switch(R.type!==10&&r(b,tt.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Xr(R)),R=b.nextToken(),R.type===2&&(R=b.nextToken()),R.type){case 11:R.value==null&&r(b,tt.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Xr(R)),D.key=h(b,R.value||"");break;case 5:R.value==null&&r(b,tt.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Xr(R)),D.key=f(b,R.value||"");break;case 6:R.value==null&&r(b,tt.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Xr(R)),D.key=c(b,R.value||"");break;case 7:R.value==null&&r(b,tt.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Xr(R)),D.key=d(b,R.value||"");break;default:r(b,tt.UNEXPECTED_EMPTY_LINKED_KEY,k.lastStartLoc,0);const M=b.context(),F=o(7,M.offset,M.startLoc);return F.value="",s(F,M.offset,M.startLoc),D.key=F,s(D,M.offset,M.startLoc),{nextConsumeToken:R,node:D}}return s(D,b.currentOffset(),b.currentPosition()),{node:D}}function v(b){const k=b.context(),D=k.currentType===1?b.currentOffset():k.offset,R=k.currentType===1?k.endLoc:k.startLoc,M=o(2,D,R);M.items=[];let F=null;do{const q=F||b.nextToken();switch(F=null,q.type){case 0:q.value==null&&r(b,tt.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Xr(q)),M.items.push(u(b,q.value||""));break;case 6:q.value==null&&r(b,tt.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Xr(q)),M.items.push(c(b,q.value||""));break;case 5:q.value==null&&r(b,tt.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Xr(q)),M.items.push(f(b,q.value||""));break;case 7:q.value==null&&r(b,tt.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Xr(q)),M.items.push(d(b,q.value||""));break;case 8:const L=p(b);M.items.push(L.node),F=L.nextConsumeToken||null;break}}while(k.currentType!==14&&k.currentType!==1);const K=k.currentType===1?k.lastOffset:b.currentOffset(),V=k.currentType===1?k.lastEndLoc:b.currentPosition();return s(M,K,V),M}function _(b,k,D,R){const M=b.context();let F=R.items.length===0;const K=o(1,k,D);K.cases=[],K.cases.push(R);do{const V=v(b);F||(F=V.items.length===0),K.cases.push(V)}while(M.currentType!==14);return F&&r(b,tt.MUST_HAVE_MESSAGES_IN_PLURAL,D,0),s(K,b.currentOffset(),b.currentPosition()),K}function E(b){const k=b.context(),{offset:D,startLoc:R}=k,M=v(b);return k.currentType===14?M:_(b,D,R,M)}function A(b){const k=ZW(b,sn({},e)),D=k.context(),R=o(0,D.offset,D.startLoc);return t&&R.loc&&(R.loc.source=b),R.body=E(k),D.currentType!==14&&r(k,tt.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,b[D.offset]||""),s(R,k.currentOffset(),k.currentPosition()),R}return{parse:A}}function Xr(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function iK(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:s=>(n.helpers.add(s),s)}}function qS(e,t){for(let n=0;n<e.length;n++)ib(e[n],t)}function ib(e,t){switch(e.type){case 1:qS(e.cases,t),t.helper("plural");break;case 2:qS(e.items,t);break;case 6:ib(e.key,t),t.helper("linked"),t.helper("type");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function oK(e,t={}){const n=iK(e);n.helper("normalize"),e.body&&ib(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function sK(e,t){const{sourceMap:n,filename:r,breakLineCode:o,needIndent:s}=t,u={source:e.loc.source,filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:o,needIndent:s,indentLevel:0},c=()=>u;function f(E,A){u.code+=E}function d(E,A=!0){const b=A?o:"";f(s?b+"  ".repeat(E):b)}function g(E=!0){const A=++u.indentLevel;E&&d(A)}function h(E=!0){const A=--u.indentLevel;E&&d(A)}function p(){d(u.indentLevel)}return{context:c,push:f,indent:g,deindent:h,newline:p,helper:E=>`_${E}`,needIndent:()=>u.needIndent}}function aK(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),Wa(e,t.key),t.modifier?(e.push(", "),Wa(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function uK(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const o=t.items.length;for(let s=0;s<o&&(Wa(e,t.items[s]),s!==o-1);s++)e.push(", ");e.deindent(r()),e.push("])")}function cK(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const o=t.cases.length;for(let s=0;s<o&&(Wa(e,t.cases[s]),s!==o-1);s++)e.push(", ");e.deindent(r()),e.push("])")}}function lK(e,t){t.body?Wa(e,t.body):e.push("null")}function Wa(e,t){const{helper:n}=e;switch(t.type){case 0:lK(e,t);break;case 1:cK(e,t);break;case 2:uK(e,t);break;case 6:aK(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const fK=(e,t={})=>{const n=fe(t.mode)?t.mode:"normal",r=fe(t.filename)?t.filename:"message.intl",o=!!t.sourceMap,s=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,u=t.needIndent?t.needIndent:n!=="arrow",c=e.helpers||[],f=sK(e,{mode:n,filename:r,sourceMap:o,breakLineCode:s,needIndent:u});f.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),f.indent(u),c.length>0&&(f.push(`const { ${c.map(h=>`${h}: _${h}`).join(", ")} } = ctx`),f.newline()),f.push("return "),Wa(f,e),f.deindent(u),f.push("}");const{code:d,map:g}=f.context();return{ast:e,code:d,map:g?g.toJSON():void 0}};function hK(e,t={}){const n=sn({},t),o=rK(n).parse(e);return oK(o,n),fK(o,n)}/*!
  * devtools-if v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const vO={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * core-base v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const So=[];So[0]={w:[0],i:[3,0],["["]:[4],o:[7]};So[1]={w:[1],["."]:[2],["["]:[4],o:[7]};So[2]={w:[2],i:[3,0],[0]:[3,0]};So[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};So[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};So[5]={["'"]:[4,0],o:8,l:[5,0]};So[6]={['"']:[4,0],o:8,l:[6,0]};const dK=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function pK(e){return dK.test(e)}function mK(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function gK(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function vK(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:pK(t)?mK(t):"*"+t}function yK(e){const t=[];let n=-1,r=0,o=0,s,u,c,f,d,g,h;const p=[];p[0]=()=>{u===void 0?u=c:u+=c},p[1]=()=>{u!==void 0&&(t.push(u),u=void 0)},p[2]=()=>{p[0](),o++},p[3]=()=>{if(o>0)o--,r=4,p[0]();else{if(o=0,u===void 0||(u=vK(u),u===!1))return!1;p[1]()}};function v(){const _=e[n+1];if(r===5&&_==="'"||r===6&&_==='"')return n++,c="\\"+_,p[0](),!0}for(;r!==null;)if(n++,s=e[n],!(s==="\\"&&v())){if(f=gK(s),h=So[r],d=h[f]||h.l||8,d===8||(r=d[0],d[1]!==void 0&&(g=p[d[1]],g&&(c=s,g()===!1))))return;if(r===7)return t}}const $S=new Map;function _K(e,t){return wt(e)?e[t]:null}function bK(e,t){if(!wt(e))return null;let n=$S.get(t);if(n||(n=yK(t),n&&$S.set(t,n)),!n)return null;const r=n.length;let o=e,s=0;for(;s<r;){const u=o[n[s]];if(u===void 0)return null;o=u,s++}return o}const wK=e=>e,EK=e=>"",IK="text",TK=e=>e.length===0?"":e.join(""),SK=WW;function HS(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function AK(e){const t=Zt(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Zt(e.named.count)||Zt(e.named.n))?Zt(e.named.count)?e.named.count:Zt(e.named.n)?e.named.n:t:t}function kK(e,t){t.count||(t.count=e),t.n||(t.n=e)}function NK(e={}){const t=e.locale,n=AK(e),r=wt(e.pluralRules)&&fe(t)&&jt(e.pluralRules[t])?e.pluralRules[t]:HS,o=wt(e.pluralRules)&&fe(t)&&jt(e.pluralRules[t])?HS:void 0,s=b=>b[r(n,b.length,o)],u=e.list||[],c=b=>u[b],f=e.named||{};Zt(e.pluralIndex)&&kK(n,f);const d=b=>f[b];function g(b){const k=jt(e.messages)?e.messages(b):wt(e.messages)?e.messages[b]:!1;return k||(e.parent?e.parent.message(b):EK)}const h=b=>e.modifiers?e.modifiers[b]:wK,p=je(e.processor)&&jt(e.processor.normalize)?e.processor.normalize:TK,v=je(e.processor)&&jt(e.processor.interpolate)?e.processor.interpolate:SK,_=je(e.processor)&&fe(e.processor.type)?e.processor.type:IK,A={list:c,named:d,plural:s,linked:(b,...k)=>{const[D,R]=k;let M="text",F="";k.length===1?wt(D)?(F=D.modifier||F,M=D.type||M):fe(D)&&(F=D||F):k.length===2&&(fe(D)&&(F=D||F),fe(R)&&(M=R||M));let K=g(b)(A);return M==="vnode"&&bt(K)&&F&&(K=K[0]),F?h(F)(K,M):K},message:g,type:_,interpolate:v,normalize:p};return A}let jc=null;function CK(e){jc=e}function OK(e,t,n){jc&&jc.emit(vO.I18nInit,{timestamp:Date.now(),i18n:e,version:t,meta:n})}const RK=xK(vO.FunctionTranslate);function xK(e){return t=>jc&&jc.emit(e,t)}function PK(e,t,n){return[...new Set([n,...bt(t)?t:wt(t)?Object.keys(t):fe(t)?[t]:[n]])]}function yO(e,t,n){const r=fe(n)?n:pl,o=e;o.__localeChainCache||(o.__localeChainCache=new Map);let s=o.__localeChainCache.get(r);if(!s){s=[];let u=[n];for(;bt(u);)u=WS(s,u,t);const c=bt(t)||!je(t)?t:t.default?t.default:null;u=fe(c)?[c]:c,bt(u)&&WS(s,u,!1),o.__localeChainCache.set(r,s)}return s}function WS(e,t,n){let r=!0;for(let o=0;o<t.length&&Xe(r);o++){const s=t[o];fe(s)&&(r=DK(e,t[o],n))}return r}function DK(e,t,n){let r;const o=t.split("-");do{const s=o.join("-");r=LK(e,s,n),o.splice(-1,1)}while(o.length&&r===!0);return r}function LK(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const o=t.replace(/!/g,"");e.push(o),(bt(n)||je(n))&&n[o]&&(r=n[o])}return r}const MK="9.2.2",Md=-1,pl="en-US",KS="",GS=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function FK(){return{upper:(e,t)=>t==="text"&&fe(e)?e.toUpperCase():t==="vnode"&&wt(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&fe(e)?e.toLowerCase():t==="vnode"&&wt(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&fe(e)?GS(e):t==="vnode"&&wt(e)&&"__v_isVNode"in e?GS(e.children):e}}let _O;function UK(e){_O=e}let bO;function VK(e){bO=e}let wO;function jK(e){wO=e}let EO=null;const zS=e=>{EO=e},BK=()=>EO;let IO=null;const XS=e=>{IO=e},qK=()=>IO;let YS=0;function $K(e={}){const t=fe(e.version)?e.version:MK,n=fe(e.locale)?e.locale:pl,r=bt(e.fallbackLocale)||je(e.fallbackLocale)||fe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:n,o=je(e.messages)?e.messages:{[n]:{}},s=je(e.datetimeFormats)?e.datetimeFormats:{[n]:{}},u=je(e.numberFormats)?e.numberFormats:{[n]:{}},c=sn({},e.modifiers||{},FK()),f=e.pluralRules||{},d=jt(e.missing)?e.missing:null,g=Xe(e.missingWarn)||go(e.missingWarn)?e.missingWarn:!0,h=Xe(e.fallbackWarn)||go(e.fallbackWarn)?e.fallbackWarn:!0,p=!!e.fallbackFormat,v=!!e.unresolving,_=jt(e.postTranslation)?e.postTranslation:null,E=je(e.processor)?e.processor:null,A=Xe(e.warnHtmlMessage)?e.warnHtmlMessage:!0,b=!!e.escapeParameter,k=jt(e.messageCompiler)?e.messageCompiler:_O,D=jt(e.messageResolver)?e.messageResolver:bO||_K,R=jt(e.localeFallbacker)?e.localeFallbacker:wO||PK,M=wt(e.fallbackContext)?e.fallbackContext:void 0,F=jt(e.onWarn)?e.onWarn:$W,K=e,V=wt(K.__datetimeFormatters)?K.__datetimeFormatters:new Map,q=wt(K.__numberFormatters)?K.__numberFormatters:new Map,L=wt(K.__meta)?K.__meta:{};YS++;const we={version:t,cid:YS,locale:n,fallbackLocale:r,messages:o,modifiers:c,pluralRules:f,missing:d,missingWarn:g,fallbackWarn:h,fallbackFormat:p,unresolving:v,postTranslation:_,processor:E,warnHtmlMessage:A,escapeParameter:b,messageCompiler:k,messageResolver:D,localeFallbacker:R,fallbackContext:M,onWarn:F,__meta:L};return we.datetimeFormats=s,we.numberFormats=u,we.__datetimeFormatters=V,we.__numberFormatters=q,__INTLIFY_PROD_DEVTOOLS__&&OK(we,t,L),we}function ob(e,t,n,r,o){const{missing:s,onWarn:u}=e;if(s!==null){const c=s(e,n,t,o);return fe(c)?c:t}else return t}function Xu(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}const HK=e=>e;let QS=Object.create(null);function WK(e,t={}){{const r=(t.onCacheKey||HK)(e),o=QS[r];if(o)return o;let s=!1;const u=t.onError||KW;t.onError=d=>{s=!0,u(d)};const{code:c}=hK(e,t),f=new Function(`return ${c}`)();return s?f:QS[r]=f}}let TO=tt.__EXTEND_POINT__;const $g=()=>++TO,ha={INVALID_ARGUMENT:TO,INVALID_DATE_ARGUMENT:$g(),INVALID_ISO_DATE_ARGUMENT:$g(),__EXTEND_POINT__:$g()};function da(e){return Ld(e,null,void 0)}const JS=()=>"",ei=e=>jt(e);function ZS(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:o,messageCompiler:s,fallbackLocale:u,messages:c}=e,[f,d]=Yv(...t),g=Xe(d.missingWarn)?d.missingWarn:e.missingWarn,h=Xe(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn,p=Xe(d.escapeParameter)?d.escapeParameter:e.escapeParameter,v=!!d.resolvedMessage,_=fe(d.default)||Xe(d.default)?Xe(d.default)?s?f:()=>f:d.default:n?s?f:()=>f:"",E=n||_!=="",A=fe(d.locale)?d.locale:e.locale;p&&KK(d);let[b,k,D]=v?[f,A,c[A]||{}]:SO(e,f,A,u,h,g),R=b,M=f;if(!v&&!(fe(R)||ei(R))&&E&&(R=_,M=R),!v&&(!(fe(R)||ei(R))||!fe(k)))return o?Md:f;let F=!1;const K=()=>{F=!0},V=ei(R)?R:AO(e,f,k,R,M,K);if(F)return R;const q=XK(e,k,D,d),L=NK(q),we=GK(e,V,L),se=r?r(we,f):we;if(__INTLIFY_PROD_DEVTOOLS__){const be={timestamp:Date.now(),key:fe(f)?f:ei(R)?R.key:"",locale:k||(ei(R)?R.locale:""),format:fe(R)?R:ei(R)?R.source:"",message:se};be.meta=sn({},e.__meta,BK()||{}),RK(be)}return se}function KK(e){bt(e.list)?e.list=e.list.map(t=>fe(t)?jS(t):t):wt(e.named)&&Object.keys(e.named).forEach(t=>{fe(e.named[t])&&(e.named[t]=jS(e.named[t]))})}function SO(e,t,n,r,o,s){const{messages:u,onWarn:c,messageResolver:f,localeFallbacker:d}=e,g=d(e,r,n);let h={},p,v=null;const _="translate";for(let E=0;E<g.length&&(p=g[E],h=u[p]||{},(v=f(h,t))===null&&(v=h[t]),!(fe(v)||jt(v)));E++){const A=ob(e,t,p,s,_);A!==t&&(v=A)}return[v,p,h]}function AO(e,t,n,r,o,s){const{messageCompiler:u,warnHtmlMessage:c}=e;if(ei(r)){const d=r;return d.locale=d.locale||n,d.key=d.key||t,d}if(u==null){const d=()=>r;return d.locale=n,d.key=t,d}const f=u(r,zK(e,n,o,r,c,s));return f.locale=n,f.key=t,f.source=r,f}function GK(e,t,n){return t(n)}function Yv(...e){const[t,n,r]=e,o={};if(!fe(t)&&!Zt(t)&&!ei(t))throw da(ha.INVALID_ARGUMENT);const s=Zt(t)?String(t):(ei(t),t);return Zt(n)?o.plural=n:fe(n)?o.default=n:je(n)&&!Dd(n)?o.named=n:bt(n)&&(o.list=n),Zt(r)?o.plural=r:fe(r)?o.default=r:je(r)&&sn(o,r),[s,o]}function zK(e,t,n,r,o,s){return{warnHtmlMessage:o,onError:u=>{throw s&&s(u),u},onCacheKey:u=>jW(t,n,u)}}function XK(e,t,n,r){const{modifiers:o,pluralRules:s,messageResolver:u,fallbackLocale:c,fallbackWarn:f,missingWarn:d,fallbackContext:g}=e,p={locale:t,modifiers:o,pluralRules:s,messages:v=>{let _=u(n,v);if(_==null&&g){const[,,E]=SO(g,v,t,c,f,d);_=u(E,v)}if(fe(_)){let E=!1;const b=AO(e,v,t,_,v,()=>{E=!0});return E?JS:b}else return ei(_)?_:JS}};return e.processor&&(p.processor=e.processor),r.list&&(p.list=r.list),r.named&&(p.named=r.named),Zt(r.plural)&&(p.pluralIndex=r.plural),p}function e1(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:o,onWarn:s,localeFallbacker:u}=e,{__datetimeFormatters:c}=e,[f,d,g,h]=Qv(...t),p=Xe(g.missingWarn)?g.missingWarn:e.missingWarn;Xe(g.fallbackWarn)?g.fallbackWarn:e.fallbackWarn;const v=!!g.part,_=fe(g.locale)?g.locale:e.locale,E=u(e,o,_);if(!fe(f)||f==="")return new Intl.DateTimeFormat(_,h).format(d);let A={},b,k=null;const D="datetime format";for(let F=0;F<E.length&&(b=E[F],A=n[b]||{},k=A[f],!je(k));F++)ob(e,f,b,p,D);if(!je(k)||!fe(b))return r?Md:f;let R=`${b}__${f}`;Dd(h)||(R=`${R}__${JSON.stringify(h)}`);let M=c.get(R);return M||(M=new Intl.DateTimeFormat(b,sn({},k,h)),c.set(R,M)),v?M.formatToParts(d):M.format(d)}const kO=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Qv(...e){const[t,n,r,o]=e,s={};let u={},c;if(fe(t)){const f=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!f)throw da(ha.INVALID_ISO_DATE_ARGUMENT);const d=f[3]?f[3].trim().startsWith("T")?`${f[1].trim()}${f[3].trim()}`:`${f[1].trim()}T${f[3].trim()}`:f[1].trim();c=new Date(d);try{c.toISOString()}catch{throw da(ha.INVALID_ISO_DATE_ARGUMENT)}}else if(qW(t)){if(isNaN(t.getTime()))throw da(ha.INVALID_DATE_ARGUMENT);c=t}else if(Zt(t))c=t;else throw da(ha.INVALID_ARGUMENT);return fe(n)?s.key=n:je(n)&&Object.keys(n).forEach(f=>{kO.includes(f)?u[f]=n[f]:s[f]=n[f]}),fe(r)?s.locale=r:je(r)&&(u=r),je(o)&&(u=o),[s.key||"",c,s,u]}function t1(e,t,n){const r=e;for(const o in n){const s=`${t}__${o}`;r.__datetimeFormatters.has(s)&&r.__datetimeFormatters.delete(s)}}function n1(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:o,onWarn:s,localeFallbacker:u}=e,{__numberFormatters:c}=e,[f,d,g,h]=Jv(...t),p=Xe(g.missingWarn)?g.missingWarn:e.missingWarn;Xe(g.fallbackWarn)?g.fallbackWarn:e.fallbackWarn;const v=!!g.part,_=fe(g.locale)?g.locale:e.locale,E=u(e,o,_);if(!fe(f)||f==="")return new Intl.NumberFormat(_,h).format(d);let A={},b,k=null;const D="number format";for(let F=0;F<E.length&&(b=E[F],A=n[b]||{},k=A[f],!je(k));F++)ob(e,f,b,p,D);if(!je(k)||!fe(b))return r?Md:f;let R=`${b}__${f}`;Dd(h)||(R=`${R}__${JSON.stringify(h)}`);let M=c.get(R);return M||(M=new Intl.NumberFormat(b,sn({},k,h)),c.set(R,M)),v?M.formatToParts(d):M.format(d)}const NO=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Jv(...e){const[t,n,r,o]=e,s={};let u={};if(!Zt(t))throw da(ha.INVALID_ARGUMENT);const c=t;return fe(n)?s.key=n:je(n)&&Object.keys(n).forEach(f=>{NO.includes(f)?u[f]=n[f]:s[f]=n[f]}),fe(r)?s.locale=r:je(r)&&(u=r),je(o)&&(u=o),[s.key||"",c,s,u]}function r1(e,t,n){const r=e;for(const o in n){const s=`${t}__${o}`;r.__numberFormatters.has(s)&&r.__numberFormatters.delete(s)}}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(fc().__INTLIFY_PROD_DEVTOOLS__=!1);/*!
  * vue-i18n v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const YK="9.2.2";function QK(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(fc().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(fc().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(fc().__INTLIFY_PROD_DEVTOOLS__=!1)}let CO=tt.__EXTEND_POINT__;const $n=()=>++CO,Gt={UNEXPECTED_RETURN_TYPE:CO,INVALID_ARGUMENT:$n(),MUST_BE_CALL_SETUP_TOP:$n(),NOT_INSLALLED:$n(),NOT_AVAILABLE_IN_LEGACY_MODE:$n(),REQUIRED_VALUE:$n(),INVALID_VALUE:$n(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:$n(),NOT_INSLALLED_WITH_PROVIDE:$n(),UNEXPECTED_ERROR:$n(),NOT_COMPATIBLE_LEGACY_VUE_I18N:$n(),BRIDGE_SUPPORT_VUE_2_ONLY:$n(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:$n(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:$n(),__EXTEND_POINT__:$n()};function nn(e,...t){return Ld(e,null,void 0)}const Zv=To("__transrateVNode"),ey=To("__datetimeParts"),ty=To("__numberParts"),OO=To("__setPluralRules");To("__intlifyMeta");const RO=To("__injectWithOption");function ny(e){if(!wt(e))return e;for(const t in e)if(nb(e,t))if(!t.includes("."))wt(e[t])&&ny(e[t]);else{const n=t.split("."),r=n.length-1;let o=e;for(let s=0;s<r;s++)n[s]in o||(o[n[s]]={}),o=o[n[s]];o[n[r]]=e[t],delete e[t],wt(o[n[r]])&&ny(o[n[r]])}return e}function Fd(e,t){const{messages:n,__i18n:r,messageResolver:o,flatJson:s}=t,u=je(n)?n:bt(r)?{}:{[e]:{}};if(bt(r)&&r.forEach(c=>{if("locale"in c&&"resource"in c){const{locale:f,resource:d}=c;f?(u[f]=u[f]||{},hc(d,u[f])):hc(d,u)}else fe(c)&&hc(JSON.parse(c),u)}),o==null&&s)for(const c in u)nb(u,c)&&ny(u[c]);return u}const Ff=e=>!wt(e)||bt(e);function hc(e,t){if(Ff(e)||Ff(t))throw nn(Gt.INVALID_VALUE);for(const n in e)nb(e,n)&&(Ff(e[n])||Ff(t[n])?t[n]=e[n]:hc(e[n],t[n]))}function xO(e){return e.type}function PO(e,t,n){let r=wt(t.messages)?t.messages:{};"__i18nGlobal"in n&&(r=Fd(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const o=Object.keys(r);o.length&&o.forEach(s=>{e.mergeLocaleMessage(s,r[s])});{if(wt(t.datetimeFormats)){const s=Object.keys(t.datetimeFormats);s.length&&s.forEach(u=>{e.mergeDateTimeFormat(u,t.datetimeFormats[u])})}if(wt(t.numberFormats)){const s=Object.keys(t.numberFormats);s.length&&s.forEach(u=>{e.mergeNumberFormat(u,t.numberFormats[u])})}}}function i1(e){return xe(Wc,null,e,0)}const o1="__INTLIFY_META__";let s1=0;function a1(e){return(t,n,r,o)=>e(n,r,Ai()||void 0,o)}const JK=()=>{const e=Ai();let t=null;return e&&(t=xO(e)[o1])?{[o1]:t}:null};function sb(e={},t){const{__root:n}=e,r=n===void 0;let o=Xe(e.inheritLocale)?e.inheritLocale:!0;const s=Ct(n&&o?n.locale.value:fe(e.locale)?e.locale:pl),u=Ct(n&&o?n.fallbackLocale.value:fe(e.fallbackLocale)||bt(e.fallbackLocale)||je(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:s.value),c=Ct(Fd(s.value,e)),f=Ct(je(e.datetimeFormats)?e.datetimeFormats:{[s.value]:{}}),d=Ct(je(e.numberFormats)?e.numberFormats:{[s.value]:{}});let g=n?n.missingWarn:Xe(e.missingWarn)||go(e.missingWarn)?e.missingWarn:!0,h=n?n.fallbackWarn:Xe(e.fallbackWarn)||go(e.fallbackWarn)?e.fallbackWarn:!0,p=n?n.fallbackRoot:Xe(e.fallbackRoot)?e.fallbackRoot:!0,v=!!e.fallbackFormat,_=jt(e.missing)?e.missing:null,E=jt(e.missing)?a1(e.missing):null,A=jt(e.postTranslation)?e.postTranslation:null,b=n?n.warnHtmlMessage:Xe(e.warnHtmlMessage)?e.warnHtmlMessage:!0,k=!!e.escapeParameter;const D=n?n.modifiers:je(e.modifiers)?e.modifiers:{};let R=e.pluralRules||n&&n.pluralRules,M;M=(()=>{r&&XS(null);const N={version:YK,locale:s.value,fallbackLocale:u.value,messages:c.value,modifiers:D,pluralRules:R,missing:E===null?void 0:E,missingWarn:g,fallbackWarn:h,fallbackFormat:v,unresolving:!0,postTranslation:A===null?void 0:A,warnHtmlMessage:b,escapeParameter:k,messageResolver:e.messageResolver,__meta:{framework:"vue"}};N.datetimeFormats=f.value,N.numberFormats=d.value,N.__datetimeFormatters=je(M)?M.__datetimeFormatters:void 0,N.__numberFormatters=je(M)?M.__numberFormatters:void 0;const C=$K(N);return r&&XS(C),C})(),Xu(M,s.value,u.value);function K(){return[s.value,u.value,c.value,f.value,d.value]}const V=Pe({get:()=>s.value,set:N=>{s.value=N,M.locale=s.value}}),q=Pe({get:()=>u.value,set:N=>{u.value=N,M.fallbackLocale=u.value,Xu(M,s.value,N)}}),L=Pe(()=>c.value),we=Pe(()=>f.value),se=Pe(()=>d.value);function be(){return jt(A)?A:null}function Se(N){A=N,M.postTranslation=N}function Ue(){return _}function he(N){N!==null&&(E=a1(N)),_=N,M.missing=E}const Ee=(N,C,j,Z,me,ie)=>{K();let de;if(__INTLIFY_PROD_DEVTOOLS__)try{zS(JK()),r||(M.fallbackContext=n?qK():void 0),de=N(M)}finally{zS(null),r||(M.fallbackContext=void 0)}else de=N(M);if(Zt(de)&&de===Md){const[Ne,Be]=C();return n&&p?Z(n):me(Ne)}else{if(ie(de))return de;throw nn(Gt.UNEXPECTED_RETURN_TYPE)}};function ve(...N){return Ee(C=>Reflect.apply(ZS,null,[C,...N]),()=>Yv(...N),"translate",C=>Reflect.apply(C.t,C,[...N]),C=>C,C=>fe(C))}function ot(...N){const[C,j,Z]=N;if(Z&&!wt(Z))throw nn(Gt.INVALID_ARGUMENT);return ve(C,j,sn({resolvedMessage:!0},Z||{}))}function lt(...N){return Ee(C=>Reflect.apply(e1,null,[C,...N]),()=>Qv(...N),"datetime format",C=>Reflect.apply(C.d,C,[...N]),()=>KS,C=>fe(C))}function yt(...N){return Ee(C=>Reflect.apply(n1,null,[C,...N]),()=>Jv(...N),"number format",C=>Reflect.apply(C.n,C,[...N]),()=>KS,C=>fe(C))}function vt(N){return N.map(C=>fe(C)||Zt(C)||Xe(C)?i1(String(C)):C)}const ht={normalize:vt,interpolate:N=>N,type:"vnode"};function le(...N){return Ee(C=>{let j;const Z=C;try{Z.processor=ht,j=Reflect.apply(ZS,null,[Z,...N])}finally{Z.processor=null}return j},()=>Yv(...N),"translate",C=>C[Zv](...N),C=>[i1(C)],C=>bt(C))}function Ie(...N){return Ee(C=>Reflect.apply(n1,null,[C,...N]),()=>Jv(...N),"number format",C=>C[ty](...N),()=>[],C=>fe(C)||bt(C))}function $(...N){return Ee(C=>Reflect.apply(e1,null,[C,...N]),()=>Qv(...N),"datetime format",C=>C[ey](...N),()=>[],C=>fe(C)||bt(C))}function z(N){R=N,M.pluralRules=R}function re(N,C){const j=fe(C)?C:s.value,Z=P(j);return M.messageResolver(Z,N)!==null}function ce(N){let C=null;const j=yO(M,u.value,s.value);for(let Z=0;Z<j.length;Z++){const me=c.value[j[Z]]||{},ie=M.messageResolver(me,N);if(ie!=null){C=ie;break}}return C}function ke(N){const C=ce(N);return C??(n?n.tm(N)||{}:{})}function P(N){return c.value[N]||{}}function T(N,C){c.value[N]=C,M.messages=c.value}function I(N,C){c.value[N]=c.value[N]||{},hc(C,c.value[N]),M.messages=c.value}function O(N){return f.value[N]||{}}function U(N,C){f.value[N]=C,M.datetimeFormats=f.value,t1(M,N,C)}function B(N,C){f.value[N]=sn(f.value[N]||{},C),M.datetimeFormats=f.value,t1(M,N,C)}function J(N){return d.value[N]||{}}function ne(N,C){d.value[N]=C,M.numberFormats=d.value,r1(M,N,C)}function ae(N,C){d.value[N]=sn(d.value[N]||{},C),M.numberFormats=d.value,r1(M,N,C)}s1++,n&&zv&&(wn(n.locale,N=>{o&&(s.value=N,M.locale=N,Xu(M,s.value,u.value))}),wn(n.fallbackLocale,N=>{o&&(u.value=N,M.fallbackLocale=N,Xu(M,s.value,u.value))}));const X={id:s1,locale:V,fallbackLocale:q,get inheritLocale(){return o},set inheritLocale(N){o=N,N&&n&&(s.value=n.locale.value,u.value=n.fallbackLocale.value,Xu(M,s.value,u.value))},get availableLocales(){return Object.keys(c.value).sort()},messages:L,get modifiers(){return D},get pluralRules(){return R||{}},get isGlobal(){return r},get missingWarn(){return g},set missingWarn(N){g=N,M.missingWarn=g},get fallbackWarn(){return h},set fallbackWarn(N){h=N,M.fallbackWarn=h},get fallbackRoot(){return p},set fallbackRoot(N){p=N},get fallbackFormat(){return v},set fallbackFormat(N){v=N,M.fallbackFormat=v},get warnHtmlMessage(){return b},set warnHtmlMessage(N){b=N,M.warnHtmlMessage=N},get escapeParameter(){return k},set escapeParameter(N){k=N,M.escapeParameter=N},t:ve,getLocaleMessage:P,setLocaleMessage:T,mergeLocaleMessage:I,getPostTranslationHandler:be,setPostTranslationHandler:Se,getMissingHandler:Ue,setMissingHandler:he,[OO]:z};return X.datetimeFormats=we,X.numberFormats=se,X.rt=ot,X.te=re,X.tm=ke,X.d=lt,X.n=yt,X.getDateTimeFormat=O,X.setDateTimeFormat=U,X.mergeDateTimeFormat=B,X.getNumberFormat=J,X.setNumberFormat=ne,X.mergeNumberFormat=ae,X[RO]=e.__injectWithOption,X[Zv]=le,X[ey]=$,X[ty]=Ie,X}function ZK(e){const t=fe(e.locale)?e.locale:pl,n=fe(e.fallbackLocale)||bt(e.fallbackLocale)||je(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=jt(e.missing)?e.missing:void 0,o=Xe(e.silentTranslationWarn)||go(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,s=Xe(e.silentFallbackWarn)||go(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,u=Xe(e.fallbackRoot)?e.fallbackRoot:!0,c=!!e.formatFallbackMessages,f=je(e.modifiers)?e.modifiers:{},d=e.pluralizationRules,g=jt(e.postTranslation)?e.postTranslation:void 0,h=fe(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,p=!!e.escapeParameterHtml,v=Xe(e.sync)?e.sync:!0;let _=e.messages;if(je(e.sharedMessages)){const M=e.sharedMessages;_=Object.keys(M).reduce((K,V)=>{const q=K[V]||(K[V]={});return sn(q,M[V]),K},_||{})}const{__i18n:E,__root:A,__injectWithOption:b}=e,k=e.datetimeFormats,D=e.numberFormats,R=e.flatJson;return{locale:t,fallbackLocale:n,messages:_,flatJson:R,datetimeFormats:k,numberFormats:D,missing:r,missingWarn:o,fallbackWarn:s,fallbackRoot:u,fallbackFormat:c,modifiers:f,pluralRules:d,postTranslation:g,warnHtmlMessage:h,escapeParameter:p,messageResolver:e.messageResolver,inheritLocale:v,__i18n:E,__root:A,__injectWithOption:b}}function ry(e={},t){{const n=sb(ZK(e)),r={id:n.id,get locale(){return n.locale.value},set locale(o){n.locale.value=o},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(o){n.fallbackLocale.value=o},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(o){},get missing(){return n.getMissingHandler()},set missing(o){n.setMissingHandler(o)},get silentTranslationWarn(){return Xe(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(o){n.missingWarn=Xe(o)?!o:o},get silentFallbackWarn(){return Xe(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(o){n.fallbackWarn=Xe(o)?!o:o},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(o){n.fallbackFormat=o},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(o){n.setPostTranslationHandler(o)},get sync(){return n.inheritLocale},set sync(o){n.inheritLocale=o},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(o){n.warnHtmlMessage=o!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(o){n.escapeParameter=o},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(o){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...o){const[s,u,c]=o,f={};let d=null,g=null;if(!fe(s))throw nn(Gt.INVALID_ARGUMENT);const h=s;return fe(u)?f.locale=u:bt(u)?d=u:je(u)&&(g=u),bt(c)?d=c:je(c)&&(g=c),Reflect.apply(n.t,n,[h,d||g||{},f])},rt(...o){return Reflect.apply(n.rt,n,[...o])},tc(...o){const[s,u,c]=o,f={plural:1};let d=null,g=null;if(!fe(s))throw nn(Gt.INVALID_ARGUMENT);const h=s;return fe(u)?f.locale=u:Zt(u)?f.plural=u:bt(u)?d=u:je(u)&&(g=u),fe(c)?f.locale=c:bt(c)?d=c:je(c)&&(g=c),Reflect.apply(n.t,n,[h,d||g||{},f])},te(o,s){return n.te(o,s)},tm(o){return n.tm(o)},getLocaleMessage(o){return n.getLocaleMessage(o)},setLocaleMessage(o,s){n.setLocaleMessage(o,s)},mergeLocaleMessage(o,s){n.mergeLocaleMessage(o,s)},d(...o){return Reflect.apply(n.d,n,[...o])},getDateTimeFormat(o){return n.getDateTimeFormat(o)},setDateTimeFormat(o,s){n.setDateTimeFormat(o,s)},mergeDateTimeFormat(o,s){n.mergeDateTimeFormat(o,s)},n(...o){return Reflect.apply(n.n,n,[...o])},getNumberFormat(o){return n.getNumberFormat(o)},setNumberFormat(o,s){n.setNumberFormat(o,s)},mergeNumberFormat(o,s){n.mergeNumberFormat(o,s)},getChoiceIndex(o,s){return-1},__onComponentInstanceCreated(o){const{componentInstanceCreatedListener:s}=e;s&&s(o,r)}};return r}}const ab={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function eG({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,o)=>r=[...r,...bt(o.children)?o.children:[o]],[]):t.reduce((n,r)=>{const o=e[r];return o&&(n[r]=o()),n},{})}function DO(e){return Wt}const u1={name:"i18n-t",props:sn({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Zt(e)||!isNaN(e)}},ab),setup(e,t){const{slots:n,attrs:r}=t,o=e.i18n||ub({useScope:e.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(h=>h!=="_"),u={};e.locale&&(u.locale=e.locale),e.plural!==void 0&&(u.plural=fe(e.plural)?+e.plural:e.plural);const c=eG(t,s),f=o[Zv](e.keypath,c,u),d=sn({},r),g=fe(e.tag)||wt(e.tag)?e.tag:DO();return ki(g,d,f)}}};function tG(e){return bt(e)&&!fe(e[0])}function LO(e,t,n,r){const{slots:o,attrs:s}=t;return()=>{const u={part:!0};let c={};e.locale&&(u.locale=e.locale),fe(e.format)?u.key=e.format:wt(e.format)&&(fe(e.format.key)&&(u.key=e.format.key),c=Object.keys(e.format).reduce((p,v)=>n.includes(v)?sn({},p,{[v]:e.format[v]}):p,{}));const f=r(e.value,u,c);let d=[u.key];bt(f)?d=f.map((p,v)=>{const _=o[p.type],E=_?_({[p.type]:p.value,index:v,parts:f}):[p.value];return tG(E)&&(E[0].key=`${p.type}-${v}`),E}):fe(f)&&(d=[f]);const g=sn({},s),h=fe(e.tag)||wt(e.tag)?e.tag:DO();return ki(h,g,d)}}const c1={name:"i18n-n",props:sn({value:{type:Number,required:!0},format:{type:[String,Object]}},ab),setup(e,t){const n=e.i18n||ub({useScope:"parent",__useComponent:!0});return LO(e,t,NO,(...r)=>n[ty](...r))}},l1={name:"i18n-d",props:sn({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},ab),setup(e,t){const n=e.i18n||ub({useScope:"parent",__useComponent:!0});return LO(e,t,kO,(...r)=>n[ey](...r))}};function nG(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function rG(e){const t=u=>{const{instance:c,modifiers:f,value:d}=u;if(!c||!c.$)throw nn(Gt.UNEXPECTED_ERROR);const g=nG(e,c.$),h=f1(d);return[Reflect.apply(g.t,g,[...h1(h)]),g]};return{created:(u,c)=>{const[f,d]=t(c);zv&&e.global===d&&(u.__i18nWatcher=wn(d.locale,()=>{c.instance&&c.instance.$forceUpdate()})),u.__composer=d,u.textContent=f},unmounted:u=>{zv&&u.__i18nWatcher&&(u.__i18nWatcher(),u.__i18nWatcher=void 0,delete u.__i18nWatcher),u.__composer&&(u.__composer=void 0,delete u.__composer)},beforeUpdate:(u,{value:c})=>{if(u.__composer){const f=u.__composer,d=f1(c);u.textContent=Reflect.apply(f.t,f,[...h1(d)])}},getSSRProps:u=>{const[c]=t(u);return{textContent:c}}}}function f1(e){if(fe(e))return{path:e};if(je(e)){if(!("path"in e))throw nn(Gt.REQUIRED_VALUE,"path");return e}else throw nn(Gt.INVALID_VALUE)}function h1(e){const{path:t,locale:n,args:r,choice:o,plural:s}=e,u={},c=r||{};return fe(n)&&(u.locale=n),Zt(o)&&(u.plural=o),Zt(s)&&(u.plural=s),[t,c,u]}function iG(e,t,...n){const r=je(n[0])?n[0]:{},o=!!r.useI18nComponentName;(Xe(r.globalInstall)?r.globalInstall:!0)&&(e.component(o?"i18n":u1.name,u1),e.component(c1.name,c1),e.component(l1.name,l1)),e.directive("t",rG(t))}function oG(e,t,n){return{beforeCreate(){const r=Ai();if(!r)throw nn(Gt.UNEXPECTED_ERROR);const o=this.$options;if(o.i18n){const s=o.i18n;o.__i18n&&(s.__i18n=o.__i18n),s.__root=t,this===this.$root?this.$i18n=d1(e,s):(s.__injectWithOption=!0,this.$i18n=ry(s))}else o.__i18n?this===this.$root?this.$i18n=d1(e,o):this.$i18n=ry({__i18n:o.__i18n,__injectWithOption:!0,__root:t}):this.$i18n=e;o.__i18nGlobal&&PO(t,o,o),e.__onComponentInstanceCreated(this.$i18n),n.__setInstance(r,this.$i18n),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,u)=>this.$i18n.te(s,u),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s)},mounted(){},unmounted(){const r=Ai();if(!r)throw nn(Gt.UNEXPECTED_ERROR);delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,n.__deleteInstance(r),delete this.$i18n}}}function d1(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[OO](t.pluralizationRules||e.pluralizationRules);const n=Fd(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(r=>e.mergeLocaleMessage(r,n[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const sG=To("global-vue-i18n");function aG(e={},t){const n=__VUE_I18N_LEGACY_API__&&Xe(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=Xe(e.globalInjection)?e.globalInjection:!0,o=__VUE_I18N_LEGACY_API__&&n?!!e.allowComposition:!0,s=new Map,[u,c]=uG(e,n),f=To("");function d(p){return s.get(p)||null}function g(p,v){s.set(p,v)}function h(p){s.delete(p)}{const p={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return o},async install(v,..._){v.__VUE_I18N_SYMBOL__=f,v.provide(v.__VUE_I18N_SYMBOL__,p),!n&&r&&vG(v,p.global),__VUE_I18N_FULL_INSTALL__&&iG(v,p,..._),__VUE_I18N_LEGACY_API__&&n&&v.mixin(oG(c,c.__composer,p));const E=v.unmount;v.unmount=()=>{p.dispose(),E()}},get global(){return c},dispose(){u.stop()},__instances:s,__getInstance:d,__setInstance:g,__deleteInstance:h};return p}}function ub(e={}){const t=Ai();if(t==null)throw nn(Gt.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw nn(Gt.NOT_INSLALLED);const n=cG(t),r=fG(n),o=xO(t),s=lG(e,o);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!e.__useComponent){if(!n.allowComposition)throw nn(Gt.NOT_AVAILABLE_IN_LEGACY_MODE);return pG(t,s,r,e)}if(s==="global")return PO(r,e,o),r;if(s==="parent"){let f=hG(n,t,e.__useComponent);return f==null&&(f=r),f}const u=n;let c=u.__getInstance(t);if(c==null){const f=sn({},e);"__i18n"in o&&(f.__i18n=o.__i18n),r&&(f.__root=r),c=sb(f),dG(u,t),u.__setInstance(t,c)}return c}function uG(e,t,n){const r=uy();{const o=__VUE_I18N_LEGACY_API__&&t?r.run(()=>ry(e)):r.run(()=>sb(e));if(o==null)throw nn(Gt.UNEXPECTED_ERROR);return[r,o]}}function cG(e){{const t=cr(e.isCE?sG:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw nn(e.isCE?Gt.NOT_INSLALLED_WITH_PROVIDE:Gt.UNEXPECTED_ERROR);return t}}function lG(e,t){return Dd(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function fG(e){return e.mode==="composition"?e.global:e.global.__composer}function hG(e,t,n=!1){let r=null;const o=t.root;let s=t.parent;for(;s!=null;){const u=e;if(e.mode==="composition")r=u.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const c=u.__getInstance(s);c!=null&&(r=c.__composer,n&&r&&!r[RO]&&(r=null))}if(r!=null||o===s)break;s=s.parent}return r}function dG(e,t,n){$c(()=>{},t),wy(()=>{e.__deleteInstance(t)},t)}function pG(e,t,n,r={}){const o=t==="local",s=gy(null);if(o&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw nn(Gt.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const u=Xe(r.inheritLocale)?r.inheritLocale:!0,c=Ct(o&&u?n.locale.value:fe(r.locale)?r.locale:pl),f=Ct(o&&u?n.fallbackLocale.value:fe(r.fallbackLocale)||bt(r.fallbackLocale)||je(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:c.value),d=Ct(Fd(c.value,r)),g=Ct(je(r.datetimeFormats)?r.datetimeFormats:{[c.value]:{}}),h=Ct(je(r.numberFormats)?r.numberFormats:{[c.value]:{}}),p=o?n.missingWarn:Xe(r.missingWarn)||go(r.missingWarn)?r.missingWarn:!0,v=o?n.fallbackWarn:Xe(r.fallbackWarn)||go(r.fallbackWarn)?r.fallbackWarn:!0,_=o?n.fallbackRoot:Xe(r.fallbackRoot)?r.fallbackRoot:!0,E=!!r.fallbackFormat,A=jt(r.missing)?r.missing:null,b=jt(r.postTranslation)?r.postTranslation:null,k=o?n.warnHtmlMessage:Xe(r.warnHtmlMessage)?r.warnHtmlMessage:!0,D=!!r.escapeParameter,R=o?n.modifiers:je(r.modifiers)?r.modifiers:{},M=r.pluralRules||o&&n.pluralRules;function F(){return[c.value,f.value,d.value,g.value,h.value]}const K=Pe({get:()=>s.value?s.value.locale.value:c.value,set:I=>{s.value&&(s.value.locale.value=I),c.value=I}}),V=Pe({get:()=>s.value?s.value.fallbackLocale.value:f.value,set:I=>{s.value&&(s.value.fallbackLocale.value=I),f.value=I}}),q=Pe(()=>s.value?s.value.messages.value:d.value),L=Pe(()=>g.value),we=Pe(()=>h.value);function se(){return s.value?s.value.getPostTranslationHandler():b}function be(I){s.value&&s.value.setPostTranslationHandler(I)}function Se(){return s.value?s.value.getMissingHandler():A}function Ue(I){s.value&&s.value.setMissingHandler(I)}function he(I){return F(),I()}function Ee(...I){return s.value?he(()=>Reflect.apply(s.value.t,null,[...I])):he(()=>"")}function ve(...I){return s.value?Reflect.apply(s.value.rt,null,[...I]):""}function ot(...I){return s.value?he(()=>Reflect.apply(s.value.d,null,[...I])):he(()=>"")}function lt(...I){return s.value?he(()=>Reflect.apply(s.value.n,null,[...I])):he(()=>"")}function yt(I){return s.value?s.value.tm(I):{}}function vt(I,O){return s.value?s.value.te(I,O):!1}function ft(I){return s.value?s.value.getLocaleMessage(I):{}}function ht(I,O){s.value&&(s.value.setLocaleMessage(I,O),d.value[I]=O)}function le(I,O){s.value&&s.value.mergeLocaleMessage(I,O)}function Ie(I){return s.value?s.value.getDateTimeFormat(I):{}}function $(I,O){s.value&&(s.value.setDateTimeFormat(I,O),g.value[I]=O)}function z(I,O){s.value&&s.value.mergeDateTimeFormat(I,O)}function re(I){return s.value?s.value.getNumberFormat(I):{}}function ce(I,O){s.value&&(s.value.setNumberFormat(I,O),h.value[I]=O)}function ke(I,O){s.value&&s.value.mergeNumberFormat(I,O)}const P={get id(){return s.value?s.value.id:-1},locale:K,fallbackLocale:V,messages:q,datetimeFormats:L,numberFormats:we,get inheritLocale(){return s.value?s.value.inheritLocale:u},set inheritLocale(I){s.value&&(s.value.inheritLocale=I)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(d.value)},get modifiers(){return s.value?s.value.modifiers:R},get pluralRules(){return s.value?s.value.pluralRules:M},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:p},set missingWarn(I){s.value&&(s.value.missingWarn=I)},get fallbackWarn(){return s.value?s.value.fallbackWarn:v},set fallbackWarn(I){s.value&&(s.value.missingWarn=I)},get fallbackRoot(){return s.value?s.value.fallbackRoot:_},set fallbackRoot(I){s.value&&(s.value.fallbackRoot=I)},get fallbackFormat(){return s.value?s.value.fallbackFormat:E},set fallbackFormat(I){s.value&&(s.value.fallbackFormat=I)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:k},set warnHtmlMessage(I){s.value&&(s.value.warnHtmlMessage=I)},get escapeParameter(){return s.value?s.value.escapeParameter:D},set escapeParameter(I){s.value&&(s.value.escapeParameter=I)},t:Ee,getPostTranslationHandler:se,setPostTranslationHandler:be,getMissingHandler:Se,setMissingHandler:Ue,rt:ve,d:ot,n:lt,tm:yt,te:vt,getLocaleMessage:ft,setLocaleMessage:ht,mergeLocaleMessage:le,getDateTimeFormat:Ie,setDateTimeFormat:$,mergeDateTimeFormat:z,getNumberFormat:re,setNumberFormat:ce,mergeNumberFormat:ke};function T(I){I.locale.value=c.value,I.fallbackLocale.value=f.value,Object.keys(d.value).forEach(O=>{I.mergeLocaleMessage(O,d.value[O])}),Object.keys(g.value).forEach(O=>{I.mergeDateTimeFormat(O,g.value[O])}),Object.keys(h.value).forEach(O=>{I.mergeNumberFormat(O,h.value[O])}),I.escapeParameter=D,I.fallbackFormat=E,I.fallbackRoot=_,I.fallbackWarn=v,I.missingWarn=p,I.warnHtmlMessage=k}return Y1(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw nn(Gt.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const I=s.value=e.proxy.$i18n.__composer;t==="global"?(c.value=I.locale.value,f.value=I.fallbackLocale.value,d.value=I.messages.value,g.value=I.datetimeFormats.value,h.value=I.numberFormats.value):o&&T(I)}),P}const mG=["locale","fallbackLocale","availableLocales"],gG=["t","rt","d","n","tm"];function vG(e,t){const n=Object.create(null);mG.forEach(r=>{const o=Object.getOwnPropertyDescriptor(t,r);if(!o)throw nn(Gt.UNEXPECTED_ERROR);const s=pt(o.value)?{get(){return o.value.value},set(u){o.value.value=u}}:{get(){return o.get&&o.get()}};Object.defineProperty(n,r,s)}),e.config.globalProperties.$i18n=n,gG.forEach(r=>{const o=Object.getOwnPropertyDescriptor(t,r);if(!o||!o.value)throw nn(Gt.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${r}`,o)})}UK(WK);VK(bK);jK(yO);QK();if(__INTLIFY_PROD_DEVTOOLS__){const e=fc();e.__INTLIFY__=!0,CK(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const yG={listen:"Listen to Great Music!"},_G={comment_count:"No comments | 1 comment | {count} comments"},bG={accept:"I accept the {0}",tos:"terms of service"},wG={my_songs:"My Songs"},EG={home:yG,song:_G,register:bG,manage:wG},IG={listen:"Luister na goeie musiek!"},TG={my_songs:"My liedjies"},SG={home:IG,manage:TG},AG=aG({locale:"af",fallbackLocale:"en",messages:{en:EG,af:SG},numberFormats:{en:{currency:{style:"currency",currency:"USD"}},af:{currency:{style:"currency",currency:"ZAR"}}}});let zi;oi.onAuthStateChanged(()=>{zi||(zi=oF(X$),zi.use(uF()),zi.use(XC),zi.use(FW),zi.use(AG),zi.directive("icon",UW),zi.mount("#app"))});
